  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4594616852625822750);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160711160602)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160711160602"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-11 16:08:26 UTC], ["updated_at", 2016-07-11 16:08:26 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4594616852625822750)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4594616852625822750);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4594616852625822750)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (116.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "chat-kenk11_development"[0m
  [1m[35m (121.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "chat-kenk11_test"[0m
  [1m[35m (306.3ms)[0m  [1m[35mCREATE DATABASE "chat-kenk11_development" ENCODING = 'unicode'[0m
  [1m[35m (304.4ms)[0m  [1m[35mCREATE DATABASE "chat-kenk11_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160711160602')[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-11 16:09:11 UTC], ["updated_at", 2016-07-11 16:09:11 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160711160602')[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-11 16:09:11 UTC], ["updated_at", 2016-07-11 16:09:11 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (120.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "chat-kenk11_development"[0m
  [1m[35m (124.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "chat-kenk11_test"[0m
  [1m[35m (261.9ms)[0m  [1m[35mCREATE DATABASE "chat-kenk11_development" ENCODING = 'unicode'[0m
  [1m[35m (242.4ms)[0m  [1m[35mCREATE DATABASE "chat-kenk11_test" ENCODING = 'unicode'[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4594616852625822750);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160711160602)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160711160602"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-11 16:09:30 UTC], ["updated_at", 2016-07-11 16:09:30 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4594616852625822750)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for 127.0.0.1 at 2016-07-15 10:03:54 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3455ms (Views: 3445.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:04:53 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 119ms (Views: 117.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2016-07-15 10:04:55 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (107.6ms)
Completed 200 OK in 264ms (Views: 186.0ms | ActiveRecord: 13.7ms)


Started GET "/users/new" for 127.0.0.1 at 2016-07-15 10:06:28 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (36.5ms)
Completed 200 OK in 198ms (Views: 196.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 10:06:46 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K1txzPH6mIRKKcOcG6WBwy4O6tVTFMOQBHTyuioZpxYLx03IfeAD0AwQzeefIKSk4M5vLFgg6BSyZSPuXZq93A==", "user"=>{"name"=>"dasdasd", "email"=>"dasdad", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'password' for User.):
  
app/controllers/users_controller.rb:7:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (47.3ms)
Started POST "/users" for 127.0.0.1 at 2016-07-15 10:07:07 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K1txzPH6mIRKKcOcG6WBwy4O6tVTFMOQBHTyuioZpxYLx03IfeAD0AwQzeefIKSk4M5vLFgg6BSyZSPuXZq93A==", "user"=>{"name"=>"dasdasd", "email"=>"dasdad", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "dasdasd"], ["email", "dasdad"], ["password_digest", "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCPuGMw9TyY2u"], ["created_at", 2016-07-15 03:07:07 UTC], ["updated_at", 2016-07-15 03:07:07 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:07:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 83ms (Views: 82.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/" for 127.0.0.1 at 2016-07-15 10:19:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 280ms (Views: 279.1ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2016-07-15 10:19:35 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (40.3ms)
Completed 200 OK in 172ms (Views: 134.2ms | ActiveRecord: 11.0ms)


Started GET "/users/new" for 127.0.0.1 at 2016-07-15 10:19:44 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (24.2ms)
Completed 200 OK in 163ms (Views: 162.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:20:11 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 107ms (Views: 105.9ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:20:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 137ms (Views: 136.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2016-07-15 10:20:18 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 187ms (Views: 185.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 10:20:26 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CaEzdc5nxDq6fXbDnICphziC3WChfyNgfJ36SMEBuJ0ycgIryvuaQZVNIIFMtfYv436kVWen7sNzJDsi9KaEWA==", "user"=>{"name"=>"ken", "email"=>"ken@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "ken"], ["email", "ken@mail.com"], ["password_digest", "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw07LxiGvp1q"], ["created_at", 2016-07-15 03:20:26 UTC], ["updated_at", 2016-07-15 03:20:26 UTC]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 169ms (ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:20:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 93ms (Views: 91.8ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:20:27 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 236ms (Views: 235.5ms | ActiveRecord: 0.0ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-15 10:21:14 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (15.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (72.9ms)
Started GET "/rails/info" for 127.0.0.1 at 2016-07-15 10:24:21 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::InfoController#index as HTML
  Parameters: {"internal"=>true}
Redirected to http://localhost:3000/rails/info/routes
Completed 302 Found in 22ms (ActiveRecord: 0.0ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-15 10:24:21 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (5.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (17.9ms)
Completed 200 OK in 39ms (Views: 34.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:24:27 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 580ms (Views: 578.2ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:24:29 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (153.5ms)
Completed 200 OK in 230ms (Views: 228.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-15 10:24:35 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (5.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (50.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 10:25:12 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 69ms (Views: 64.1ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:25:14 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (19.6ms)
Completed 200 OK in 125ms (Views: 124.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-15 10:25:18 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (10.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (72.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 10:28:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 113ms (Views: 112.0ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:28:51 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (31.0ms)
Completed 200 OK in 163ms (Views: 161.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-15 10:28:54 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (5.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (111.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 10:30:12 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 127ms (Views: 124.9ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:30:13 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 134ms (Views: 133.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 10:30:16 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mmxS819K1K+8U4MwIslaSJ/XJ6fdt7sVQvlZzC9sxgNkOwQYdEgx/BqlcG/5BdJUkybcCJQXPIUyxBDdSoP4Nw==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 177ms (ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:30:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 71ms (Views: 59.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:31:21 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 106ms (Views: 104.7ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:31:22 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 138ms (Views: 137.5ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:33:35 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (34.8ms)
Completed 200 OK in 108ms (Views: 107.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:46:42 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 175ms (Views: 172.2ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 10:46:49 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 144ms (Views: 143.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 10:46:52 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XqpDj3jU+lR0qJsGbIgFjnvAknBBk0M5RnceObNbQTmg/RVkU9YfB9JeaFm3RI2SdzFp3wgzxKk2Slco1rR/DQ==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 10:46:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 92ms (Views: 91.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:00:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 146ms (Views: 139.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:03:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 311ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `active' for #<#<Class:0xbf61778>:0xbec9b94>
Did you mean?  acts_like?):
    12: <nav class="navbar navbar-light bg-faded">
    13:   <%= link_to 'Chat KenK11', root_path, class: 'navbar-brand' %>
    14:   <ul class="nav navbar-nav">
    15:     <li class="nav-item <%= active if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-item ' %>
    17:     </li>
    18:     <li class="nav-item <%= active if current_page? register_path %>">
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___628303866_100024370'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:04:04 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 101ms (Views: 95.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:04:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 145ms (Views: 143.6ms | ActiveRecord: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 11:04:46 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (29.7ms)
Completed 200 OK in 184ms (Views: 183.0ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 11:04:47 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 101ms (Views: 100.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:04:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 162ms (Views: 161.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:04:50 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 124ms (Views: 123.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:04:58 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 64ms (Views: 63.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:07:19 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (22.2ms)
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"."name" = $2 AND "id"."email" = $3 AND "id"."password_digest" = $4 AND "id"."created_at" = $5 AND "id"."updated_at" = $6 LIMIT $7[0m  [["id", 2], ["name", "ken"], ["email", "ken@mail.com"], ["password_digest", "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw07LxiGvp1q"], ["created_at", "2016-07-15T03:20:26.315Z"], ["updated_at", "2016-07-15T03:20:26.315Z"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 112ms (ActiveRecord: 4.9ms)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "id"
LINE 1: SELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"...
                                             ^
: SELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"."name" = $2 AND "id"."email" = $3 AND "id"."password_digest" = $4 AND "id"."created_at" = $5 AND "id"."updated_at" = $6 LIMIT $7):
    15:     <li class="nav-item <%= 'active' if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-link' %>
    17:     </li>
    18:     <% if signed_in? %>
    19:         <li class="nav-item <%= 'active' if current_page? register_path %>">
    20:           <%= link_to 'Register', register_path, class: 'nav-link' %>
    21:         </li>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:10:in `signed_in?'
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb___628303866__648623828'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.1ms)
Started PUT "/__web_console/repl_sessions/94ee6624c81fb25441aad251de11394c" for 127.0.0.1 at 2016-07-15 11:08:05 +0700
Started GET "/" for 127.0.0.1 at 2016-07-15 11:08:36 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 180ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for #<Hash:0xaf85c28>):
    15:     <li class="nav-item <%= 'active' if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-link' %>
    17:     </li>
    18:     <% if signed_in? %>
    19:         <li class="nav-item <%= 'active' if current_page? register_path %>">
    20:           <%= link_to 'Register', register_path, class: 'nav-link' %>
    21:         </li>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:10:in `signed_in?'
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb___628303866_92521430'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (41.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:09:23 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for #<Hash:0xc58d14c>):
    24:         </li>
    25:         </ul>
    26:         <div class="form-inline pull-xs-right">
    27:           <p>Hello <%= current_user.name %></p>
    28:           <br>
    29:           <li class="nav-item %>">
    30:             <%= link_to 'Logout', logout_path, method: 'detele', class: 'nav-link' %>
  
app/views/layouts/application.html.erb:27:in `_app_views_layouts_application_html_erb___628303866_103894010'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:10:35 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for #<Hash:0xb3853410>):
    15:     <li class="nav-item <%= 'active' if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-link' %>
    17:     </li>
    18:     <% if signed_in? %>
    19:         <li class="nav-item <%= 'active' if current_page? register_path %>">
    20:           <%= link_to 'Register', register_path, class: 'nav-link' %>
    21:         </li>
  
app/controllers/application_controller.rb:7:in `current_user'
app/controllers/application_controller.rb:11:in `signed_in?'
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb___628303866_107772150'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:11:21 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for #<Hash:0xc332bcc>):
    15:     <li class="nav-item <%= 'active' if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-link' %>
    17:     </li>
    18:     <% if signed_in? %>
    19:         <li class="nav-item <%= 'active' if current_page? register_path %>">
    20:           <%= link_to 'Register', register_path, class: 'nav-link' %>
    21:         </li>
  
app/controllers/application_controller.rb:7:in `current_user'
app/controllers/application_controller.rb:11:in `signed_in?'
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb___628303866_102144720'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (32.8ms)
Started PUT "/__web_console/repl_sessions/9cc6588998a11c8caf1490bf8f0a55e6" for 127.0.0.1 at 2016-07-15 11:11:45 +0700
Started PUT "/__web_console/repl_sessions/9cc6588998a11c8caf1490bf8f0a55e6" for 127.0.0.1 at 2016-07-15 11:11:47 +0700
Started PUT "/__web_console/repl_sessions/9cc6588998a11c8caf1490bf8f0a55e6" for 127.0.0.1 at 2016-07-15 11:11:48 +0700
Started PUT "/__web_console/repl_sessions/9cc6588998a11c8caf1490bf8f0a55e6" for 127.0.0.1 at 2016-07-15 11:11:53 +0700
Started GET "/" for 127.0.0.1 at 2016-07-15 11:13:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"."name" = $2 AND "id"."email" = $3 AND "id"."password_digest" = $4 AND "id"."created_at" = $5 AND "id"."updated_at" = $6 LIMIT $7[0m  [["id", 2], ["name", "ken"], ["email", "ken@mail.com"], ["password_digest", "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw07LxiGvp1q"], ["created_at", "2016-07-15T03:20:26.315Z"], ["updated_at", "2016-07-15T03:20:26.315Z"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 134ms (ActiveRecord: 11.3ms)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "id"
LINE 1: SELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"...
                                             ^
: SELECT  "users".* FROM "users" WHERE "id"."id" = $1 AND "id"."name" = $2 AND "id"."email" = $3 AND "id"."password_digest" = $4 AND "id"."created_at" = $5 AND "id"."updated_at" = $6 LIMIT $7):
    15:     <li class="nav-item <%= 'active' if current_page? root_path %>">
    16:       <%= link_to 'Home', root_path, class: 'nav-link' %>
    17:     </li>
    18:     <% if signed_in? %>
    19:         <li class="nav-item <%= 'active' if current_page? register_path %>">
    20:           <%= link_to 'Register', register_path, class: 'nav-link' %>
    21:         </li>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:10:in `signed_in?'
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb___628303866__639622508'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:13:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 113.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:14:02 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/layouts/application.html.erb:23: syntax error, unexpected keyword_else
...ze;@output_buffer.append=( else );@output_buffer.safe_append...
...                               ^
/home/ken/github/chat-kenk11/app/views/layouts/application.html.erb:31: syntax error, unexpected keyword_end, expecting ')'
'.freeze;     end 
                 ^
/home/ken/github/chat-kenk11/app/views/layouts/application.html.erb:40: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/layouts/application.html.erb:42: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/application.html.erb:23: syntax error, unexpected keyword_else
app/views/layouts/application.html.erb:31: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:40: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/application.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (85.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:14:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 93ms (Views: 87.4ms | ActiveRecord: 5.0ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 11:14:28 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (23.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 171ms (Views: 154.9ms | ActiveRecord: 5.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 11:14:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 101.8ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 11:14:33 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eGrZfReBcVLCv1i2+N/qBQbez9OIqkuuMXRA8BidOKc27J8NjOFKPpqPYzQpZgNXc65Eq2UdwwVQFhlF17yaBQ==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 157ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:14:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 0.4ms)


Started POST "/logout" for 127.0.0.1 at 2016-07-15 11:14:38 +0700
  
ActionController::RoutingError (No route matches [POST] "/logout"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (12.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (84.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:16:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 93.6ms | ActiveRecord: 0.4ms)


Started POST "/logout" for 127.0.0.1 at 2016-07-15 11:16:19 +0700
  
ActionController::RoutingError (No route matches [POST] "/logout"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (8.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (103.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 11:17:15 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 113.1ms | ActiveRecord: 0.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 11:17:17 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"wpfKm7PIgOsqKRIYAuln49OMbijh96uiSRrBNZ/foxeTtVm4ryGOwhKI6VQRl7XriJPThN3VMP1FMNB7WO0qhg=="}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:17:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 159ms (Views: 155.6ms | ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 11:17:20 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.5ms | ActiveRecord: 1.5ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 11:17:23 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YgVp1VBwsX+CBAE8y9Ydp46Cb/x2zC9O+R8WXoO8Fqssgy+lyxCKE9o0Or4ab/T1+/LkhJt7p+WYfU/rTJ20CQ==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:17:23 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 131.0ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:17:50 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 129.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:18:30 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 123.5ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 11:18:36 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 109.8ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 12:52:46 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"BXQRj491iyH78/jsSaXAf9bVkO3FElT26eOdi9MLbaBUVoKsk5yFCMNSA6Ba2xJ3jcotQfkwz6nlyYzFFDnkMQ=="}
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 12:52:46 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 173ms (Views: 170.2ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 12:52:48 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 209ms (Views: 207.1ms | ActiveRecord: 0.8ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 12:52:52 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WoJClEAmakZqY1YPUey0jkrl6Rp/cNgdE1iVUx5352QUBATk20ZRKjJTbY2AVV3cP5ViYpLHULZyOszm0VZFxg==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 197ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 12:52:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.2ms | ActiveRecord: 0.3ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4594616852625822750);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20160715055445)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "sender_id" integer, "recipient_id" integer, "body" character varying, "read_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160715055445"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4594616852625822750)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for 127.0.0.1 at 2016-07-15 13:06:08 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 147ms (ActiveRecord: 6.9ms)


  
NoMethodError (undefined method `where' for #<PagesController:0xb5554028>):
  
app/controllers/pages_controller.rb:3:in `index'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (147.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:09:20 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:1: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...buffer.append=( if signed_in? );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:3: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end ;@output_buffer.to_s
             ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:4: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:6: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/pages/index.html.erb:1: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/pages/index.html.erb:3: syntax error, unexpected keyword_end, expecting ')'
app/views/pages/index.html.erb:4: syntax error, unexpected keyword_ensure, expecting ')'
app/views/pages/index.html.erb:6: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (24.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.1ms)
Started PUT "/__web_console/repl_sessions/6d7cd878e564b4006ddcd5805be15f87" for 127.0.0.1 at 2016-07-15 13:09:33 +0700
Started GET "/" for 127.0.0.1 at 2016-07-15 13:10:30 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 114ms (Views: 108.7ms | ActiveRecord: 3.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 13:10:36 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kMmhNN7SaV7TfZMQArg0g5JjcG/PYhEnUBcgdsrpA53B6zIXwjtnd+vcaFwRxuaLyXzNw/NAinhcPTE4DduKDA=="}
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:10:36 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (7.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 92.9ms | ActiveRecord: 0.4ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 13:10:37 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (21.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 128.7ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:10:44 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p/28d847ltiH1A7fQSjvBeFRtPoM+/Zzh+L04LngPPkNXXC2HiA5jW8YCS3EUZtyncq+4ByRNaKWCO6oqh3krg==", "user"=>{"name"=>"PU", "email"=>"pu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (17.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 104.7ms | ActiveRecord: 0.6ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 13:12:15 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (29.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 212ms (Views: 210.0ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:12:21 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cVUTBoBwWWdJcB3EYUOj6Lxmw7D9lCyhjqLUqiDYdo7b9d/HUGv2MqG8GjbkOtefwP3Jqu3+73CfSM7iMyWu2Q==", "user"=>{"name"=>"pu", "email"=>"pu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (30.2ms)
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 421ms (Views: 154.4ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:14:03 +0700
Processing by PagesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/models/user.rb:17: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/models/user.rb:17: syntax error, unexpected keyword_end, expecting end-of-input
app/controllers/pages_controller.rb:3:in `index'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:14:13 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 92.9ms | ActiveRecord: 4.8ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 13:14:15 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (60.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 209.9ms | ActiveRecord: 12.6ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:14:22 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"efp/wnL0AYjTzwXIOLHP/w0BYnaG92mRJ2DuiZdbTT7TWrMDou+u3TsDAjq9yLuIcZpobJadqkA2ivTBhKaVaQ==", "user"=>{"name"=>"pu", "email"=>"pu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "pu"], ["email", "pu@mail.com"], ["password_digest", "$2a$10$AcWMUNj0jSSDAKHzcmYQ9Orq1V6wKoMoPRxoN..zLQpQFHtIUO6bO"], ["created_at", 2016-07-15 06:14:22 UTC], ["updated_at", 2016-07-15 06:14:22 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 119ms (ActiveRecord: 8.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:14:22 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 66.1ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 13:14:25 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/sessions/new.html.erb:1: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...tput_buffer.append=( if flash );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/sessions/new.html.erb:13: syntax error, unexpected keyword_end, expecting ')'
 end ;@output_buffer.to_s
    ^
/home/ken/github/chat-kenk11/app/views/sessions/new.html.erb:14: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/sessions/new.html.erb:16: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/sessions/new.html.erb:1: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/sessions/new.html.erb:13: syntax error, unexpected keyword_end, expecting ')'
app/views/sessions/new.html.erb:14: syntax error, unexpected keyword_ensure, expecting ')'
app/views/sessions/new.html.erb:16: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (40.8ms)
Started GET "/login" for 127.0.0.1 at 2016-07-15 13:14:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 132.1ms | ActiveRecord: 2.1ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 13:14:40 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p52guRY2gl17caMTePYUB9bXgs7m1CmiYd3xfzURliH2vzOaCt+MdEPQWF9riMYPjcg/Ytr2sv1t9+Ax8iMfsA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 139ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:14:41 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 83ms (Views: 80.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:15:37 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 96ms (Views: 90.3ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:15:50 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 373ms (Views: 356.4ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:15:54 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 101ms (Views: 98.7ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 13:17:29 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MOXlcGaUmD4F4GhGi9fMuSXvJqwbGJeaElZKw+40V6hhx3ZTen2WFz1BkwqYqR6xfvCbACc6DMUefFuNKQbeOQ=="}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:17:29 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 118.8ms | ActiveRecord: 7.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 13:17:35 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 268.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:17:37 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 127.0ms | ActiveRecord: 1.4ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 13:17:38 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (19.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 168ms (Views: 150.6ms | ActiveRecord: 2.3ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:17:39 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CmaVpVwP4NqW+cOMr0MCkLRJL0A1vX5t9JhlIrlGl6+gxllkjBRPj341xH4qOnbnyNIlWiXXvbzlcn9qqrtP+A==", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[35m (8.5ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (14.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 99.6ms | ActiveRecord: 9.2ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:18:00 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CqWutCob1ju0VgRuKtnV2tfxVGyd6r7px6/bUVOLOG5bhz2XNvLYEoz3/yI5pwfSjO7pwKHIJbbLhcoflLmx/w==", "user"=>{"name"=>"teo", "email"=>"teo", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teo"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 187ms (Views: 68.6ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:18:06 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"omaHwj7Bqoah6E0WJIuW1I7wIMp+wnKJphxaTcaYOTLzRBThIiikr5lJtlo39UTc1e+dZkLg6daqNksDAaqwow==", "user"=>{"name"=>"teo", "email"=>"pu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (22.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 332ms (Views: 136.0ms | ActiveRecord: 1.0ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:18:15 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TRzGdXG5gmPeqwqBkamEykm550A79GSi5+uP9ssZydEcPlVWbVCMSuYK8c2C11bCEqZa7AfW//3rwZ64DCtAQA==", "user"=>{"name"=>"teo", "email"=>"pu@mail.com1", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (21.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 324ms (Views: 129.4ms | ActiveRecord: 3.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 13:18:21 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WTlv7nIT1ODHnvykToSgLP0EBdRfrJIfZhwFazkDhP0IG/zNbvrayf8/B+hd+nIkphu4eGOOCUBqNhQl/jENbA==", "user"=>{"name"=>"teo", "email"=>"pu@mail1.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail1.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "teo"], ["email", "pu@mail1.com"], ["password_digest", "$2a$10$C7tX5DISkyguQwvFqOICFunMRnjUoXW8D8VJeLAINKdIyqUjKE3Zm"], ["created_at", 2016-07-15 06:18:21 UTC], ["updated_at", 2016-07-15 06:18:21 UTC]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 135ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:18:21 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (8.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 94.5ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:18:23 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.0ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 13:18:24 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 115.7ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 13:18:31 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FPoaEWqbkfygDBcVtkfcZh+H1qTfdhH4hrPFd+JiVhVafFxh8fuqkPg8LJdn/jU0avdd3DLBmVPn0ZzCLUP0tw==", "email"=>"pu@mail1.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail1.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:18:31 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 4)[0m
  Rendered pages/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 110ms (Views: 107.0ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:18:54 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 4)[0m
  Rendered pages/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 92ms (Views: 87.5ms | ActiveRecord: 0.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 13:18:56 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TZReVZvT9d4KJm30Iw1Yij6VLPwvujgTOQ8ylDaGsoccts12hzr79zKHlrgwc4qCZYqRUBOYo0w1JSPa8bQ7Fg=="}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:18:56 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 97.5ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 13:18:58 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (158.3ms)
Completed 500 Internal Server Error in 165ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0xc9733d8>):
    1: <%= form_for @user do |f| %>
    2:     <%= f.input :name %>
    3:     <%= f.input :email %>
    4:     <%= f.input :password %>
    5:     <%= f.submit 'Register', class: 'btn btn-success-outline' %>
  
app/views/users/new.html.erb:2:in `block in _app_views_users_new_html_erb___546131594__644341378'
app/views/users/new.html.erb:1:in `_app_views_users_new_html_erb___546131594__644341378'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.4ms)
Started GET "/register" for 127.0.0.1 at 2016-07-15 13:19:07 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (36.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 141.1ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2016-07-15 13:19:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [14 times] (11.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (39.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:24:02 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (7.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 213.0ms | ActiveRecord: 10.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 13:24:04 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 166ms (Views: 162.6ms | ActiveRecord: 2.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 13:24:09 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HTvH2ShoCv07Vpn4ourAnQaVqD0xZs5AMgpcRa3FazYEcf0vBC27YWj+IFd2Q6cKkldo0cVb55E5bIqd6WIOJQ==", "email"=>"pu@mail1.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail1.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 126ms (ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:24:09 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 4)[0m
  Rendered pages/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 76ms (Views: 73.9ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 13:36:27 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 276.9ms | ActiveRecord: 0.2ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 13:36:30 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qj3c94EHX/px0EnF/xEVVHhOTIbiWxwbxVnMnEHKTJIMu5qHGmdklingckcuqPwGDT7H/g/slLCkO5UpjuvuMA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 129ms (ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 13:36:30 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered messages/_form.html.erb (3.5ms)
  Rendered pages/index.html.erb within layouts/application (4.6ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (No route matches {:action=>"update", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do |f| %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832__644126968'
app/views/pages/index.html.erb:1:in `_app_views_pages_index_html_erb___988209653__644289638'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:37:04 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.1ms)
  Rendered pages/index.html.erb within layouts/application (3.6ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"update", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do |f| %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832_106993740'
app/views/pages/index.html.erb:1:in `_app_views_pages_index_html_erb___988209653_107953770'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:37:23 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered messages/_form.html.erb (19.3ms)
  Rendered pages/index.html.erb within layouts/application (26.2ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do |f| %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832__636958838'
app/views/pages/index.html.erb:1:in `_app_views_pages_index_html_erb___988209653__636852768'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:39:15 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered messages/_form.html.erb (1.6ms)
  Rendered pages/index.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do |f| %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832__648575388'
app/views/pages/index.html.erb:1:in `_app_views_pages_index_html_erb___988209653_104909210'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:40:25 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 85ms (Views: 83.0ms | ActiveRecord: 0.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:40:27 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (14.8ms)
  Rendered messages/new.html.erb within layouts/application (17.6ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do |f| %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832_102736850'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___753309302__647449598'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (88.5ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:40:49 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (4.6ms)
  Rendered messages/new.html.erb within layouts/application (7.6ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/messages/_form.html.erb:12: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/messages/_form.html.erb:12: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___753309302_109090980'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.6ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:41:17 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (10.0ms)
  Rendered messages/new.html.erb within layouts/application (12.3ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id]):
    1: <% form_tag message_path, method: 'post' do %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832_99777390'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___753309302_100173230'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.0ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:43:54 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_form.html.erb (22.1ms)
  Rendered messages/new.html.erb within layouts/application (23.1ms)
Completed 200 OK in 110ms (Views: 94.9ms | ActiveRecord: 2.6ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:44:19 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (200.1ms)
  Rendered messages/new.html.erb within layouts/application (206.0ms)
Completed 500 Internal Server Error in 216ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `message' for #<#<Class:0xc4a2fe8>:0xb3decf5c>
Did you mean?  @message):
    1: <% form_tag message, method: 'post' do %>
    2:     <div>
    3:       <%= label_tag current_user.name %>
    4:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832__638726278'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___753309302__638620068'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.4ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:44:24 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_form.html.erb (14.7ms)
  Rendered messages/new.html.erb within layouts/application (16.3ms)
Completed 200 OK in 132ms (Views: 128.9ms | ActiveRecord: 0.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:45:34 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (6.6ms)
  Rendered messages/new.html.erb within layouts/application (13.7ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (debug):
    1: <% form_tag @message, method: 'post' do %>
    2:     <%= raise 'debug' %>
    3:     <div>
    4:       <%= label_tag current_user.name %>
    5:       <%= text_field_tag :sender_id %>
  
app/views/messages/_form.html.erb:2:in `block in _app_views_messages__form_html_erb__889497832_92000650'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb__889497832_92000650'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___753309302_92368390'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.7ms)
Started PUT "/__web_console/repl_sessions/07531e5a93df0bba2b6a0e4ed0519964" for 127.0.0.1 at 2016-07-15 13:45:43 +0700
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/07531e5a93df0bba2b6a0e4ed0519964" for 127.0.0.1 at 2016-07-15 13:45:48 +0700
Started GET "/" for 127.0.0.1 at 2016-07-15 13:52:39 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (18.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (67.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:52:44 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (8.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (50.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:52:47 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (6.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.5ms)
Started PUT "/__web_console/repl_sessions/94280f7e41318542163e7cf3155f9c73" for 127.0.0.1 at 2016-07-15 13:53:00 +0700
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:11 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (7.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (47.0ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:22 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (16.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (59.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:23 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (13.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (53.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:24 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:24 +0700
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (21.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.8ms)
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:24 +0700
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (5.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (46.4ms)
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:24 +0700
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (20.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (53.4ms)
  
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:25 +0700
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (20.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (113.4ms)
  
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:25 +0700
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (12.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (60.1ms)
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (7.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (48.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:27 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (17.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (88.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:36 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (7.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (45.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:37 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (11.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (51.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:53:38 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (6.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (49.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:54:17 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (5.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (13.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (51.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:54:57 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (7.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (55.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:55:01 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (17.1ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (13.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (63.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:55:03 +0700
  
ActionController::RoutingError (undefined local variable or method `another_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (15.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (104.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 13:55:52 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 617ms (Views: 581.3ms | ActiveRecord: 4.2ms)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:56:44 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (359.3ms)
  Rendered messages/new.html.erb within layouts/application (366.8ms)
Completed 500 Internal Server Error in 438ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0xcf1177c>):
    1: <% form_for @message do |f| %>
    2:     <%= f.input %>
    3:     <%= submit_tag 'Log in' %>
    4: <% end %>
  
app/views/messages/_form.html.erb:2:in `block in _app_views_messages__form_html_erb___956870169_108568450'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169_108568450'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834_108544650'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (24.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (98.1ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 13:58:14 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/_form.html.erb (50.3ms)
  Rendered messages/new.html.erb within layouts/application (51.6ms)
Completed 200 OK in 135ms (Views: 115.4ms | ActiveRecord: 16.1ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:01:43 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/_form.html.erb (25.2ms)
  Rendered messages/new.html.erb within layouts/application (28.1ms)
Completed 200 OK in 115ms (Views: 100.6ms | ActiveRecord: 6.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:03:52 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_form.html.erb (17.5ms)
  Rendered messages/new.html.erb within layouts/application (20.6ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `empty?' for #<User:0xb497c3a4>):
    1: <% form_for @message do |f| %>
    2:     <div class="form-group form-input">
    3:       <%= f.select :sender_id, current_user %>
    4:       <%= f.select :recipient_id, another_user %>
    5:       <%= f.input :body %>
    6:     </div>
  
app/views/messages/_form.html.erb:3:in `block in _app_views_messages__form_html_erb___956870169__632554428'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169__632554428'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834__632590918'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.4ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:04:18 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (152.7ms)
  Rendered messages/new.html.erb within layouts/application (155.7ms)
Completed 500 Internal Server Error in 163ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0xd2f91a0>):
    1: <% form_for @message do |f| %>
    2:     <div class="form-group form-input">
    3:       <%= f.input :body %>
    4:     </div>
    5:     <div class="form-action">
    6:       <%= f.button :submit %>
  
app/views/messages/_form.html.erb:3:in `block in _app_views_messages__form_html_erb___956870169_110614610'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169_110614610'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834__639620648'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.2ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:04:32 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (230.0ms)
  Rendered messages/new.html.erb within layouts/application (236.3ms)
Completed 500 Internal Server Error in 239ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `message' for #<#<Class:0xcf080a0>:0xc2fce14>
Did you mean?  @message):
    1: <% form_for message do |f| %>
    2:     <div class="form-group form-input">
    3:       <%= f.select :sender_id, current_user %>
    4:       <%= f.select :recipient_id, another_user %>
  
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169_102506990'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834_102231310'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.1ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:08:07 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_form.html.erb (27.0ms)
  Rendered messages/new.html.erb within layouts/application (29.0ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `empty?' for #<User:0xd615884>):
    1: <% form_for @message do |f| %>
    2:     <div class="form-group form-input">
    3:       <%= f.select :sender_id, current_user %>
    4:       <%= f.select :recipient_id, another_user %>
    5:       <%= f.input :body %>
    6:     </div>
  
app/views/messages/_form.html.erb:3:in `block in _app_views_messages__form_html_erb___956870169_110741320'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169_110741320'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834_112003010'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (34.4ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:08:35 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (134.2ms)
  Rendered messages/new.html.erb within layouts/application (135.9ms)
Completed 500 Internal Server Error in 145ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0xb4228490>):
    1: <% form_for @message do |f| %>
    2:     <div class="form-group form-input">
    3:       <%= f.input :body %>
    4:     </div>
    5:     <div class="form-action">
    6:       <%= f.button :submit %>
  
app/views/messages/_form.html.erb:3:in `block in _app_views_messages__form_html_erb___956870169__636399158'
app/views/messages/_form.html.erb:1:in `_app_views_messages__form_html_erb___956870169__636399158'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___988021834__634428688'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.8ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:09:44 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (10.9ms)
  Rendered messages/new.html.erb within layouts/application (12.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 178ms (Views: 173.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:12:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 214ms (Views: 212.1ms | ActiveRecord: 0.4ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:12:36 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (2.2ms)
  Rendered messages/new.html.erb within layouts/application (5.8ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 196ms (Views: 194.3ms | ActiveRecord: 1.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 14:12:37 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NeuiExBLZOk7/CWWNiO95ypb/i2SLe8dHfug9YAjrHVkyTEwDKJqwANd3tolXW/vcURDga4PdEIR0bG7RxEl5A=="}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:12:37 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 114.3ms | ActiveRecord: 1.6ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:12:39 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (105.8ms)
Completed 500 Internal Server Error in 114ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `input' for #<ActionView::Helpers::FormBuilder:0xb4665af8>):
    1: <%= form_for @user do |f| %>
    2:     <%= f.input :name %>
    3:     <%= f.input :email %>
    4:     <%= f.input :password %>
    5:     <%= f.submit 'Register', class: 'btn btn-success-outline' %>
  
app/views/users/new.html.erb:2:in `block in _app_views_users_new_html_erb___1017784117__634373508'
app/views/users/new.html.erb:1:in `_app_views_users_new_html_erb___1017784117__634373508'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.3ms)
Started GET "/register" for 127.0.0.1 at 2016-07-15 14:13:27 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (11.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 93ms (Views: 90.7ms | ActiveRecord: 0.4ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:14:28 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (20.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 111.8ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:16:05 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (9.5ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 239ms (Views: 234.0ms | ActiveRecord: 2.5ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:16:18 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (14.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 205ms (Views: 195.8ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:16:45 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 79.8ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-15 14:17:14 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (6.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 115.1ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 14:17:31 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eJR1cU9Wxu8lkNJgydTuzCRkMu0DaBcFiP7nu3LjYeIptuZSU7/Ixh0xKSzaqjzEf3uPQT9KjFqE1Pb1tdHocw==", "user"=>{"name"=>"demo", "email"=>"pu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 184ms (Views: 59.3ms | ActiveRecord: 2.3ms)


Started POST "/users" for 127.0.0.1 at 2016-07-15 14:17:34 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JerY4PWU5U2G5tUUDIdrY7AEtUoteLsZGZxAkf+f3dt0yEvD6X3rZL5HLlgf+blr6xsI5hFaIEYVtlHfOK1USg==", "user"=>{"name"=>"demo", "email"=>"pu1@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu1@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "demo"], ["email", "pu1@mail.com"], ["password_digest", "$2a$10$wClEvH/h54vRypIiUf1GG.I8Y8x1CUHSP8qjjMkuwFzv8ur4wIVBC"], ["created_at", 2016-07-15 07:17:35 UTC], ["updated_at", 2016-07-15 07:17:35 UTC]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 133ms (ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:17:35 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 80.1ms | ActiveRecord: 1.8ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2016-07-15 14:29:10 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (11.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 626ms (Views: 609.4ms | ActiveRecord: 1.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:29:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 191ms (Views: 186.1ms | ActiveRecord: 4.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:29:28 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.3ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:29:55 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 94.5ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:30:15 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 112.8ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:30:17 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 98.3ms | ActiveRecord: 0.6ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 14:32:15 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N70C7JU3CaeKUfKOPgfS/rJiw1G7NhAff2Qal0V7x79mn5HPid4HjrLwCcIteQD26X1+/YcUi0BzTgvZgklOLg==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 298ms (ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:32:16 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (368.1ms)
Completed 500 Internal Server Error in 388ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_message_path' for #<#<Class:0xb5d5efc>:0xb3607c9c>
Did you mean?  new_user_message_path
               new_user_path
               new_session_path
               user_message_path
               user_messages_path):
    1: <% if signed_in? %>
    2:     <%= link_to 'New message', new_message_path %>
    3: <% end %>
  
app/views/pages/index.html.erb:2:in `_app_views_pages_index_html_erb__963555082__648404688'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 14:32:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 102ms (Views: 100.2ms | ActiveRecord: 0.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:32:47 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/_form.html.erb (22.2ms)
  Rendered messages/new.html.erb within layouts/application (26.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 181ms (Views: 140.1ms | ActiveRecord: 5.4ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:32:56 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 83.3ms | ActiveRecord: 4.1ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:33:15 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (36.2ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for #<Message:0xb1a234b8>):
    1: <%= form_for @message do |f| %>
    2:     <div class="form-group">
    3:       <%= f.label :name %>
    4:       <%= f.text_field :name, class: 'form-control' %>
    5:       <%= f.label :email %>
    6:       <%= f.text_field :email, class: 'form-control' %>
    7:       <%= f.label :password %>
  
app/views/messages/new.html.erb:4:in `block in _app_views_messages_new_html_erb___32769008__657386228'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__657386228'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.9ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:33:57 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (7.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 96.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:35:04 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 134ms (Views: 131.8ms | ActiveRecord: 1.5ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:35:05 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/new.html.erb within layouts/application (34.6ms)
Completed 200 OK in 158ms (Views: 146.2ms | ActiveRecord: 10.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:35:12 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/new.html.erb within layouts/application (28.2ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 4.0ms)


  
ActionView::Template::Error (undefined method `id' for #<User::ActiveRecord_Relation:0xb2ddb334>
Did you mean?  ids):
    3:       <%= f.label :name %>
    4:       <%= f.text_field :sender_id, class: 'form-control' %>
    5:       <%= f.label :email %>
    6:       <%= f.select :recipient_id, another_user.id, class: 'form-control' %>
    7:       <%= f.label :body %>
    8:       <%= f.text_area :body, class: 'form-control' %>
    9:     </div>
  
app/views/messages/new.html.erb:6:in `block in _app_views_messages_new_html_erb___32769008__648183518'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__648183518'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.6ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:35:24 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (10.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/new.html.erb within layouts/application (24.3ms)
Completed 200 OK in 118ms (Views: 102.2ms | ActiveRecord: 14.3ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-15 14:36:19 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uzvWWBmRxbSgZwE0bxdtaLddsZ8uQCqEB/XqKEX7T3DqGUV7BXjLnZjG+nh8ab9g7EIMMxJisdsL3/tmgsnG4Q==", "message"=>{"sender_id"=>"", "recipient_id"=>"#<User:0xb3c6614c>", "body"=>""}, "commit"=>"Send Message"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 114ms (ActiveRecord: 5.4ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:36:24 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (8.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/new.html.erb within layouts/application (40.1ms)
Completed 200 OK in 126ms (Views: 113.2ms | ActiveRecord: 10.8ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-15 14:37:21 +0700
Processing by MessagesController#new as HTML
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 2) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered messages/new.html.erb within layouts/application (41.4ms)
Completed 200 OK in 163ms (Views: 137.3ms | ActiveRecord: 6.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:42:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (238.2ms)
Completed 500 Internal Server Error in 242ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `new_message_path' for #<#<Class:0xbbb4ee0>:0xbbb45bc>
Did you mean?  new_user_message_path
               new_user_path
               new_session_path
               user_message_path
               user_messages_path):
    1: <% if signed_in? %>
    2:     <%= link_to 'New message', new_message_path %>
    3: <% end %>
  
app/views/pages/index.html.erb:2:in `_app_views_pages_index_html_erb__963555082_98412960'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 14:42:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 144.0ms | ActiveRecord: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 14:42:37 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UYXA0RlrwW5R3GzJzDkzPE4KvSgC80DsTrc8cKsDV4EAp1PyBYLPR2l9l4XfR+E0FRUAhD7R27NCnS0+bDHeEA=="}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:42:37 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 132.6ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:42:39 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 114.1ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 14:42:41 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ar1a/FiAYdB8tW68wlQm4kJ+0UauEphSdp9GhrCf1WckOxyMw+BavCSFVT4T7c+wNw5aPkOlEPkX/R8zf753xQ==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 128ms (ActiveRecord: 0.4ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"users"} missing required keys: [:id]):
  
app/controllers/sessions_controller.rb:10:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (20.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 14:43:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 96.0ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:43:21 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 148ms (Views: 146.0ms | ActiveRecord: 0.4ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 14:43:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mzv4+x4obCxnEjSIekr10Dp46Q8swg261R8l4cZ3h3jVvb6LhUhXQD8iDwqr8xyCTwhid8F1hRG0fXxUCVYl2g==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 168ms (ActiveRecord: 8.7ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"users"} missing required keys: [:id]):
  
app/controllers/sessions_controller.rb:10:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (22.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.0ms)
Started GET "/rails/info" for 127.0.0.1 at 2016-07-15 14:43:41 +0700
Processing by Rails::InfoController#index as HTML
  Parameters: {"internal"=>true}
Redirected to http://localhost:3000/rails/info/routes
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-15 14:43:41 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (25.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (34.0ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:43:50 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 144ms (Views: 137.0ms | ActiveRecord: 6.3ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 14:43:54 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 99.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 14:44:30 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 142.2ms | ActiveRecord: 1.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 14:44:31 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 164ms (Views: 158.6ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 14:44:34 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pkqptk+CPTuCfe9K4ELPApcOwoK4/vDWQRl4wSLowq7ozO/G1OIGV9pN1Mgx+yZQ4n5J+lVJeH0geyF07clgDA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 179ms (ActiveRecord: 4.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/sessions_controller.rb:10:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.0ms)
Started POST "/sessions" for 127.0.0.1 at 2016-07-15 14:44:41 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pkqptk+CPTuCfe9K4ELPApcOwoK4/vDWQRl4wSLowq7ozO/G1OIGV9pN1Mgx+yZQ4n5J+lVJeH0geyF07clgDA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 203ms (ActiveRecord: 5.6ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 14:44:42 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 81ms (Views: 77.0ms | ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 14:47:38 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 208ms (Views: 201.2ms | ActiveRecord: 4.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 14:49:42 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (24.1ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages"} missing required keys: [:user_id]):
    11:       <tr>
    12:         <th scope="row"><%= user.name %></th>
    13:         <td><%= user.email %></td>
    14:         <td><%= link_to 'Send message', new_user_message_path, class: 'btn btn-info-outline' %></td>
    15:       </tr>
    16:   <% end %>
    17:   </tbody>
  
app/views/users/index.html.erb:14:in `block in _app_views_users_index_html_erb___798876516__657691818'
app/views/users/index.html.erb:10:in `_app_views_users_index_html_erb___798876516__657691818'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (19.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (83.6ms)
Started GET "/users" for 127.0.0.1 at 2016-07-15 14:50:46 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 134ms (Views: 128.4ms | ActiveRecord: 4.2ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 14:50:49 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:4: syntax error, unexpected ')'
...er_id, class: 'form-control', );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:11: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end ;@output_buffer.to_s
             ^
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:12: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:14: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/messages/new.html.erb:4: syntax error, unexpected ')'
app/views/messages/new.html.erb:11: syntax error, unexpected keyword_end, expecting ')'
app/views/messages/new.html.erb:12: syntax error, unexpected keyword_ensure, expecting ')'
app/views/messages/new.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (36.1ms)
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 14:54:24 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 16ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:3:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.4ms)
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 14:54:49 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:3:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (48.6ms)
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:07:10 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 32ms (ActiveRecord: 6.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:3:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.5ms)
Started PUT "/__web_console/repl_sessions/b1485653d767227778de3d13e0a0a380" for 127.0.0.1 at 2016-07-15 15:09:52 +0700
Started PUT "/__web_console/repl_sessions/b1485653d767227778de3d13e0a0a380" for 127.0.0.1 at 2016-07-15 15:10:01 +0700
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:11:33 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:3:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.3ms)
Started GET "/users" for 127.0.0.1 at 2016-07-15 15:11:37 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (30.1ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 4.3ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages", :recipient_id=>1} missing required keys: [:user_id]):
    11:       <tr>
    12:         <th scope="row"><%= user.name %></th>
    13:         <td><%= user.email %></td>
    14:         <td><%= link_to 'Send message', new_user_message_path(recipient_id: user.id), class: 'btn btn-info-outline' %></td>
    15:       </tr>
    16:   <% end %>
    17:   </tbody>
  
app/views/users/index.html.erb:14:in `block in _app_views_users_index_html_erb___798876516__645567178'
app/views/users/index.html.erb:10:in `_app_views_users_index_html_erb___798876516__645567178'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (14.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 144.2ms | ActiveRecord: 5.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:43 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 98.7ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:43 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 110.4ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 113.6ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 121.7ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:11:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 106.2ms | ActiveRecord: 3.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 15:11:48 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages", :recipient_id=>1} missing required keys: [:user_id]):
    11:       <tr>
    12:         <th scope="row"><%= user.name %></th>
    13:         <td><%= user.email %></td>
    14:         <td><%= link_to 'Send message', new_user_message_path(recipient_id: user.id), class: 'btn btn-info-outline' %></td>
    15:       </tr>
    16:   <% end %>
    17:   </tbody>
  
app/views/users/index.html.erb:14:in `block in _app_views_users_index_html_erb___798876516__650919538'
app/views/users/index.html.erb:10:in `_app_views_users_index_html_erb___798876516__650919538'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.1ms)
Started GET "/users" for 127.0.0.1 at 2016-07-15 15:12:28 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (39.0ms)
Completed 200 OK in 182ms (Views: 180.0ms | ActiveRecord: 0.7ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:12:31 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (38.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 172ms (Views: 167.6ms | ActiveRecord: 2.5ms)


Started POST "/users/1/messages" for 127.0.0.1 at 2016-07-15 15:12:34 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XgLR/8fbCm/Wf9nx1gpnC3ivXBMBXBv4ra9m2/y3mNXY8H5vj6eo8NfltaYxMGjSCXWIXfoCICl24qQVp9sl8w==", "message"=>{"body"=>"123123123"}, "commit"=>"Send Message", "user_id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:13:43 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 20ms (ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 15:13:43 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 85ms (Views: 83.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 15:14:54 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 39ms (ActiveRecord: 9.0ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 15:14:54 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 132ms (Views: 126.8ms | ActiveRecord: 3.0ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:14:58 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (40.6ms)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 230ms (Views: 206.7ms | ActiveRecord: 21.0ms)


Started POST "/users/1/messages" for 127.0.0.1 at 2016-07-15 15:15:00 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mrbi4rCFk7ch17uWQPAqsTxKfZMkiZfJMD9G26UJf7ccRE1y+PkxKCBN18GnyiVoTZCp3d/XrBjrcoQV/mXCkQ==", "message"=>{"body"=>"123123"}, "commit"=>"Send Message", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.2ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 1], ["body", "123123"], ["created_at", 2016-07-15 08:15:00 UTC], ["updated_at", 2016-07-15 08:15:00 UTC]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 41ms (ActiveRecord: 21.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 15:15:00 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 194ms (Views: 184.2ms | ActiveRecord: 8.4ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages"[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:16:25 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 119.9ms | ActiveRecord: 1.3ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-15 15:16:47 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 104.7ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 23:58:44 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 52ms (ActiveRecord: 18.3ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 23:58:44 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 92ms (Views: 89.9ms | ActiveRecord: 0.5ms)


Started GET "/users/3/messages/new" for 127.0.0.1 at 2016-07-15 23:58:48 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (39.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 190ms (Views: 183.4ms | ActiveRecord: 3.0ms)


Started POST "/users/3/messages" for 127.0.0.1 at 2016-07-15 23:58:52 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WgVO9YFmYEnFdwouNtP4o8rH8goYgNCKtlCFldy8CFt/RFakntDWm0isSzTl2Qy31K8qXZ3kdBIxGXRHIT3Wzw==", "message"=>{"body"=>"hello"}, "commit"=>"Send Message", "user_id"=>"3"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 3], ["body", "hello"], ["created_at", 2016-07-15 16:58:52 UTC], ["updated_at", 2016-07-15 16:58:52 UTC]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 49ms (ActiveRecord: 7.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 23:58:52 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 84ms (Views: 80.0ms | ActiveRecord: 2.6ms)


Started GET "/users/3/messages/new" for 127.0.0.1 at 2016-07-15 23:58:55 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 135.8ms | ActiveRecord: 0.5ms)


Started POST "/users/3/messages" for 127.0.0.1 at 2016-07-15 23:58:59 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"o79T8+B3NkxK/lftVNthMh49AMWhYNm099dthM8AoL6G/kui/8GAnsclFveH0ZUmAFXYkiQEfSxwnpxWMoF+Kg==", "message"=>{"body"=>"pe bi"}, "commit"=>"Send Message", "user_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (13.7ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 3], ["body", "pe bi"], ["created_at", 2016-07-15 16:58:59 UTC], ["updated_at", 2016-07-15 16:58:59 UTC]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 35ms (ActiveRecord: 19.9ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 23:58:59 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 267ms (Views: 257.3ms | ActiveRecord: 6.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-15 23:59:00 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"G1edLmo/GrIHQuCuxCT+lu/o3HNA7J8TirdOIC3wD/JKdQ4NdtYUmz/jG+LXWiyetPdh33zOBEyGnV9u6sKGYw=="}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-15 23:59:00 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 111.6ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-15 23:59:02 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 132.6ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-15 23:59:08 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"56/2S+HcrL8tVDk8kAT4VMWPIa7WddfRYwXC+uMtePmpKbA7eryX03VkAr5BvREGsP+q1jvCX3oCZ5tPLAzaWw==", "email"=>"pu@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 179ms (ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 23:59:08 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 129ms (Views: 121.1ms | ActiveRecord: 2.3ms)


Started GET "/users" for 127.0.0.1 at 2016-07-15 23:59:27 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (46.1ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 5.7ms)


  
ActionView::Template::Error (undefined method `where' for #<User:0xb36dc924>):
    1: <%= current_user.received_messages.count %>
    2: 
    3: 
    4: 
  
app/models/user.rb:7:in `received_messages'
app/views/users/index.html.erb:1:in `_app_views_users_index_html_erb___798876516__652198328'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.3ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:00:20 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (21.6ms)
Completed 200 OK in 103ms (Views: 99.6ms | ActiveRecord: 2.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:02:16 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (40.8ms)
Completed 200 OK in 121ms (Views: 117.7ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:03:04 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (6.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (2.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 3[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (46.5ms)
Completed 200 OK in 158ms (Views: 138.7ms | ActiveRecord: 16.0ms)


Started GET "/users/4/messages/new" for 127.0.0.1 at 2016-07-16 00:03:07 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"4"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 118.5ms | ActiveRecord: 3.9ms)


Started POST "/users/4/messages" for 127.0.0.1 at 2016-07-16 00:03:09 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VkgHmtaZ6nusa7rWJgp61w1VbHNz13/S5eED9Quu0X1xh03Fxvt7p4A6w+b/W7a/a1ute/qc/iFowtu34aPBtg==", "message"=>{"body"=>"123123123"}, "commit"=>"Send Message", "user_id"=>"4"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 3], ["recipient_id", 4], ["body", "123123123"], ["created_at", 2016-07-15 17:03:09 UTC], ["updated_at", 2016-07-15 17:03:09 UTC]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 21ms (ActiveRecord: 9.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:03:09 +0700
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 3[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (35.7ms)
Completed 200 OK in 179ms (Views: 169.5ms | ActiveRecord: 6.3ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QKLkV1Xml13Sa5cMNjc8sFP/Kve2w/dWlwjGKAB4NrwRgHd0SQ+ZdOrKbEAlSe64COCXW4rhbAmbItdmx0q/LQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 2.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:08:25 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:27 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:27 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:27 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 8.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 3.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 6.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:09:28 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:09:57 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 116.6ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:10:00 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 90.5ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:10:02 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 175ms (Views: 169.6ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:10:03 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 100.0ms | ActiveRecord: 0.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 5.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 7.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 3.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 3.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:05 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:06 +0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:28 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 157ms (Views: 150.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:10:31 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 155.9ms | ActiveRecord: 4.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:32 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 132.6ms | ActiveRecord: 2.5ms)


Started GET "/register" for 127.0.0.1 at 2016-07-16 00:10:34 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (9.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 141ms (Views: 123.7ms | ActiveRecord: 7.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 136.5ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:10:37 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 150ms (Views: 148.0ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 00:10:39 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 128.9ms | ActiveRecord: 0.5ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 00:10:41 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"djvvijvO2g6MiN9VGUSyMT+qUP7nNFWkEVor29Ipz9k4van6oK7hYtS45NfI/VtjStrbhgqD3Q9wOHJuHQhtew==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 99.3ms | ActiveRecord: 0.5ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 00:10:44 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iw/rzlO0eXEp3jKlSnbiraQShXdxVmTkmT9lCC4uekHaLXjtT113WBF/yelZCDCl/w042010/7uVFXRG6Rzz0A==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 150ms (ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:10:44 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (6.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (39.8ms)
Completed 200 OK in 116ms (Views: 102.9ms | ActiveRecord: 9.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:12:23 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mMessage Load (10.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (28.5ms)
Completed 500 Internal Server Error in 108ms (ActiveRecord: 11.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id, :user_id]):
    21:         </li>
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_message_path %>">
    25:           <%= link_to 'My message', user_message_path, class: 'nav-link' %>
    26:         </li>
    27:         
  
app/views/layouts/application.html.erb:24:in `_app_views_layouts_application_html_erb__819701801__642412598'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.0ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:12:48 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (2.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (49.0ms)
Completed 500 Internal Server Error in 162ms (ActiveRecord: 3.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages", :user_id=>#<User id: 2, name: "ken", email: "ken@mail.com", password_digest: "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw...", created_at: "2016-07-15 03:20:26", updated_at: "2016-07-15 03:20:26">} missing required keys: [:id]):
    21:         </li>
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_message_path(current_user) %>">
    25:           <%= link_to 'My message', user_message_path, class: 'nav-link' %>
    26:         </li>
    27: 
  
app/views/layouts/application.html.erb:24:in `_app_views_layouts_application_html_erb__819701801_101076420'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.9ms)
Started PUT "/__web_console/repl_sessions/d4981f9851600b98814849ffba903894" for 127.0.0.1 at 2016-07-16 00:13:02 +0700
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:13:53 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages", :user_id=>#<User id: 2, name: "ken", email: "ken@mail.com", password_digest: "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw...", created_at: "2016-07-15 03:20:26", updated_at: "2016-07-15 03:20:26">} missing required keys: [:id]):
    21:         </li>
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_message_path(current_user) %>">
    25:           <%= link_to 'My message', user_message_path, class: 'nav-link' %>
    26:         </li>
    27: 
  
app/views/layouts/application.html.erb:24:in `_app_views_layouts_application_html_erb__819701801_99520730'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.5ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:14:27 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages", :user_id=>#<User id: 2, name: "ken", email: "ken@mail.com", password_digest: "$2a$10$De4Zcf5HBKOXu2WmQCgfReLD9GyhqDVbM8sb6M/XEgw...", created_at: "2016-07-15 03:20:26", updated_at: "2016-07-15 03:20:26">} missing required keys: [:id]):
    21:         </li>
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_message_path(current_user) %>">
    25:           <%= link_to 'My message', user_message_path, class: 'nav-link' %>
    26:         </li>
    27: 
  
app/views/layouts/application.html.erb:24:in `_app_views_layouts_application_html_erb__819701801__654391738'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.9ms)
Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-16 00:15:07 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [22 times] (23.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (37.7ms)
Completed 200 OK in 51ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:15:44 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 6ms (ActiveRecord: 3.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:15:44 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (6.0ms)
Completed 500 Internal Server Error in 152ms (ActiveRecord: 2.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id, :user_id]):
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_messages_path(current_user) %>">
    25:           <%= link_to 'My message', user_message_path, class: 'nav-link' %>
    26:         </li>
    27: 
    28:         <li class="nav-item <%= 'active' if current_page? new_user_message_path %>">
  
app/views/layouts/application.html.erb:25:in `_app_views_layouts_application_html_erb__819701801__651587338'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.4ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:15:51 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (8.2ms)
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"messages"} missing required keys: [:user_id]):
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_messages_path(current_user) %>">
    25:           <%= link_to 'My message', user_messages_path, class: 'nav-link' %>
    26:         </li>
    27: 
    28:         <li class="nav-item <%= 'active' if current_page? new_user_message_path %>">
  
app/views/layouts/application.html.erb:25:in `_app_views_layouts_application_html_erb__819701801__644089018'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.5ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:16:18 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (7.6ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"messages"} missing required keys: [:user_id]):
    21:         </li>
    22:         </ul>
    23:     <% else %>
    24:         <li class="nav-item <%= 'active' if current_page? user_messages_path %>">
    25:           <%= link_to 'My message', user_messages_path(user_id: current_user), class: 'nav-link' %>
    26:         </li>
    27: 
  
app/views/layouts/application.html.erb:24:in `_app_views_layouts_application_html_erb__819701801_101080990'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.4ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:16:34 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 129ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages"} missing required keys: [:user_id]):
    25:           <%= link_to 'My message', user_messages_path(user_id: current_user), class: 'nav-link' %>
    26:         </li>
    27: 
    28:         <li class="nav-item <%= 'active' if current_page? new_user_message_path %>">
    29:           <%= link_to 'New message', new_user_message_path, class: 'nav-link' %>
    30:         </li>
    31: 
  
app/views/layouts/application.html.erb:28:in `_app_views_layouts_application_html_erb__819701801__644084758'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.1ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:17:45 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (4.3ms)
Completed 500 Internal Server Error in 100ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages"} missing required keys: [:user_id]):
    25:           <%= link_to 'My message', user_messages_path(user_id: current_user), class: 'nav-link' %>
    26:         </li>
    27: 
    28:         <li class="nav-item <%= 'active' if current_page? new_user_message_path %>">
    29:           <%= link_to 'New message', new_user_message_path, class: 'nav-link' %>
    30:         </li>
    31: 
  
app/views/layouts/application.html.erb:28:in `_app_views_layouts_application_html_erb__819701801__646720858'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.0ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:17:53 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (11.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (14.7ms)
Completed 500 Internal Server Error in 116ms (ActiveRecord: 11.7ms)


  
ActionView::Template::Error (No route matches {:action=>"new", :controller=>"messages"} missing required keys: [:user_id]):
    25:           <%= link_to 'My message', user_messages_path(user_id: current_user), class: 'nav-link' %>
    26:         </li>
    27: 
    28:         <li class="nav-item <%= 'active' if current_page? new_user_message_path %>">
    29:           <%= link_to 'New message', new_user_message_path, class: 'nav-link' %>
    30:         </li>
    31: 
  
app/views/layouts/application.html.erb:28:in `_app_views_layouts_application_html_erb__819701801__659049548'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (41.4ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 00:18:12 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 83ms (Views: 74.5ms | ActiveRecord: 6.4ms)


Started GET "/users/2/messages" for 127.0.0.1 at 2016-07-16 00:18:17 +0700
  
AbstractController::ActionNotFound (The action 'index' could not be found for MessagesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.8ms)
Started GET "/users/2/messages" for 127.0.0.1 at 2016-07-16 00:18:48 +0700
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (25.8ms)
Completed 200 OK in 103ms (Views: 87.3ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 00:18:52 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 00:18:52 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 0.5ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 00:18:53 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (5.2ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: Send message to: <%= @recipient.name %> with email <%= @recipient.email %>
    2: <%= form_for [@recipient, Message.new] do |f| %>
    3:     <div class="form-group">
    4:       <%= f.label :body %>
  
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008_100525240'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.0ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:05:54 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 9ms (ActiveRecord: 4.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:05:55 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (28.5ms)
Completed 200 OK in 293ms (Views: 282.4ms | ActiveRecord: 6.9ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:06:28 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (569.7ms)
Completed 500 Internal Server Error in 643ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (undefined method `new_user_message_path' for #<#<Class:0xb6fb318>:0xb6d4f24>
Did you mean?  new_message_path):
    16:       <tr>
    17:         <th scope="row"><%= user.name %></th>
    18:         <td><%= user.email %></td>
    19:         <td><%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    20:       </tr>
    21:   <% end %>
    22:   </tbody>
  
app/views/users/index.html.erb:19:in `block in _app_views_users_index_html_erb___798876516__634755608'
app/views/users/index.html.erb:15:in `_app_views_users_index_html_erb___798876516__634755608'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.2ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 10:07:03 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (152.3ms)
Completed 500 Internal Server Error in 163ms (ActiveRecord: 6.2ms)


  
ActionView::Template::Error (undefined method `new_user_message_path' for #<#<Class:0xb6fb318>:0xb1782254>
Did you mean?  new_message_path):
    16:       <tr>
    17:         <th scope="row"><%= user.name %></th>
    18:         <td><%= user.email %></td>
    19:         <td><%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    20:       </tr>
    21:   <% end %>
    22:   </tbody>
  
app/views/users/index.html.erb:19:in `block in _app_views_users_index_html_erb___798876516__658762708'
app/views/users/index.html.erb:15:in `_app_views_users_index_html_erb___798876516__658762708'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.4ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 10:07:06 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (256.3ms)
Completed 500 Internal Server Error in 297ms (ActiveRecord: 9.5ms)


  
ActionView::Template::Error (undefined method `new_user_message_path' for #<#<Class:0xb6fb318>:0xb36fa62c>
Did you mean?  new_message_path):
    16:       <tr>
    17:         <th scope="row"><%= user.name %></th>
    18:         <td><%= user.email %></td>
    19:         <td><%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    20:       </tr>
    21:   <% end %>
    22:   </tbody>
  
app/views/users/index.html.erb:19:in `block in _app_views_users_index_html_erb___798876516__642263588'
app/views/users/index.html.erb:15:in `_app_views_users_index_html_erb___798876516__642263588'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (19.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (76.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:07:08 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:07:08 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (567.7ms)
Completed 500 Internal Server Error in 585ms (ActiveRecord: 12.0ms)


  
ActionView::Template::Error (undefined method `new_user_message_path' for #<#<Class:0xb6fb318>:0xb2fbf4ac>
Did you mean?  new_message_path):
    16:       <tr>
    17:         <th scope="row"><%= user.name %></th>
    18:         <td><%= user.email %></td>
    19:         <td><%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    20:       </tr>
    21:   <% end %>
    22:   </tbody>
  
app/views/users/index.html.erb:19:in `block in _app_views_users_index_html_erb___798876516__646054528'
app/views/users/index.html.erb:15:in `_app_views_users_index_html_erb___798876516__646054528'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (40.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (165.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:07:11 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:07:11 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (353.1ms)
Completed 500 Internal Server Error in 389ms (ActiveRecord: 8.4ms)


  
ActionView::Template::Error (undefined method `new_user_message_path' for #<#<Class:0xb6fb318>:0xbaee894>
Did you mean?  new_message_path):
    16:       <tr>
    17:         <th scope="row"><%= user.name %></th>
    18:         <td><%= user.email %></td>
    19:         <td><%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    20:       </tr>
    21:   <% end %>
    22:   </tbody>
  
app/views/users/index.html.erb:19:in `block in _app_views_users_index_html_erb___798876516_98007330'
app/views/users/index.html.erb:15:in `_app_views_users_index_html_erb___798876516_98007330'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (69.3ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 10:07:35 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 215ms (Views: 206.1ms | ActiveRecord: 3.1ms)


Started GET "/messages/new?user_id=1" for 127.0.0.1 at 2016-07-16 10:07:38 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (17.6ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: Send message to: <%= @recipient.name %> with email <%= @recipient.email %>
    2: <%= form_for [@recipient, Message.new] do |f| %>
    3:     <div class="form-group">
    4:       <%= f.label :body %>
  
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__656984718'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (30.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (157.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:10:59 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 38ms (ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:10:59 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (13.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (204.2ms)
Completed 500 Internal Server Error in 222ms (ActiveRecord: 16.3ms)


  
ActionView::Template::Error (undefined method `new_message_path' for #<#<Class:0xb2fde848>:0xb2fdd59c>
Did you mean?  new_user_path
               new_session_path
               user_messages_path):
    11:       <tr>
    12:         <th scope="row"><%= user.name %></th>
    13:         <td><%= user.email %></td>
    14:         <td><%= link_to 'Send message', new_message_path(user_id: user.id), class: 'btn btn-info-outline' %></td>
    15:       </tr>
    16:   <% end %>
    17:   </tbody>
  
app/views/users/index.html.erb:14:in `block in _app_views_users_index_html_erb___798876516__645990308'
app/views/users/index.html.erb:10:in `_app_views_users_index_html_erb___798876516__645990308'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (47.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:12:19 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 51ms (ActiveRecord: 0.3ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:12:19 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 184ms (Views: 174.4ms | ActiveRecord: 6.1ms)


Started GET "/admin" for 127.0.0.1 at 2016-07-16 10:12:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (41.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (13.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (178.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:12:26 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (41.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 46ms (ActiveRecord: 41.8ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:12:26 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 204ms (Views: 200.5ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:12:27 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:12:27 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 108ms (Views: 104.5ms | ActiveRecord: 1.7ms)


Started GET "/users/rails/info" for 127.0.0.1 at 2016-07-16 10:12:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/rails/info"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (16.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:14:02 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:14:02 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 132ms (Views: 127.3ms | ActiveRecord: 1.1ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 10:14:03 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: Send message to: <%= @recipient.name %> with email <%= @recipient.email %>
    2: <%= form_for [@recipient, Message.new] do |f| %>
    3:     <div class="form-group">
    4:       <%= f.label :body %>
  
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__646174508'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (18.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (76.8ms)
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 10:15:21 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  Rendered messages/new.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `email' for #<User::ActiveRecord_Relation:0xc19a15c>):
    1: Send message to: <%= @recipient.name %> with email <%= @recipient.email %>
    2: <%= form_for [@recipient, Message.new] do |f| %>
    3:     <div class="form-group">
    4:       <%= f.label :body %>
  
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008_101501440'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.5ms)
Started GET "/users/rails/info" for 127.0.0.1 at 2016-07-16 10:16:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/rails/info"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [30 times] (20.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (80.5ms)
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 10:16:52 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 83ms (ActiveRecord: 32.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'={:id=>"1"}):
  
app/controllers/messages_controller.rb:6:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:16:55 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 7ms (ActiveRecord: 3.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:16:55 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 179ms (Views: 174.8ms | ActiveRecord: 2.4ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 10:16:56 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'={:id=>"1"}):
  
app/controllers/messages_controller.rb:6:in `new'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.0ms)
Started PUT "/__web_console/repl_sessions/52b27b2d76bb90006ee352acf2155da8" for 127.0.0.1 at 2016-07-16 10:17:27 +0700
Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-16 10:17:41 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (48.0ms)
Completed 200 OK in 230ms (Views: 179.9ms | ActiveRecord: 0.5ms)


Started POST "/users/1/messages" for 127.0.0.1 at 2016-07-16 10:17:50 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JUKoEjM7xjrQr99+UnboUy7ftp3d5e8vRCFP05LMk+p0YDsxL9LIE+gOJDJBCDpbdcALMeHHdHBIC16dVf4aew==", "message"=>{"body"=>"dasdahskdjasd"}, "commit"=>"Send Message", "user_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 1], ["body", "dasdahskdjasd"], ["created_at", 2016-07-16 03:17:50 UTC], ["updated_at", 2016-07-16 03:17:50 UTC]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 17ms (ActiveRecord: 3.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:17:50 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 70ms (Views: 65.7ms | ActiveRecord: 2.6ms)


Started GET "/messages?user_id=2" for 127.0.0.1 at 2016-07-16 10:17:52 +0700
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (3.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 205ms (Views: 194.1ms | ActiveRecord: 8.7ms)


Started GET "/messages?user_id=2" for 127.0.0.1 at 2016-07-16 10:18:18 +0700
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (23.1ms)
Completed 200 OK in 144ms (Views: 135.2ms | ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:21:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (6.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  Rendered pages/index.html.erb within layouts/application (40.5ms)
Completed 200 OK in 129ms (Views: 119.8ms | ActiveRecord: 7.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 10:21:47 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eZtbrtouHM/v1EbNWcJIlvDOwfgU0JxSFJG4NO4fkYwouciNxscS5td1vYFKvJqeq9F8VCjyBw0Yu6l6KS0YHQ=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:21:47 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined method `received_messages' for nil:NilClass):
    1: <% current_user.received_messages.each do |message| %>
    2:     Unread message:
    3:     From <%= message.sender %>: <%= message.body %>
    4: <% end %>
  
app/views/pages/index.html.erb:1:in `_app_views_pages_index_html_erb__963555082__637476968'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (18.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (83.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:22:05 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (11.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 294ms (Views: 286.6ms | ActiveRecord: 4.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 10:22:07 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 201ms (Views: 196.7ms | ActiveRecord: 2.8ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 10:22:11 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+sxkpgmjtFGO0nJul6XWeM32z9SuCEpzGKuvm4aa2UK0SiLWksOPPdbiSexGHD8quIZErEO/wth5yfYuSbt74A==", "email"=>"pu@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 219ms (ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 10:22:12 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 112ms (Views: 109.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:22:14 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 202ms (Views: 188.6ms | ActiveRecord: 12.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:22:23 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (4.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 119ms (Views: 110.1ms | ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:22:35 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (4.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (39.5ms)
Completed 200 OK in 295ms (Views: 279.1ms | ActiveRecord: 14.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:24:23 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.2ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:3: syntax error, unexpected ')', expecting '('
...t_buffer.append=( if message. );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
'.freeze;     end 
                 ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/pages/index.html.erb:3: syntax error, unexpected ')', expecting '('
app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:25:00 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 74ms (Views: 56.7ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:26:59 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (8.6ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
... if @unread_message.count > 0 );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
     end 
        ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (42.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:29:55 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.9ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
... if @unread_message.count > 0 );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
     end 
        ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:29:59 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.2ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
... if @unread_message.count > 0 );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
     end 
        ^
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/pages/index.html.erb:2: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/pages/index.html.erb:8: syntax error, unexpected keyword_end, expecting ')'
app/views/pages/index.html.erb:10: syntax error, unexpected keyword_ensure, expecting ')'
app/views/pages/index.html.erb:12: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:30:03 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (5.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (61.5ms)
Completed 200 OK in 324ms (Views: 278.7ms | ActiveRecord: 26.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:34:34 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (6.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 136ms (Views: 125.3ms | ActiveRecord: 6.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:35:21 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (6.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 209ms (Views: 164.5ms | ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:35:31 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 217ms (Views: 202.7ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:35:51 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (3.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (39.6ms)
Completed 200 OK in 290ms (Views: 270.6ms | ActiveRecord: 10.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:36:28 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (36.9ms)
Completed 200 OK in 301ms (Views: 246.3ms | ActiveRecord: 26.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 10:36:31 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Gl3KZsuhQ/vPrYnrUWuOQdrqjogzk7Zi3chJB2Snuk9Lf1lF10hN0vcMcqdCFVxJgfUzJA+xLT3R4lhJo5Uz3g=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:36:31 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `received_messages' for nil:NilClass):
  
app/controllers/pages_controller.rb:5:in `index'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (107.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:37:48 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.7ms)


  
NoMethodError (undefined method `received_messages' for nil:NilClass):
  
app/controllers/pages_controller.rb:5:in `index'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (23.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (183.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 10:38:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 110.7ms | ActiveRecord: 5.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 10:38:16 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 150ms (Views: 146.6ms | ActiveRecord: 0.4ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 10:38:19 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YhCLda6O7G4EHlT4K0thUFFhzlgzNf1fnXcvcnZnVnIsls0FNe7XAlwub3r68ogCJBFFIN6CdfT8FXbHuUb00A==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 386ms (ActiveRecord: 18.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:38:19 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (29.2ms)
Completed 200 OK in 207ms (Views: 198.8ms | ActiveRecord: 5.8ms)


Started GET "/messages?user_id=2" for 127.0.0.1 at 2016-07-16 10:38:24 +0700
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (39.5ms)
Completed 200 OK in 197ms (Views: 183.0ms | ActiveRecord: 12.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 10:38:34 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"taIMCUv1Y6lFGwwJgAajJnmaXBb6Valj4AjPhdopWBDkgJ8qVxxtgH2690WTeHEuIoXhusZ3MjzsIt7LHRvRgQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:38:34 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (9.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 221ms (Views: 213.2ms | ActiveRecord: 5.2ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 10:38:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 171ms (Views: 166.6ms | ActiveRecord: 3.1ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 10:38:39 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uptW0m8HpwcGuXJFUi/mKrjUXWXAHR08aYSUnkEdbOj0HRCi9Geca16JSceDlg94zaTWHS2qlZcI5s0rjjzOSg==", "email"=>"pu@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 215ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:38:39 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 95ms (Views: 89.5ms | ActiveRecord: 4.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:39:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (3.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (70.7ms)
Completed 200 OK in 301ms (Views: 280.7ms | ActiveRecord: 10.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:42:30 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (5.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (54.8ms)
Completed 200 OK in 287ms (Views: 229.3ms | ActiveRecord: 12.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:42:48 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (22.9ms)
Completed 200 OK in 121ms (Views: 114.8ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:43:23 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 118ms (Views: 82.2ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:46:39 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (5.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (33.4ms)
Completed 200 OK in 226ms (Views: 213.2ms | ActiveRecord: 7.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:50:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (67.7ms)
  Rendered pages/index.html.erb within layouts/application (123.7ms)
Completed 200 OK in 286ms (Views: 262.8ms | ActiveRecord: 19.8ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 10:50:15 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (10.5ms)
Completed 200 OK in 206ms (Views: 199.4ms | ActiveRecord: 2.6ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 10:50:20 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 103ms (Views: 100.1ms | ActiveRecord: 0.6ms)


Started GET "/messages?user_id=3" for 127.0.0.1 at 2016-07-16 10:50:22 +0700
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (2.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 3[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (28.4ms)
Completed 200 OK in 184ms (Views: 169.2ms | ActiveRecord: 13.0ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 10:50:23 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 224ms (Views: 216.6ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:50:25 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (6.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (35.9ms)
  Rendered pages/index.html.erb within layouts/application (43.0ms)
Completed 200 OK in 204ms (Views: 190.9ms | ActiveRecord: 12.0ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 10:51:47 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 3)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 3) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (50.3ms)
Completed 200 OK in 229ms (Views: 179.7ms | ActiveRecord: 3.2ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 10:51:53 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (21.9ms)
Completed 200 OK in 171ms (Views: 161.7ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:52:48 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (46.9ms)
  Rendered pages/index.html.erb within layouts/application (88.3ms)
Completed 200 OK in 177ms (Views: 157.8ms | ActiveRecord: 18.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 10:53:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (28.2ms)
  Rendered pages/index.html.erb within layouts/application (33.7ms)
Completed 200 OK in 156ms (Views: 148.3ms | ActiveRecord: 6.6ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 10:53:20 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.1ms)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: Send message to: <%= @recipient.name %> with email <%= @recipient.email %>
    2: <%= form_for [@recipient, Message.new] do |f| %>
    3:     <div class="form-group">
    4:       <%= f.label :recipient %>
  
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__645481178'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.5ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 10:53:33 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ("users"."id" != 3)[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ("users"."id" != 3) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 135ms (Views: 123.7ms | ActiveRecord: 5.7ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 10:56:03 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (396.7ms)
Completed 500 Internal Server Error in 442ms (ActiveRecord: 5.5ms)


  
ActionView::Template::Error (undefined local variable or method `id' for #<#<Class:0xb30d74ac>:0xb1a1c988>):
    2:     <div class="form-group">
    3:       <div>
    4:         <%= f.label :recipient %>
    5:         <%= f.select :recipient, another_user.map { |recipient| [id, name] } %>
    6:       </div>
    7:       <div>
    8:         <%= f.label :body %>
  
app/views/messages/new.html.erb:5:in `block (2 levels) in _app_views_messages_new_html_erb___32769008__657397898'
app/views/messages/new.html.erb:5:in `block in _app_views_messages_new_html_erb___32769008__657397898'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___32769008__657397898'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.4ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 10:57:13 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (15.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (26.7ms)
Completed 200 OK in 227ms (Views: 201.7ms | ActiveRecord: 20.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 10:57:22 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (13.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 136ms (Views: 111.7ms | ActiveRecord: 17.5ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-16 10:57:32 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JwtqAVc1sixJDpxxUhH4aKwzKUl5L7Mm6/M2QPTKS3J2KfkiS9y8BXGvZz1Bbypg9yyU5UUNKHnn2ScOM/jC4w==", "message"=>{"recipient"=>"2", "body"=>"123123123"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Unpermitted parameter: recipient
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 3.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:14:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.3ms)
Started POST "/messages" for 127.0.0.1 at 2016-07-16 10:58:38 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JwtqAVc1sixJDpxxUhH4aKwzKUl5L7Mm6/M2QPTKS3J2KfkiS9y8BXGvZz1Bbypg9yyU5UUNKHnn2ScOM/jC4w==", "message"=>{"recipient"=>"2", "body"=>"123123123"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Unpermitted parameter: recipient
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 56ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  
app/controllers/messages_controller.rb:14:in `create'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.3ms)
Started PUT "/__web_console/repl_sessions/cf6ae993dfcb0767076e825033dcab30" for 127.0.0.1 at 2016-07-16 10:58:55 +0700
Started PUT "/__web_console/repl_sessions/cf6ae993dfcb0767076e825033dcab30" for 127.0.0.1 at 2016-07-16 10:59:05 +0700
Started GET "/" for 127.0.0.1 at 2016-07-16 11:02:02 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (25.4ms)
  Rendered pages/index.html.erb within layouts/application (40.4ms)
Completed 200 OK in 120ms (Views: 117.7ms | ActiveRecord: 1.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 11:02:04 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (18.4ms)
Completed 200 OK in 162ms (Views: 145.9ms | ActiveRecord: 4.6ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-16 11:02:11 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VJgiRnIoNs4QiNAwgTgGUHKpdULkBfksLm4LBjC382OxFGN5P8Abkydw+pYbD+hGYn/ug/QpffltTAj8GmjKXA==", "message"=>{"recipient_id"=>"2", "body"=>"dauydauy"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (4.5ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 3], ["recipient_id", 2], ["body", "dauydauy"], ["created_at", 2016-07-16 04:02:11 UTC], ["updated_at", 2016-07-16 04:02:11 UTC]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 51ms (ActiveRecord: 14.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 11:02:11 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered users/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 101ms (Views: 94.0ms | ActiveRecord: 3.5ms)


Started GET "/messages" for 127.0.0.1 at 2016-07-16 11:02:19 +0700
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (21.8ms)
Completed 200 OK in 184ms (Views: 176.0ms | ActiveRecord: 3.4ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 11:03:29 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (20.0ms)
Completed 200 OK in 263ms (Views: 241.8ms | ActiveRecord: 11.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:03:31 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (29.0ms)
  Rendered pages/index.html.erb within layouts/application (36.6ms)
Completed 200 OK in 200ms (Views: 194.7ms | ActiveRecord: 4.4ms)


Started GET "/messages/new?user_id=3" for 127.0.0.1 at 2016-07-16 11:03:36 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered messages/new.html.erb within layouts/application (43.8ms)
Completed 200 OK in 580ms (Views: 531.7ms | ActiveRecord: 7.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 11:04:53 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dMY2brr93yFNfin2emiazF3NE4/jyAwH4B7/amqRBAgl5KVNphTRCHXf0rppFkjEBtKuI9/ql1jsNO4kraONmQ=="}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:04:54 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (12.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 182ms (Views: 174.6ms | ActiveRecord: 4.9ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:04:57 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 4.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 11:04:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 202ms (Views: 186.9ms | ActiveRecord: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 11:05:01 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GcpFzc/COJoJwh6Nr/PC9wPy5p35JL+602y+mMyXhwVI6Nbu0ys2szFj5cG8jRD/WO1bMcUGJOXfRq/WC6UOlA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:05:01 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (43.0ms)
  Rendered pages/index.html.erb within layouts/application (49.4ms)
Completed 200 OK in 163ms (Views: 155.8ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:06:06 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (9.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-16 04:06:06 UTC], ["updated_at", 2016-07-16 04:06:06 UTC], ["id", 6]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendered messages/_unread.html.erb (41.9ms)
  Rendered pages/index.html.erb within layouts/application (60.6ms)
Completed 200 OK in 125ms (Views: 103.0ms | ActiveRecord: 19.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:15:57 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (12.7ms)
  Rendered pages/index.html.erb within layouts/application (32.8ms)
Completed 200 OK in 264ms (Views: 254.4ms | ActiveRecord: 6.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:16:08 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 193ms (Views: 189.9ms | ActiveRecord: 1.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 11:16:10 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.3ms | ActiveRecord: 0.5ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 11:16:15 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gQDkoS4Mad5EFz1tQIChSMp9SdEI7c+d0klmfmU/Kl5ucdkn1f0ExuZ0fSGp7+tNllckrfx5zoCmBnvaGnYUOg==", "email"=>"pu@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 256ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:16:15 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (25.1ms)
  Rendered pages/index.html.erb within layouts/application (28.6ms)
Completed 200 OK in 140ms (Views: 130.1ms | ActiveRecord: 8.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:16:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (12.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (8.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (6.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (69.4ms)
  Rendered pages/index.html.erb within layouts/application (91.6ms)
Completed 200 OK in 251ms (Views: 218.8ms | ActiveRecord: 29.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:16:22 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (25.8ms)
  Rendered pages/index.html.erb within layouts/application (30.9ms)
Completed 200 OK in 127ms (Views: 116.9ms | ActiveRecord: 9.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:33:12 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.0) lib/active_record/migration.rb:572:in `check_pending!'
activerecord (5.0.0) lib/active_record/migration.rb:548:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4594616852625822750);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFriendships (20160716042533)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160716042533"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4594616852625822750)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'friendships'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for 127.0.0.1 at 2016-07-16 11:37:26 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (13.3ms)
  Rendered pages/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 1010ms (Views: 981.5ms | ActiveRecord: 5.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:37:30 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 42ms (ActiveRecord: 0.3ms)


  
ActionController::UnknownFormat (PagesController#friends is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not… nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.0) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.0) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.0) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.0) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (53.8ms)
Started GET "/users" for 127.0.0.1 at 2016-07-16 11:37:40 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 135ms (Views: 125.7ms | ActiveRecord: 5.5ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 11:38:48 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 149ms (Views: 143.7ms | ActiveRecord: 1.5ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 11:39:46 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered users/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 230ms (Views: 215.8ms | ActiveRecord: 3.5ms)


Started POST "/friends?friend_id=1" for 127.0.0.1 at 2016-07-16 11:39:48 +0700
  
ActionController::RoutingError (No route matches [POST] "/friends"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [31 times] (11.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (68.1ms)
Started POST "/friends?friend_id=1" for 127.0.0.1 at 2016-07-16 11:40:48 +0700
  
ActionController::RoutingError (No route matches [POST] "/friends"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [33 times] (50.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (149.0ms)
Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:40:59 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:41:16 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:41:22 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/friends?friend_id=1" for 127.0.0.1 at 2016-07-16 11:41:29 +0700
  
ActionController::RoutingError (No route matches [POST] "/friends"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:41:29 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 0.0ms)


  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [33 times] (41.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (142.9ms)
Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:46:21 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes?path=frien" for 127.0.0.1 at 2016-07-16 11:46:31 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"path"=>"frien", "internal"=>true}
Completed 200 OK in 18ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:46:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (48.6ms)
  Rendered pages/index.html.erb within layouts/application (148.8ms)
Completed 200 OK in 443ms (Views: 403.4ms | ActiveRecord: 34.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:46:34 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 68ms (ActiveRecord: 0.4ms)


  
ActionController::UnknownFormat (PagesController#friends is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not… nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.0) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.0) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.0) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.0) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 11:46:37 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (7.3ms)
  Rendered pages/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 196ms (Views: 189.3ms | ActiveRecord: 6.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:46:47 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 27ms (ActiveRecord: 0.4ms)


  
ActionController::UnknownFormat (PagesController#friends is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not… nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.0) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.0) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.0) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.0) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.4ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:47:13 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (11.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (42.2ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 18.6ms)


  
ActionView::Template::Error (No route matches {:action=>"destroy", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    13:         <td><%= user.email %></td>
    14:         <td>
    15:           <%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %>
    16:           <%= link_to 'Add friend', friendship_path(friend_id: user), method: 'post', class: 'btn btn-info-outline' %>
    17:         </td>
    18:       </tr>
    19:   <% end %>
  
app/views/pages/friends.html.erb:16:in `block in _app_views_pages_friends_html_erb___768147216_114682860'
app/views/pages/friends.html.erb:10:in `_app_views_pages_friends_html_erb___768147216_114682860'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (53.1ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:47:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (30.4ms)
Completed 200 OK in 339ms (Views: 305.0ms | ActiveRecord: 3.2ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-16 11:47:29 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"2ivkGLO84cnL2ND8Xzf7fPX1kKtCl9RN213jVsNjpFaLCXc7r1Xv4PN5K7BMSSl0ruotB361TxLXd/IYBFEtxw==", "friend_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", 2016-07-16 04:47:29 UTC], ["updated_at", 2016-07-16 04:47:29 UTC]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 147ms (ActiveRecord: 18.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:47:29 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (22.3ms)
  Rendered pages/index.html.erb within layouts/application (31.1ms)
Completed 200 OK in 240ms (Views: 233.1ms | ActiveRecord: 4.1ms)


  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT  "friendships".* FROM "friendships" ORDER BY "friendships"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:48:06 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (5.5ms)
Completed 200 OK in 226ms (Views: 221.8ms | ActiveRecord: 2.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:49:35 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (11.9ms)
Completed 200 OK in 160ms (Views: 129.0ms | ActiveRecord: 12.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 11:49:37 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (81.1ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 3.1ms)


  
ActionView::Template::Error (undefined method `name' for #<Friendship:0xdc47310>):
    2:     <div class="form-group">
    3:       <div>
    4:         <%= f.label :recipient_id %>
    5:         <%= f.select :recipient_id, current_user.friendships.map { |recipient| [recipient.name, recipient.id] } %>
    6:       </div>
    7:       <div>
    8:         <%= f.label :body %>
  
app/views/messages/new.html.erb:5:in `block (2 levels) in _app_views_messages_new_html_erb___69186041_114547150'
app/views/messages/new.html.erb:5:in `block in _app_views_messages_new_html_erb___69186041_114547150'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb___69186041_114547150'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.3ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 11:50:01 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (98.4ms)
Completed 200 OK in 324ms (Views: 304.8ms | ActiveRecord: 7.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:50:06 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (21.6ms)
Completed 200 OK in 179ms (Views: 173.0ms | ActiveRecord: 3.4ms)


Started GET "/users/3/messages/new" for 127.0.0.1 at 2016-07-16 11:50:07 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (36.2ms)
Completed 200 OK in 259ms (Views: 245.2ms | ActiveRecord: 4.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 11:50:12 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (15.1ms)
Completed 200 OK in 370ms (Views: 350.1ms | ActiveRecord: 12.6ms)


Started GET "/users/3/messages/new" for 127.0.0.1 at 2016-07-16 11:50:14 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (21.5ms)
Completed 200 OK in 253ms (Views: 241.1ms | ActiveRecord: 5.0ms)


Started POST "/friendships?friend_id=3" for 127.0.0.1 at 2016-07-16 11:50:18 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"iFKURgPEJrSFbrgro5GoTKbOPOHpq93m2oH/hwRczSnZcAdlHy0onb3PQ2ew73pE/dGBTdWJRrnWq+7Jw25EuA==", "friend_id"=>"3"}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (3.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 3], ["created_at", 2016-07-16 04:50:18 UTC], ["updated_at", 2016-07-16 04:50:18 UTC]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 12.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:50:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (7.5ms)
  Rendered pages/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 215ms (Views: 208.2ms | ActiveRecord: 5.8ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 11:50:20 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (21.0ms)
Completed 200 OK in 335ms (Views: 312.9ms | ActiveRecord: 10.8ms)


Started GET "/messages" for 127.0.0.1 at 2016-07-16 11:51:18 +0700
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (8.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (50.5ms)
Completed 200 OK in 189ms (Views: 167.8ms | ActiveRecord: 17.0ms)


Started GET "/messages" for 127.0.0.1 at 2016-07-16 11:54:44 +0700
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (23.3ms)
Completed 200 OK in 131ms (Views: 113.9ms | ActiveRecord: 1.8ms)


Started GET "/messages" for 127.0.0.1 at 2016-07-16 11:54:46 +0700
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (30.0ms)
Completed 200 OK in 152ms (Views: 142.5ms | ActiveRecord: 6.1ms)


Started GET "/messages" for 127.0.0.1 at 2016-07-16 11:56:06 +0700
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/index.html.erb within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.erb within layouts/application (37.5ms)
Completed 500 Internal Server Error in 449ms (ActiveRecord: 3.4ms)


  
ActionView::Template::Error (undefined local variable or method `sent_path' for #<#<Class:0xd2efec0>:0xd2ef4c0>
Did you mean?  asset_path
               sessions_path
               font_path
               user_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646_110586980'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.6ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 11:56:19 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (34.8ms)
Completed 500 Internal Server Error in 656ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `sent_path' for #<#<Class:0xd2efec0>:0xdcff050>
Did you mean?  asset_path
               sessions_path
               font_path
               user_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646_115862140'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (11.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (103.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 11:56:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (7.5ms)
  Rendered pages/index.html.erb within layouts/application (15.0ms)
Completed 500 Internal Server Error in 501ms (ActiveRecord: 6.3ms)


  
ActionView::Template::Error (undefined local variable or method `sent_path' for #<#<Class:0xd1f824c>:0xd297590>
Did you mean?  asset_path
               sessions_path
               font_path
               user_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646_110406810'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 11:56:23 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.9ms)
  Rendered pages/index.html.erb within layouts/application (10.3ms)
Completed 500 Internal Server Error in 405ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (undefined local variable or method `sent_path' for #<#<Class:0xd1f824c>:0xd827488>
Did you mean?  asset_path
               sessions_path
               font_path
               user_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646_113323040'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (87.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 11:57:25 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (8.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (15.7ms)
  Rendered pages/index.html.erb within layouts/application (43.2ms)
Completed 500 Internal Server Error in 625ms (ActiveRecord: 11.9ms)


  
ActionView::Template::Error (undefined local variable or method `sent_path' for #<#<Class:0xd1f824c>:0xd65c1d0>
Did you mean?  asset_path
               sessions_path
               font_path
               user_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646__636070998'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.6ms)
Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-16 11:57:34 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [34 times] (38.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (12.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (73.3ms)
Completed 200 OK in 109ms (Views: 106.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 11:58:24 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (20.9ms)
  Rendered pages/index.html.erb within layouts/application (42.6ms)
Completed 500 Internal Server Error in 589ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined local variable or method `messages_sent_path' for #<#<Class:0xb3d84f9c>:0xb3d845ec>
Did you mean?  messages_path):
    28:           <%= link_to 'New message', new_message_path, class: 'nav-link' %>
    29:         </li>
    30:         <li class="nav-item <%= 'active' if current_page? messages_path %>">
    31:           <%= link_to 'Sent Message', messages_sent_path, class: 'nav-link' %>
    32:         </li>
    33: 
    34:         <div class="form-inline pull-xs-right">
  
app/views/layouts/application.html.erb:31:in `_app_views_layouts_application_html_erb___796157646__638749508'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (27.5ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 11:58:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (22.0ms)
  Rendered pages/index.html.erb within layouts/application (42.6ms)
Completed 200 OK in 235ms (Views: 207.8ms | ActiveRecord: 3.1ms)


Started GET "/sent" for 127.0.0.1 at 2016-07-16 11:58:47 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (2.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  Rendered messages/sent.html.erb within layouts/application (73.1ms)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 20.4ms)


  
ActionView::Template::Error (undefined method `recipient' for #<Message::ActiveRecord_Relation:0xb3daee8c>):
    3:       You didn't send any messages.
    4:     </div>
    5: <% else %>
    6:     <% @messages.recipient do |recipient| %>
    7:         <div>
    8:           To <%= recipient %>
    9:         </div>
  
app/views/messages/sent.html.erb:6:in `_app_views_messages_sent_html_erb__560282627__638783198'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.4ms)
Started PUT "/__web_console/repl_sessions/a3288b13cec3ad75da838fe76ef400a8" for 127.0.0.1 at 2016-07-16 12:00:06 +0700
Started PUT "/__web_console/repl_sessions/a3288b13cec3ad75da838fe76ef400a8" for 127.0.0.1 at 2016-07-16 12:00:09 +0700
Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:00:25 +0700
  
AbstractController::ActionNotFound (The action 'sent' could not be found for MessagesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.7ms)
Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:00:39 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  Rendered pages/sent.html.erb within layouts/application (26.2ms)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `recipient' for #<Message::ActiveRecord_Relation:0xb467cd34>):
    3:       You didn't send any messages.
    4:     </div>
    5: <% else %>
    6:     <% @messages.recipient.each do |recipient| %>
    7:         <div>
    8:           To <%= recipient %>
    9:         </div>
  
app/views/pages/sent.html.erb:6:in `_app_views_pages_sent_html_erb___59286278__634322418'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.2ms)
Started PUT "/__web_console/repl_sessions/23e105eeb86d858f8ca7bb683092a95a" for 127.0.0.1 at 2016-07-16 12:03:31 +0700
Started PUT "/__web_console/repl_sessions/23e105eeb86d858f8ca7bb683092a95a" for 127.0.0.1 at 2016-07-16 12:03:36 +0700
Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:04:14 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  Rendered pages/sent.html.erb within layouts/application (15.2ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 5.0ms)


  
ActionView::Template::Error (undefined method `recipient' for #<Message::ActiveRecord_Relation:0xd600ca4>):
    3:       You didn't send any messages.
    4:     </div>
    5: <% else %>
    6:     <% @messages.recipient.each do |recipient| %>
    7:         <div>
    8:           To <%= recipient.name %>
    9:         </div>
  
app/views/pages/sent.html.erb:6:in `_app_views_pages_sent_html_erb___59286278_112164760'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.4ms)
Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:06:48 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (7.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (7.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  Rendered pages/sent.html.erb within layouts/application (144.1ms)
Completed 500 Internal Server Error in 199ms (ActiveRecord: 15.6ms)


  
ActionView::Template::Error (undefined method `recipient' for #<Message::ActiveRecord_Relation:0xce06008>):
    3:       You didn't send any messages.
    4:     </div>
    5: <% else %>
    6:     <% @messages.recipient.each do |recipient| %>
    7:         <div>
    8:           To <%= recipient.name %>
    9:         </div>
  
app/views/pages/sent.html.erb:6:in `_app_views_pages_sent_html_erb___59286278_107985640'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.1ms)
Started PUT "/__web_console/repl_sessions/1c82c0f4baa92b4a23cf9aa74d615a20" for 127.0.0.1 at 2016-07-16 12:07:29 +0700
Started PUT "/__web_console/repl_sessions/1c82c0f4baa92b4a23cf9aa74d615a20" for 127.0.0.1 at 2016-07-16 12:07:32 +0700
Started PUT "/__web_console/repl_sessions/1c82c0f4baa92b4a23cf9aa74d615a20" for 127.0.0.1 at 2016-07-16 12:07:34 +0700
Started PUT "/__web_console/repl_sessions/1c82c0f4baa92b4a23cf9aa74d615a20" for 127.0.0.1 at 2016-07-16 12:07:39 +0700
Started PUT "/__web_console/repl_sessions/1c82c0f4baa92b4a23cf9aa74d615a20" for 127.0.0.1 at 2016-07-16 12:07:44 +0700
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN users WHERE users.recipient_id = messages.id SELECT messages.*, users.name AS recipient_name WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN users ON users.recipient_id = messages.id SELECT messages.*, users.name AS recipient_name WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" SELECT messages.*, users.name AS recipient_name FROM (INNER JOIN users ON users.recipient_id = messages.id) WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN users ON users.recipient_id = messages.id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" INNER JOIN users ON users.id = messages.recipient_id SELECT messages.* WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT messages.* FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC, "messages"."recipient_name" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC, "messages"."recipient_name" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN users ON users.id = messages.recipient_id WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC, "messages"."recipient_name" ASC[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC, "messages"."recipient_name" ASC[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_name" ASC[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC, recipient_name asc[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY recipient_id asc, recipient_name asc[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY recipient_id asc, recipient_name desc[0m
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT messages.*, users.name AS recipient_name FROM "messages" INNER JOIN "users" ON "users"."id" = "messages"."recipient_id" WHERE "messages"."sender_id" = 2 ORDER BY recipient_id asc, recipient_name desc[0m
Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:30:25 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#sent as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered pages/sent.html.erb within layouts/application (28.1ms)
Completed 200 OK in 586ms (Views: 537.0ms | ActiveRecord: 8.3ms)


Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:30:43 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered pages/sent.html.erb within layouts/application (27.4ms)
Completed 200 OK in 153ms (Views: 139.3ms | ActiveRecord: 8.4ms)


Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:30:59 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered pages/sent.html.erb within layouts/application (31.7ms)
Completed 200 OK in 144ms (Views: 128.4ms | ActiveRecord: 11.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:32:01 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (6.4ms)
Completed 200 OK in 150ms (Views: 145.3ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 12:35:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (8.9ms)
  Rendered pages/index.html.erb within layouts/application (20.4ms)
Completed 200 OK in 271ms (Views: 264.5ms | ActiveRecord: 2.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:36:35 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (5.5ms)
Completed 200 OK in 123ms (Views: 116.3ms | ActiveRecord: 5.1ms)


  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:42:56 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (3.1ms)
Completed 200 OK in 75ms (Views: 60.7ms | ActiveRecord: 0.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:42:59 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (14.8ms)
Completed 200 OK in 326ms (Views: 310.6ms | ActiveRecord: 5.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:43:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (35.4ms)
Completed 200 OK in 90ms (Views: 85.3ms | ActiveRecord: 3.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:43:33 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (12.1ms)
Completed 200 OK in 78ms (Views: 71.5ms | ActiveRecord: 3.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:43:56 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (12.6ms)
Completed 200 OK in 88ms (Views: 80.3ms | ActiveRecord: 5.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:43:58 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (9.4ms)
Completed 200 OK in 94ms (Views: 90.8ms | ActiveRecord: 1.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:44:09 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  Rendered pages/friends.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (debug):
    1: <h1>Your friends</h1>
    2: <%= raise 'debug' %>
    3: <% if current_user.friends.count > 0 %>
    4:     <% current_user.friends do |friend| %>
    5:         <div>
  
app/views/pages/friends.html.erb:2:in `_app_views_pages_friends_html_erb___869458774__654228008'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.0ms)
Started PUT "/__web_console/repl_sessions/d2d4af1af963bd0110739c0c7e79f724" for 127.0.0.1 at 2016-07-16 12:44:14 +0700
Started PUT "/__web_console/repl_sessions/d2d4af1af963bd0110739c0c7e79f724" for 127.0.0.1 at 2016-07-16 12:44:20 +0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
Started PUT "/__web_console/repl_sessions/d2d4af1af963bd0110739c0c7e79f724" for 127.0.0.1 at 2016-07-16 12:44:29 +0700
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/d2d4af1af963bd0110739c0c7e79f724" for 127.0.0.1 at 2016-07-16 12:44:33 +0700
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:45:13 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  Rendered pages/friends.html.erb within layouts/application (8.1ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (debug):
    1: <h1>Your friends</h1>
    2: <%= raise 'debug' %>
    3: <% if current_user.friends.count > 0 %>
    4:     <% current_user.friends do |friend| %>
    5:         <div>
  
app/views/pages/friends.html.erb:2:in `_app_views_pages_friends_html_erb___869458774__647964558'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (29.0ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:45:22 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (9.0ms)
Completed 200 OK in 65ms (Views: 56.2ms | ActiveRecord: 6.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:45:43 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (7.1ms)
Completed 200 OK in 74ms (Views: 66.3ms | ActiveRecord: 2.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:45:54 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (10.2ms)
Completed 200 OK in 104ms (Views: 98.3ms | ActiveRecord: 3.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:47:18 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (21.3ms)
Completed 200 OK in 103ms (Views: 89.9ms | ActiveRecord: 9.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:47:31 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  Rendered pages/friends.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (debug):
    1: <h1>Your friends</h1>
    2: <%= raise 'debug' %>
    3: <% if current_user.friends.count > 0 %>
    4:     <% current_user.friends do |friend| %>
    5:         <div>
  
app/views/pages/friends.html.erb:2:in `_app_views_pages_friends_html_erb___869458774__650964548'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (31.1ms)
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:36 +0700
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:40 +0700
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:43 +0700
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:47 +0700
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:53 +0700
Started PUT "/__web_console/repl_sessions/302e8d55c6954b99995a2db08763bd08" for 127.0.0.1 at 2016-07-16 12:47:55 +0700
Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:48:12 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (43.6ms)
Completed 200 OK in 476ms (Views: 430.2ms | ActiveRecord: 6.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 12:48:15 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (104.1ms)
Completed 200 OK in 193ms (Views: 177.7ms | ActiveRecord: 12.3ms)


Started GET "/sent" for 127.0.0.1 at 2016-07-16 12:48:17 +0700
Processing by PagesController#sent as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/sent.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2 ORDER BY "messages"."recipient_id" ASC[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered pages/sent.html.erb within layouts/application (32.1ms)
Completed 200 OK in 139ms (Views: 124.3ms | ActiveRecord: 4.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:48:18 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (10.0ms)
Completed 200 OK in 140ms (Views: 136.2ms | ActiveRecord: 1.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:48:41 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (20.3ms)
Completed 200 OK in 110ms (Views: 101.1ms | ActiveRecord: 4.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:48:42 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (11.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (18.8ms)
Completed 200 OK in 109ms (Views: 88.3ms | ActiveRecord: 12.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:49:15 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (20.3ms)
Completed 200 OK in 134ms (Views: 113.7ms | ActiveRecord: 8.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:49:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (21.5ms)
Completed 200 OK in 114ms (Views: 103.8ms | ActiveRecord: 1.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:49:32 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (20.4ms)
Completed 200 OK in 144ms (Views: 134.2ms | ActiveRecord: 7.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:49:40 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (12.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (21.5ms)
Completed 200 OK in 107ms (Views: 86.1ms | ActiveRecord: 15.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:50:54 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (250.9ms)
Completed 500 Internal Server Error in 288ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (undefined local variable or method `user' for #<#<Class:0xae2e460>:0xb2defa78>):
    14:             <th scope="row"><%= friend.name %></th>
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: user.id), class: 'btn btn-info-outline' %>
    18:             </td>
    19:           </tr>
    20:       <% end %>
  
app/views/pages/friends.html.erb:17:in `block in _app_views_pages_friends_html_erb__27067148__647004188'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__27067148__647004188'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.8ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:51:04 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (19.1ms)
Completed 200 OK in 133ms (Views: 122.6ms | ActiveRecord: 6.6ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-16 12:51:13 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"jYhlBRFw56X5rzYNk1eOOFZr+P4z4wy6ymhQgx4XiCjcqvYmDZnpjMEOzUGAKVwwDXRFUg/Bl+XGQkHN2SUBuQ==", "friend_id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", 2016-07-16 05:51:13 UTC], ["updated_at", 2016-07-16 05:51:13 UTC]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 47ms (ActiveRecord: 11.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 12:51:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.4ms)
  Rendered pages/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 105ms (Views: 102.7ms | ActiveRecord: 0.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:51:15 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (15.2ms)
Completed 200 OK in 192ms (Views: 187.6ms | ActiveRecord: 1.2ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2016-07-16 12:51:26 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"gh/r7esa7LI/zQYMMgB/v1Ud5nqKgy98GWEGwh6rtenTPXjO9/Pimwds/UAhfq23DgJb1rahtCMVSxeM2Zk8eA==", "friend_id"=>"5"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 5], ["created_at", 2016-07-16 05:51:26 UTC], ["updated_at", 2016-07-16 05:51:26 UTC]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 7.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 12:51:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.9ms)
  Rendered pages/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 175ms (Views: 173.1ms | ActiveRecord: 0.9ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:51:28 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (10.6ms)
Completed 200 OK in 122ms (Views: 115.5ms | ActiveRecord: 4.7ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-16 12:51:30 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"w35l5qchIUvwyKsznhjko9j9LcscRRUzwV2GHmvTC9uSXPbFu8gvYshpUH+NZjarg+KQZyBnjmzNd5dQrOGCSg==", "friend_id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 1], ["created_at", 2016-07-16 05:51:30 UTC], ["updated_at", 2016-07-16 05:51:30 UTC]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 7.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 12:51:30 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.2ms)
  Rendered pages/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 109ms (Views: 106.2ms | ActiveRecord: 2.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 12:51:31 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (17.2ms)
Completed 200 OK in 139ms (Views: 134.8ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 13:41:16 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (75.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1159ms (Views: 1118.1ms | ActiveRecord: 13.5ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2[0m  [["user_id", 2], ["friend_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2[0m  [["user_id", 2], ["id", 3]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."id" = $2[0m  [["user_id", 2], ["id", 3]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."id" = $2[0m  [["user_id", 2], ["id", 2]]
Started GET "/login" for 127.0.0.1 at 2016-07-16 13:56:22 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 147ms (Views: 139.3ms | ActiveRecord: 1.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 13:56:26 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2lT8ay+U/F2LtQNq3CIK6SSYXl5QLP4qWoBQZua+GsPVHratTVGluDIhpx6EaJGfF8jaXOXLp6OHW4GoXa0FRw==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 200ms (ActiveRecord: 5.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 13:56:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (26.0ms)
  Rendered pages/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 132ms (Views: 125.5ms | ActiveRecord: 5.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:56:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (120.0ms)
Completed 500 Internal Server Error in 145ms (ActiveRecord: 23.8ms)


  
ActionView::Template::Error (wrong number of arguments (given 1, expected 0)):
    39:         <th scope="row"><%= user.name %></th>
    40:         <td><%= user.email %></td>
    41:         <td>
    42:           <% if user.friend_with?(current_user) %>
    43:               <%= link_to 'Add friend', friendships_path(friend_id: user), method: 'post', class: 'btn btn-info-outline' %>
    44:           <% end %>
    45:         </td>
  
app/models/user.rb:25:in `friend_with?'
app/views/pages/friends.html.erb:42:in `block in _app_views_pages_friends_html_erb__214835708__647047548'
app/views/pages/friends.html.erb:37:in `_app_views_pages_friends_html_erb__214835708__647047548'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (42.4ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:56:47 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (69.9ms)
Completed 200 OK in 260ms (Views: 203.3ms | ActiveRecord: 20.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 13:57:20 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Lf8dKbh/ty+QonLBpWyQR2qxJv2NTIPDRdpFOcEJZ7EIJ2GIeT6i0Te4rgXUMLsLVKt4NbOE/gxf8tmKK0J6UQ=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 13:57:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 157ms (Views: 155.4ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 13:57:21 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 173ms (Views: 166.0ms | ActiveRecord: 6.3ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 13:57:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9eYAndsciE3iKqqGnDwR7OVPZSWJvLTCvkFHSchkhB76rEpbudnRqFu+DvLEdoqa1h/hJzxb7UtjmpaHc3ebmg==", "email"=>"pu@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pu@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 186ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 13:57:24 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (94.8ms)
  Rendered pages/index.html.erb within layouts/application (102.7ms)
Completed 200 OK in 229ms (Views: 211.5ms | ActiveRecord: 15.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:57:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (54.1ms)
Completed 200 OK in 241ms (Views: 234.2ms | ActiveRecord: 2.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:57:46 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (13.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (debug):
    39:         <th scope="row"><%= user.name %></th>
    40:         <td><%= user.email %></td>
    41:         <td>
    42:           <%= raise 'debug' %>
    43:           <% if user.friend_with?(current_user) %>
    44:               <%= link_to 'Add friend', friendships_path(friend_id: user), method: 'post', class: 'btn btn-info-outline' %>
    45:           <% end %>
  
app/views/pages/friends.html.erb:42:in `block in _app_views_pages_friends_html_erb__214835708__654577158'
app/views/pages/friends.html.erb:37:in `_app_views_pages_friends_html_erb__214835708__654577158'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (15.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (79.5ms)
Started PUT "/__web_console/repl_sessions/6a108a1ee948df84402eb012e7f818d8" for 127.0.0.1 at 2016-07-16 13:57:51 +0700
Started PUT "/__web_console/repl_sessions/6a108a1ee948df84402eb012e7f818d8" for 127.0.0.1 at 2016-07-16 13:58:05 +0700
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."id" = 3[0m  [["user_id", 1]]
Started PUT "/__web_console/repl_sessions/6a108a1ee948df84402eb012e7f818d8" for 127.0.0.1 at 2016-07-16 13:58:45 +0700
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."id" = 3[0m  [["user_id", 1]]
Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:58:49 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (50.8ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (debug):
    39:         <th scope="row"><%= user.name %></th>
    40:         <td><%= user.email %></td>
    41:         <td>
    42:           <%= raise 'debug' %>
    43:           <% if user.friend_with?(current_user) %>
    44:               <%= link_to 'Add friend', friendships_path(friend_id: user), method: 'post', class: 'btn btn-info-outline' %>
    45:           <% end %>
  
app/views/pages/friends.html.erb:42:in `block in _app_views_pages_friends_html_erb__214835708__658181998'
app/views/pages/friends.html.erb:37:in `_app_views_pages_friends_html_erb__214835708__658181998'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (18.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (15.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (127.8ms)
Started PUT "/__web_console/repl_sessions/99f3b0ef7dfa01cf7527c954160c5918" for 127.0.0.1 at 2016-07-16 13:58:53 +0700
Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:59:06 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (30.8ms)
Completed 200 OK in 156ms (Views: 126.5ms | ActiveRecord: 5.5ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 13:59:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (22.5ms)
Completed 200 OK in 173ms (Views: 170.4ms | ActiveRecord: 1.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 14:02:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (29.1ms)
Completed 200 OK in 196ms (Views: 187.9ms | ActiveRecord: 5.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 14:05:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (17.1ms)
Completed 200 OK in 99ms (Views: 93.0ms | ActiveRecord: 4.9ms)


  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships"[0m
Started GET "/friends" for 127.0.0.1 at 2016-07-16 14:06:56 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (9.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 3)[0m
  Rendered pages/friends.html.erb within layouts/application (29.7ms)
Completed 200 OK in 159ms (Views: 114.1ms | ActiveRecord: 12.0ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from irb_binding at (irb):22)
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2016-07-16 14:15:57 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (80.6ms)
  Rendered pages/index.html.erb within layouts/application (139.2ms)
Completed 200 OK in 262ms (Views: 238.2ms | ActiveRecord: 15.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:25:34 +0700
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY "messages"."recipient_id" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-16 07:25:34 UTC], ["updated_at", 2016-07-16 07:25:34 UTC], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-16 07:25:34 UTC], ["updated_at", 2016-07-16 07:25:34 UTC], ["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering pages/index.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.3ms)
  Rendered pages/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 190ms (Views: 110.3ms | ActiveRecord: 8.9ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-16 14:39:39 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [34 times] (36.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (27.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (79.2ms)
Completed 200 OK in 85ms (Views: 82.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:53:54 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (3.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (8.3ms)
  Rendered pages/index.html.erb within layouts/application (55.1ms)
Completed 200 OK in 168ms (Views: 157.6ms | ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:54:03 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 137.0ms | ActiveRecord: 5.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-16 14:54:05 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 112.1ms | ActiveRecord: 0.4ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-16 14:54:07 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wpgv+hJ/JUoUMDlRit4/D+tc+zDLfPPoNzSY1yxet78+LKq5PPZA/3lBmBOuTXfSviyFLjckmUh2VVi323CM1Q==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 149ms (ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:54:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.0ms)
  Rendered pages/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 94ms (Views: 88.9ms | ActiveRecord: 2.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-16 14:54:09 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (71.9ms)
Completed 200 OK in 226ms (Views: 199.3ms | ActiveRecord: 20.2ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-16 14:54:13 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hjj52hEwopzkJdZrnHBVDAn/uvyVbWF1x5j9k52+YG/jqGb0AVHbEAwu5y1gswytyX4M+i3UDeHaXfcDelVaPg==", "message"=>{"recipient_id"=>"3", "body"=>"111"}, "commit"=>"Send Message"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (10.3ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 3], ["body", "111"], ["created_at", 2016-07-16 07:54:13 UTC], ["updated_at", 2016-07-16 07:54:13 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 82ms (ActiveRecord: 13.5ms)


Started GET "/users" for 127.0.0.1 at 2016-07-16 14:54:14 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 144ms (Views: 136.1ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:54:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (3.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (19.8ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 5.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"messages"} missing required keys: [:id]):
    1: <% if signed_in? %>
    2:     <% if current_user.received_messages.unread %>
    3:         <% current_user.received_messages.unread.each do |message| %>
    4:             <%= link_to "Message from #{message.sender.name}", message_path %>
    5:         <% end %>
    6:         <%= render 'messages/unread' %>
    7:     <% else %>
  
app/views/pages/index.html.erb:4:in `block in _app_views_pages_index_html_erb___355286072__654462018'
app/views/pages/index.html.erb:3:in `_app_views_pages_index_html_erb___355286072__654462018'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (51.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 14:54:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (12.3ms)
  Rendered pages/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 162ms (Views: 149.5ms | ActiveRecord: 11.6ms)


Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 14:54:44 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `unread' for #<Message:0x910e6f0>):
  
app/controllers/messages_controller.rb:7:in `show'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (78.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 14:58:48 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (11.3ms)
  Rendered pages/index.html.erb within layouts/application (97.5ms)
Completed 200 OK in 183ms (Views: 161.6ms | ActiveRecord: 18.1ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-16 14:58:52 +0700
  
AbstractController::ActionNotFound (The action 'received' could not be found for MessagesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-16 14:58:55 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (15.6ms)
  Rendered pages/index.html.erb within layouts/application (39.3ms)
Completed 200 OK in 176ms (Views: 165.4ms | ActiveRecord: 8.4ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-16 14:58:57 +0700
  
AbstractController::ActionNotFound (The action 'sent' could not be found for MessagesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.5ms)
Started GET "/messages/sent" for 127.0.0.1 at 2016-07-16 14:59:41 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  Rendered messages/sent.html.erb within layouts/application (0.5ms)
Completed 200 OK in 166ms (Views: 124.7ms | ActiveRecord: 0.5ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-16 14:59:56 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  Rendered messages/sent.html.erb within layouts/application (0.5ms)
Completed 200 OK in 103ms (Views: 101.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 14:59:58 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (16.0ms)
  Rendered pages/index.html.erb within layouts/application (69.2ms)
Completed 200 OK in 177ms (Views: 151.3ms | ActiveRecord: 20.9ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-16 15:00:02 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  Rendered messages/received.html.erb within layouts/application (0.5ms)
Completed 200 OK in 176ms (Views: 171.2ms | ActiveRecord: 0.2ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-16 15:00:03 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  Rendered messages/sent.html.erb within layouts/application (0.5ms)
Completed 200 OK in 166ms (Views: 161.2ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 15:06:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (20.7ms)
  Rendered pages/index.html.erb within layouts/application (36.7ms)
Completed 200 OK in 181ms (Views: 172.7ms | ActiveRecord: 6.4ms)


Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 15:06:36 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `unread' for #<Message:0xb2b147a4>):
  
app/controllers/messages_controller.rb:15:in `show'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (76.5ms)
Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 15:07:56 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `unread?' for #<Message:0xb17e4c24>
Did you mean?  untrusted?):
  
app/controllers/messages_controller.rb:15:in `show'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (37.8ms)
Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 15:09:02 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 133ms (Views: 86.3ms | ActiveRecord: 8.0ms)


Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 15:10:06 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/show.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/show.html.erb within layouts/application (15.3ms)
Completed 200 OK in 118ms (Views: 103.6ms | ActiveRecord: 6.8ms)


Started GET "/messages/7" for 127.0.0.1 at 2016-07-16 15:10:12 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/show.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 145ms (Views: 133.9ms | ActiveRecord: 3.6ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-16 15:10:16 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  Rendered messages/sent.html.erb within layouts/application (0.5ms)
Completed 200 OK in 144ms (Views: 140.6ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 15:30:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 3 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (9.6ms)
  Rendered pages/index.html.erb within layouts/application (92.0ms)
Completed 200 OK in 173ms (Views: 151.3ms | ActiveRecord: 18.5ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-16 15:30:47 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SShwI7X0awTVxhJQzq3v98Twc5kKK7LC5UWDB8EQd2Vs8AyCdLV++nLczpS/8cS7+uotUTTjzw3/bR+0K1tqhQ=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 15:30:47 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 99.0ms | ActiveRecord: 2.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-16 15:30:49 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (11.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 118.5ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-16 15:30:58 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yskmVUBbohB9tzwjRNvaPvrEjVmg4xs1HXXwVphadyyagBS8g8vitQAvDbGlqH6ckJd34z5Wz1J4NVJMnp+Fvg==", "user"=>{"name"=>"kpu", "email"=>"kpu@mail.com", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "kpu@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (5.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "kpu"], ["email", "kpu@mail.com"], ["password_digest", "$2a$10$x5gpfOlNIY5Tn5nFaBaoRuzATtaN545bjwAW2vgkIxOevIG0kttj6"], ["created_at", 2016-07-16 08:30:58 UTC], ["updated_at", 2016-07-16 08:30:58 UTC]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-16 15:30:58 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (5.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.4ms)
  Rendered pages/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 120ms (Views: 111.5ms | ActiveRecord: 7.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-16 15:31:02 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__643122248 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__643122248 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__643122248 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__643122248 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__643122248 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (79.8ms)
Completed 200 OK in 183ms (Views: 166.2ms | ActiveRecord: 14.5ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:38:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641612498 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641612498 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641612498 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641612498 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641612498 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (36.8ms)
Completed 200 OK in 136ms (Views: 124.5ms | ActiveRecord: 6.7ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:38:30 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nMkE4mDakFZptTdtfXcJd5HpCsSpIU1CLqvqMe7skPy5EXhDoZuFqM6v66kMKyI7r/NUDJfpMI00g3aCBKeNHA==", "friend_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (6.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (41.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["friend_id", 1], ["created_at", 2016-07-17 03:38:30 UTC], ["updated_at", 2016-07-17 03:38:30 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 79ms (ActiveRecord: 60.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 10:38:30 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.5ms)
  Rendered pages/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 108ms (Views: 105.1ms | ActiveRecord: 1.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:38:31 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652408178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652408178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652408178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652408178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652408178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (52.7ms)
Completed 200 OK in 160ms (Views: 144.7ms | ActiveRecord: 13.6ms)


  [1m[36mFriendship Load (2.6ms)[0m  [1m[34mSELECT  "friendships".* FROM "friendships" ORDER BY "friendships"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
Started GET "/" for 127.0.0.1 at 2016-07-17 10:47:24 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (3.9ms)
  Rendered pages/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 124ms (Views: 120.2ms | ActiveRecord: 2.9ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:47:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (47.4ms)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 8.4ms)


  
ActionView::Template::Error (undefined method `friendship' for #<User:0xb19d3fd0>
Did you mean?  friendships
               friendships=
               friendship_ids
               friends
               friendship_ids=
               friends=):
    39:         <th scope="row"><%= user.name %></th>
    40:         <td><%= user.email %></td>
    41:         <td>
    42:           <% unless user.friendship.exists?(current_user) %>
    43:               <%= link_to 'Add friend', friendships_path(friend_id: user), method: 'post', class: 'btn btn-info-outline' %>
    44:           <% end %>
    45:         </td>
  
app/views/pages/friends.html.erb:42:in `block in _app_views_pages_friends_html_erb__214835708__652925468'
app/views/pages/friends.html.erb:37:in `_app_views_pages_friends_html_erb__214835708__652925468'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.1ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:47:38 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649576358 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649576358 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649576358 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649576358 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649576358 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (46.0ms)
Completed 200 OK in 164ms (Views: 151.7ms | ActiveRecord: 10.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:48:38 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641740078 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641740078 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641740078 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641740078 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641740078 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (39.7ms)
Completed 200 OK in 129ms (Views: 111.0ms | ActiveRecord: 3.8ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2016-07-17 10:48:41 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"86rUW6SarEWIeKR4Jc3f38aWElqUBSaK4gDhW6EEfpnWcqj6Zdu5uy9ieLxUkfST+IxMkqrNW0X4KH3oS09jeQ==", "friend_id"=>"2"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (4.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["friend_id", 2], ["created_at", 2016-07-17 03:48:41 UTC], ["updated_at", 2016-07-17 03:48:41 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/friends
Completed 302 Found in 37ms (ActiveRecord: 17.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:48:41 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__651780858 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__651780858 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__651780858 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__651780858 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__651780858 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (30.3ms)
Completed 200 OK in 105ms (Views: 97.6ms | ActiveRecord: 5.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:49:50 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__655471178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__655471178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__655471178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (9.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__655471178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__655471178 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (102.0ms)
Completed 200 OK in 304ms (Views: 274.7ms | ActiveRecord: 26.1ms)


Started DELETE "/friendships?friend_id=2" for 127.0.0.1 at 2016-07-17 10:49:57 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [36 times] (33.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (83.9ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:50:23 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered pages/friends.html.erb within layouts/application (14.2ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 9.6ms)


  
ActionView::Template::Error (No route matches {:action=>"destroy", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Remove', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__214835708__648136158'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__214835708__648136158'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (38.7ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:51:10 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered pages/friends.html.erb within layouts/application (54.1ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 5.9ms)


  
ActionView::Template::Error (No route matches {:action=>"destroy", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Remove', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__214835708__645970118'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__214835708__645970118'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (35.6ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:51:29 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658810588 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658810588 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658810588 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658810588 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658810588 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (61.4ms)
Completed 200 OK in 139ms (Views: 128.3ms | ActiveRecord: 7.9ms)


Started DELETE "/friends?friend_id=1" for 127.0.0.1 at 2016-07-17 10:51:32 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friends"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [36 times] (30.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (92.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 10:51:58 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (9.7ms)
  Rendered pages/index.html.erb within layouts/application (46.7ms)
Completed 200 OK in 186ms (Views: 160.9ms | ActiveRecord: 24.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:51:59 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered pages/friends.html.erb within layouts/application (16.5ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 4.6ms)


  
ActionView::Template::Error (No route matches {:action=>"destroy", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Remove', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__214835708__642911088'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__214835708__642911088'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (37.6ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:53:44 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (10.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__624455228 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__624455228 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__624455228 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__624455228 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__624455228 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (46.8ms)
Completed 200 OK in 136ms (Views: 114.2ms | ActiveRecord: 18.4ms)


Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:53:46 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [36 times] (17.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (61.3ms)
Started GET "/friends?friend_id=1" for 127.0.0.1 at 2016-07-17 10:54:35 +0700
Processing by PagesController#friends as HTML
  Parameters: {"friend_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653807478 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653807478 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653807478 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653807478 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653807478 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (69.0ms)
Completed 200 OK in 162ms (Views: 144.8ms | ActiveRecord: 4.4ms)


Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:54:37 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [42 times] (30.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (79.6ms)
Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:54:57 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [42 times] (21.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (114.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 10:56:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (8.0ms)
  Rendered pages/index.html.erb within layouts/application (34.8ms)
Completed 200 OK in 146ms (Views: 137.3ms | ActiveRecord: 7.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:56:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658413258 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658413258 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658413258 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658413258 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__658413258 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:43)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (72.8ms)
Completed 200 OK in 224ms (Views: 212.7ms | ActiveRecord: 9.3ms)


Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:56:29 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [42 times] (22.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (56.7ms)
Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 10:57:02 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [42 times] (52.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (21.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (144.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 10:57:09 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (2.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.4ms)
  Rendered pages/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 149ms (Views: 143.1ms | ActiveRecord: 4.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 10:57:10 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641516448 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641516448 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (11.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641516448 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641516448 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641516448 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (52.5ms)
Completed 200 OK in 174ms (Views: 146.4ms | ActiveRecord: 25.8ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 10:57:15 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (29.5ms)
Completed 200 OK in 180ms (Views: 174.6ms | ActiveRecord: 2.5ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 10:57:19 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 103ms (Views: 95.4ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:00:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (6.4ms)
  Rendered pages/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 132ms (Views: 123.9ms | ActiveRecord: 7.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:00:53 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 154ms (Views: 148.7ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:00:54 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (7.2ms)
  Rendered pages/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 169ms (Views: 164.9ms | ActiveRecord: 2.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:00:54 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652074688 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652074688 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652074688 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652074688 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__652074688 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (56.0ms)
Completed 200 OK in 203ms (Views: 183.5ms | ActiveRecord: 17.2ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:00:57 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (11.9ms)
Completed 200 OK in 158ms (Views: 150.1ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:01:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.4ms)
  Rendered pages/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 126ms (Views: 118.8ms | ActiveRecord: 6.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:01:51 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649425008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649425008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649425008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649425008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__649425008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (50.2ms)
Completed 200 OK in 251ms (Views: 238.7ms | ActiveRecord: 10.9ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:01:52 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (345.2ms)
Completed 500 Internal Server Error in 358ms (ActiveRecord: 3.2ms)


  
ActionView::Template::Error (undefined local variable or method `selected' for #<#<Class:0xb404ec64>:0xb38e7ee4>
Did you mean?  select):
    2:     <div class="form-group">
    3:       <div>
    4:         <%= f.label :recipient_id %>
    5:         <%= f.select :recipient_id, current_user.friends.map { |recipient| [recipient.name, recipient.id] }, @recipient ? selected: @recipient.id %>
    6:         <%= f.select :recipient_id, current_user.friends.map { |recipient| [recipient.name, recipient.id] } %>
    7:       </div>
    8:       <div>
  
app/views/messages/new.html.erb:5:in `block in _app_views_messages_new_html_erb__288481255__641637828'
app/views/messages/new.html.erb:1:in `_app_views_messages_new_html_erb__288481255__641637828'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (20.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (87.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 11:05:02 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (1.8ms)
  Rendered pages/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 78ms (Views: 72.5ms | ActiveRecord: 3.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:05:04 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  Rendered messages/new.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:5: syntax error, unexpected ')', expecting ':'
...id if @recipient ? @recipient );@output_buffer.safe_append='
...                               ^
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end ;@output_buffer.to_s
             ^
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:15: syntax error, unexpected keyword_ensure, expecting ')'
/home/ken/github/chat-kenk11/app/views/messages/new.html.erb:17: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/messages/new.html.erb:5: syntax error, unexpected ')', expecting ':'
app/views/messages/new.html.erb:14: syntax error, unexpected keyword_end, expecting ')'
app/views/messages/new.html.erb:15: syntax error, unexpected keyword_ensure, expecting ')'
app/views/messages/new.html.erb:17: syntax error, unexpected keyword_end, expecting ')'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (35.9ms)
Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:05:26 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 86ms (Views: 78.2ms | ActiveRecord: 2.9ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:05:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__645147948 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__645147948 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__645147948 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__645147948 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__645147948 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (41.5ms)
Completed 200 OK in 141ms (Views: 127.1ms | ActiveRecord: 11.9ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-17 11:05:28 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 115ms (Views: 109.7ms | ActiveRecord: 2.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:05:30 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__648040098 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__648040098 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__648040098 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__648040098 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__648040098 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (50.1ms)
Completed 200 OK in 189ms (Views: 178.6ms | ActiveRecord: 8.0ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:05:30 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (14.4ms)
Completed 200 OK in 161ms (Views: 151.1ms | ActiveRecord: 1.9ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:06:08 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (14.4ms)
Completed 200 OK in 142ms (Views: 120.2ms | ActiveRecord: 3.8ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:07:25 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (9.9ms)
Completed 200 OK in 108ms (Views: 97.4ms | ActiveRecord: 5.4ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:09:55 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (23.5ms)
Completed 200 OK in 144ms (Views: 130.7ms | ActiveRecord: 5.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:09:57 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641670028 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641670028 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641670028 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641670028 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641670028 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (49.2ms)
Completed 200 OK in 154ms (Views: 142.9ms | ActiveRecord: 10.0ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-17 11:09:59 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (11.3ms)
Completed 200 OK in 147ms (Views: 140.5ms | ActiveRecord: 4.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:10:01 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__636395418 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (7.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__636395418 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__636395418 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__636395418 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__636395418 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (54.1ms)
Completed 200 OK in 231ms (Views: 209.2ms | ActiveRecord: 18.1ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:10:02 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (13.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (25.0ms)
Completed 200 OK in 248ms (Views: 229.4ms | ActiveRecord: 15.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:11:52 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (15.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653476348 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653476348 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653476348 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653476348 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__653476348 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (70.9ms)
Completed 200 OK in 211ms (Views: 177.1ms | ActiveRecord: 32.2ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:11:53 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 166ms (Views: 158.4ms | ActiveRecord: 5.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:12:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (6.4ms)
  Rendered pages/index.html.erb within layouts/application (15.2ms)
Completed 200 OK in 149ms (Views: 138.1ms | ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:13:15 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (10.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 128.6ms | ActiveRecord: 3.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-17 11:13:17 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 98.2ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 11:13:19 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 132.2ms | ActiveRecord: 0.8ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-17 11:13:21 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"avBon6kEs2VzB/tn9fn/nne5P9ZzF/RJp3L9iGjmaxpjgtLfTEiIuEHcHTQOyshygEVgThu3xkRBwDkwIF/axA==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 135ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:13:21 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (2.8ms)
  Rendered pages/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 97ms (Views: 94.0ms | ActiveRecord: 1.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:13:23 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641911008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641911008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641911008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641911008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from block in _app_views_pages_friends_html_erb__214835708__641911008 at /home/ken/github/chat-kenk11/app/views/pages/friends.html.erb:42)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["user_id", 6], ["id", 2], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (67.3ms)
Completed 200 OK in 148ms (Views: 135.4ms | ActiveRecord: 10.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:13:59 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (20.9ms)
Completed 200 OK in 121ms (Views: 108.3ms | ActiveRecord: 6.8ms)


Started POST "/friendships?friend_id=6" for 127.0.0.1 at 2016-07-17 11:14:02 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"PsYoHbLiF+rbHNDq6vFBjc1Jc/yDkRqWCEZHmhjwgbFV8HiilofX/IUjg8d4G4aboH7Q0hictiZJkoy/UypckQ==", "friend_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["friend_id", 6], ["created_at", 2016-07-17 04:14:02 UTC], ["updated_at", 2016-07-17 04:14:02 UTC]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/friends
Completed 302 Found in 62ms (ActiveRecord: 15.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:14:02 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (15.1ms)
Completed 200 OK in 169ms (Views: 155.0ms | ActiveRecord: 0.9ms)


Started GET "/users/6/messages/new" for 127.0.0.1 at 2016-07-17 11:14:04 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (9.3ms)
Completed 200 OK in 146ms (Views: 139.4ms | ActiveRecord: 4.9ms)


Started POST "/users/6/messages" for 127.0.0.1 at 2016-07-17 11:14:06 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ha2PWEbBaItygbEUY3+KqmsnoaU9ZO58BiOJuyWyOtNuAnUaTxkW0fvfC50o2uMLtxHNwOjr6dYNbLUgB5bm3g==", "message"=>{"recipient_id"=>"6", "body"=>"sadasdasd"}, "commit"=>"Send Message", "user_id"=>"6"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 6], ["body", "sadasdasd"], ["created_at", 2016-07-17 04:14:06 UTC], ["updated_at", 2016-07-17 04:14:06 UTC]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 18ms (ActiveRecord: 7.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:14:06 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 92ms (Views: 89.7ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:14:14 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (12.4ms)
  Rendered pages/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 136ms (Views: 124.4ms | ActiveRecord: 11.0ms)


Started GET "/messages/8" for 127.0.0.1 at 2016-07-17 11:14:18 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering messages/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/show.html.erb within layouts/application (4.8ms)
Completed 200 OK in 125ms (Views: 115.4ms | ActiveRecord: 2.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:14:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (11.7ms)
Completed 200 OK in 131ms (Views: 121.9ms | ActiveRecord: 7.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:14:23 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (4.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (10.0ms)
  Rendered pages/index.html.erb within layouts/application (28.1ms)
Completed 200 OK in 168ms (Views: 161.2ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:14:56 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (8.2ms)
  Rendered pages/index.html.erb within layouts/application (55.5ms)
Completed 200 OK in 140ms (Views: 135.7ms | ActiveRecord: 3.0ms)


Started GET "/messages/8" for 127.0.0.1 at 2016-07-17 11:14:59 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:14:59 UTC], ["updated_at", 2016-07-17 04:14:59 UTC], ["id", 8]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 131ms (Views: 98.6ms | ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:01 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (4.9ms)
  Rendered pages/index.html.erb within layouts/application (15.4ms)
Completed 200 OK in 164ms (Views: 154.5ms | ActiveRecord: 8.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:15:07 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (10.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (33.4ms)
Completed 200 OK in 143ms (Views: 129.3ms | ActiveRecord: 12.5ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:15:09 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (18.9ms)
Completed 200 OK in 158ms (Views: 147.9ms | ActiveRecord: 5.6ms)


Started POST "/users/2/messages" for 127.0.0.1 at 2016-07-17 11:15:10 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pReCQAUBhhQCJAczr17RX+nA4khHJ/VxMYphA7tOhToGlbghNeJxK6phpMS+fpjd6zHqgfX3NlwtF+Zfr4sacw==", "message"=>{"recipient_id"=>"2", "body"=>"asdasd"}, "commit"=>"Send Message", "user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 6], ["recipient_id", 2], ["body", "asdasd"], ["created_at", 2016-07-17 04:15:10 UTC], ["updated_at", 2016-07-17 04:15:10 UTC]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 17ms (ActiveRecord: 6.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:15:10 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 0.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:15:15 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (29.9ms)
Completed 200 OK in 174ms (Views: 159.0ms | ActiveRecord: 4.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:16 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.0ms)
  Rendered pages/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 145ms (Views: 140.9ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (5.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (5.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (11.3ms)
  Rendered pages/index.html.erb within layouts/application (30.1ms)
Completed 200 OK in 131ms (Views: 113.9ms | ActiveRecord: 16.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (4.0ms)
  Rendered pages/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 91ms (Views: 83.7ms | ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:28 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (22.9ms)
  Rendered pages/index.html.erb within layouts/application (36.0ms)
Completed 200 OK in 116ms (Views: 109.1ms | ActiveRecord: 6.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:29 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (10.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (23.9ms)
  Rendered pages/index.html.erb within layouts/application (34.1ms)
Completed 200 OK in 122ms (Views: 103.4ms | ActiveRecord: 17.6ms)


Started GET "/messages/9" for 127.0.0.1 at 2016-07-17 11:15:30 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:15:30 UTC], ["updated_at", 2016-07-17 04:15:30 UTC], ["id", 9]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 100ms (Views: 83.6ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:15:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (4.2ms)
  Rendered pages/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 119ms (Views: 114.9ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:19:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (6.1ms)
  Rendered pages/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 105ms (Views: 98.5ms | ActiveRecord: 5.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:19:36 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (16.5ms)
Completed 200 OK in 145ms (Views: 141.5ms | ActiveRecord: 1.7ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:19:37 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 114ms (Views: 108.0ms | ActiveRecord: 4.3ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:19:38 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  Rendered messages/received.html.erb within layouts/application (2.1ms)
Completed 200 OK in 142ms (Views: 136.3ms | ActiveRecord: 0.2ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:22:49 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (17.1ms)
Completed 200 OK in 111ms (Views: 92.5ms | ActiveRecord: 0.6ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:22:59 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (9.9ms)
Completed 200 OK in 98ms (Views: 91.2ms | ActiveRecord: 4.2ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:23:08 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (6.3ms)
Completed 200 OK in 82ms (Views: 77.2ms | ActiveRecord: 3.5ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:24:47 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (16.2ms)
Completed 200 OK in 98ms (Views: 84.1ms | ActiveRecord: 9.1ms)


Started GET "/messages/8" for 127.0.0.1 at 2016-07-17 11:24:49 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:24:49 UTC], ["updated_at", 2016-07-17 04:24:49 UTC], ["id", 8]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 118ms (Views: 98.1ms | ActiveRecord: 6.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:25:00 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (4.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (1.9ms)
  Rendered pages/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 151ms (Views: 143.1ms | ActiveRecord: 5.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:25:01 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (75.4ms)
Completed 200 OK in 392ms (Views: 369.8ms | ActiveRecord: 14.6ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:25:03 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (4.7ms)
Completed 200 OK in 129ms (Views: 123.5ms | ActiveRecord: 2.5ms)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:25:55 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (6.7ms)
Completed 200 OK in 81ms (Views: 72.7ms | ActiveRecord: 5.9ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:26:02 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 127ms (Views: 124.5ms | ActiveRecord: 0.5ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-17 11:26:05 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZVIqq1GZ+eTi4cM77p3HB8Xundpxqw37BaQUjsPASV6MBOXA1LmyMMpNvu9on3NhHBoRyMPE9itDEfftlikWxA==", "message"=>{"recipient_id"=>"6", "body"=>"asdasdasd"}, "commit"=>"Send Message"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 6], ["body", "asdasdasd"], ["created_at", 2016-07-17 04:26:05 UTC], ["updated_at", 2016-07-17 04:26:05 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 21ms (ActiveRecord: 4.9ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:26:05 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 102ms (Views: 93.4ms | ActiveRecord: 1.2ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:26:06 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (3.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (14.8ms)
Completed 200 OK in 117ms (Views: 107.0ms | ActiveRecord: 4.6ms)


Started GET "/messages/10" for 127.0.0.1 at 2016-07-17 11:26:09 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (3.7ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:26:09 UTC], ["updated_at", 2016-07-17 04:26:09 UTC], ["id", 10]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 180ms (Views: 160.5ms | ActiveRecord: 11.6ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:26:12 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (11.3ms)
Completed 200 OK in 101ms (Views: 95.1ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:27:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (3.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (4.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (6.5ms)
  Rendered pages/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 154ms (Views: 142.9ms | ActiveRecord: 8.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:27:34 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (10.9ms)
Completed 200 OK in 158ms (Views: 152.5ms | ActiveRecord: 4.0ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:27:38 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (16.1ms)
Completed 200 OK in 161ms (Views: 144.6ms | ActiveRecord: 9.2ms)


Started POST "/users/2/messages" for 127.0.0.1 at 2016-07-17 11:27:40 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6BkOmq/nfWKhRJc7mPsZPFoPU5Uv18Y+dGx7mwkPaNFLmzT7nwSKXQkBNMyJ21C+WP5bXJ0HBRNo8fzHHcr3mA==", "message"=>{"recipient_id"=>"2", "body"=>"dasdasd"}, "commit"=>"Send Message", "user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 6], ["recipient_id", 2], ["body", "dasdasd"], ["created_at", 2016-07-17 04:27:40 UTC], ["updated_at", 2016-07-17 04:27:40 UTC]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 19ms (ActiveRecord: 10.4ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:27:40 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 89ms (Views: 86.1ms | ActiveRecord: 0.2ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:27:46 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 157ms (Views: 151.2ms | ActiveRecord: 3.8ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:27:48 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (11.5ms)
Completed 200 OK in 143ms (Views: 133.2ms | ActiveRecord: 6.1ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:27:50 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (15.4ms)
Completed 200 OK in 94ms (Views: 84.1ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:27:57 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 96ms (Views: 93.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:27:59 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL ORDER BY created_at desc[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/_unread.html.erb (15.5ms)
  Rendered pages/index.html.erb within layouts/application (25.5ms)
Completed 200 OK in 120ms (Views: 112.7ms | ActiveRecord: 6.7ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:28:04 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (3.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (16.3ms)
Completed 200 OK in 156ms (Views: 147.2ms | ActiveRecord: 7.2ms)


Started GET "/messages/11" for 127.0.0.1 at 2016-07-17 11:28:05 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:28:05 UTC], ["updated_at", 2016-07-17 04:28:05 UTC], ["id", 11]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 128ms (Views: 108.8ms | ActiveRecord: 6.3ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:28:07 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (3.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (15.2ms)
Completed 200 OK in 115ms (Views: 107.6ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:28:11 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.9ms)
  Rendered pages/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 112ms (Views: 110.2ms | ActiveRecord: 0.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:28:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (9.8ms)
Completed 200 OK in 118ms (Views: 110.7ms | ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:28:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mMessage Load (2.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered messages/_unread.html.erb (5.4ms)
  Rendered pages/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 139ms (Views: 131.6ms | ActiveRecord: 6.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:29:54 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 6)[0m
  Rendered pages/friends.html.erb within layouts/application (11.9ms)
Completed 200 OK in 146ms (Views: 141.9ms | ActiveRecord: 2.9ms)


Started GET "/users/2/messages/new" for 127.0.0.1 at 2016-07-17 11:29:56 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (22.0ms)
Completed 200 OK in 155ms (Views: 145.7ms | ActiveRecord: 5.5ms)


Started POST "/users/2/messages" for 127.0.0.1 at 2016-07-17 11:29:58 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/f8pWgsZGzgRS3XAr5/gvNOex5xrs42JZhi0j4jWQ9tefRM7O/rsB7kO1je+v6k+0W/PVdljTqR6hTPTnBPckg==", "message"=>{"recipient_id"=>"2", "body"=>"asdasdasd"}, "commit"=>"Send Message", "user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 6], ["recipient_id", 2], ["body", "asdasdasd"], ["created_at", 2016-07-17 04:29:58 UTC], ["updated_at", 2016-07-17 04:29:58 UTC]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 16ms (ActiveRecord: 9.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:29:58 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 69ms (Views: 66.4ms | ActiveRecord: 0.3ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:30:01 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 6]]
  Rendered messages/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 138ms (Views: 131.2ms | ActiveRecord: 2.6ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-17 11:30:03 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/J97uYoYJx3Hsm52fx8oqcS/QZFI95pc2todEkuZKVsNv1ONwWzYThWLcG/ezaqfzccG5LWiK+xfIYcN0qeU2Q==", "message"=>{"recipient_id"=>"2", "body"=>"asdasdasd"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 6], ["recipient_id", 2], ["body", "asdasdasd"], ["created_at", 2016-07-17 04:30:03 UTC], ["updated_at", 2016-07-17 04:30:03 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 16ms (ActiveRecord: 6.1ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 11:30:04 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 90ms (Views: 86.1ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:30:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (24.3ms)
Completed 200 OK in 198ms (Views: 191.4ms | ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:30:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 89ms (Views: 81.6ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:31:06 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 90ms (Views: 82.6ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:31:16 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (37.8ms)
Completed 200 OK in 139ms (Views: 126.0ms | ActiveRecord: 9.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:31:22 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 133ms (Views: 128.1ms | ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:31:35 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (28.3ms)
Completed 200 OK in 100ms (Views: 85.9ms | ActiveRecord: 12.9ms)


Started GET "/messages/12" for 127.0.0.1 at 2016-07-17 11:31:38 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:31:38 UTC], ["updated_at", 2016-07-17 04:31:38 UTC], ["id", 12]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 205ms (Views: 183.2ms | ActiveRecord: 8.6ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:31:39 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (34.3ms)
Completed 200 OK in 162ms (Views: 154.3ms | ActiveRecord: 3.6ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:31:41 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  Rendered messages/sent.html.erb within layouts/application (0.9ms)
Completed 200 OK in 271ms (Views: 267.3ms | ActiveRecord: 0.3ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:32:08 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (38.2ms)
Completed 200 OK in 141ms (Views: 117.0ms | ActiveRecord: 4.7ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:32:21 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (50.0ms)
Completed 200 OK in 241ms (Views: 231.2ms | ActiveRecord: 0.9ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:32:39 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (27.2ms)
Completed 200 OK in 141ms (Views: 129.9ms | ActiveRecord: 3.2ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:32:43 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (40.0ms)
Completed 200 OK in 116ms (Views: 103.2ms | ActiveRecord: 5.2ms)


Started GET "/messages/13" for 127.0.0.1 at 2016-07-17 11:32:46 +0700
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (2.8ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "messages" SET "read_at" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["read_at", 2016-07-17 04:32:46 UTC], ["updated_at", 2016-07-17 04:32:46 UTC], ["id", 13]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering messages/show.html.erb within layouts/application
  Rendered messages/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 147ms (Views: 123.3ms | ActiveRecord: 8.5ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:32:47 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (2.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (16.0ms)
Completed 200 OK in 124ms (Views: 114.6ms | ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:32:55 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 125ms (Views: 118.6ms | ActiveRecord: 5.0ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:32:56 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (48.0ms)
Completed 200 OK in 135ms (Views: 125.9ms | ActiveRecord: 5.0ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:32:57 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 113ms (Views: 104.1ms | ActiveRecord: 5.3ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:32:58 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (13.3ms)
Completed 200 OK in 146ms (Views: 137.9ms | ActiveRecord: 6.2ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:32:59 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (33.6ms)
Completed 200 OK in 159ms (Views: 154.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 11:45:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (3.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 126ms (Views: 119.1ms | ActiveRecord: 5.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:45:38 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (10.4ms)
Completed 200 OK in 155ms (Views: 149.6ms | ActiveRecord: 3.8ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:46:01 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (9.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (70.4ms)
Completed 200 OK in 406ms (Views: 385.2ms | ActiveRecord: 9.5ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:46:02 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (3.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (40.7ms)
Completed 200 OK in 185ms (Views: 175.2ms | ActiveRecord: 7.3ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:46:03 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (36.7ms)
Completed 200 OK in 173ms (Views: 169.0ms | ActiveRecord: 2.0ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:48:38 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (3.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (30.7ms)
Completed 200 OK in 205ms (Views: 191.9ms | ActiveRecord: 11.5ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:48:40 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (31.3ms)
Completed 200 OK in 146ms (Views: 142.0ms | ActiveRecord: 2.2ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:49:15 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (38.1ms)
Completed 200 OK in 136ms (Views: 124.5ms | ActiveRecord: 2.3ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 11:49:18 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  Rendered pages/friends.html.erb within layouts/application (14.3ms)
Completed 200 OK in 134ms (Views: 126.1ms | ActiveRecord: 6.0ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 11:49:19 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (25.1ms)
Completed 200 OK in 207ms (Views: 200.7ms | ActiveRecord: 4.4ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 11:49:19 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (35.0ms)
Completed 200 OK in 163ms (Views: 151.4ms | ActiveRecord: 7.2ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:49:20 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (33.8ms)
Completed 200 OK in 134ms (Views: 130.7ms | ActiveRecord: 2.0ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 11:49:28 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (30.8ms)
Completed 200 OK in 118ms (Views: 113.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:13:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 6 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (36.4ms)
Completed 200 OK in 125ms (Views: 120.7ms | ActiveRecord: 2.4ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 12:13:46 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9C1OC+yT70PNRI/8iJWC1b3MoZtSw3gGlAemqbxzHwfR9TKqLdL6vWpeUzj5yamZg9b/U2wLBcmOLzoaVjgC5w=="}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:13:46 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 114.2ms | ActiveRecord: 1.7ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2016-07-17 12:13:47 +0700
  
ActionController::RoutingError (No route matches [GET] "/auth/facebook"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.8ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [42 times] (34.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (7.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (111.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:14:55 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (14.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 134.9ms | ActiveRecord: 0.5ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2016-07-17 12:14:57 +0700
  
ActionController::RoutingError (No route matches [GET] "/auth/facebook"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (49.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (164.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:25:24 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (7.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 123.0ms | ActiveRecord: 1.7ms)


Started GET "/auth/facebook/callback" for 127.0.0.1 at 2016-07-17 12:25:25 +0700
Processing by SessionsController#callback as HTML
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:25:26 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 102.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:25:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 173ms (Views: 164.4ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:25:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 121.2ms | ActiveRecord: 11.9ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:25:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/auth/facebook"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (40.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (122.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:33:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (19.0ms)
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 591ms (Views: 574.5ms | ActiveRecord: 6.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:33:44 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:33:46 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBSeh0FWFMAedOPJ7t03IEpsQBPu7-lvkpmsFYxRFLMWgLhVrwaKBUQIHFFBYhaFcWPb8fOJSkM3IHMv6EeMX2AmUv4YoMj-GYRsxmsqeo7_eTgPYIg0f6fhreaVxkLF2Tlkdc6QCmJGMIp7srMGS8DFl9Bmf4pkDBerdNYbLV_RIoCrA1kGP4cdI9vOTQL6vxZfW8KFIg_CGKmKu9QD-5tq_uPGgyEeIIOvyDkIYvPn1TJ6aN0X_o2pAH6DyZw211hPmXECHEdRv64sAuLhPaJ4LY9zt0FEAIMXdhz2JdV1WpuqT6Io9WjsRo78YEA0Wg&state=3fb1659c6dd917215f6ca2fc1ba81c5f870959458031a4f3" for 127.0.0.1 at 2016-07-17 12:34:25 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBSeh0FWFMAedOPJ7t03IEpsQBPu7-lvkpmsFYxRFLMWgLhVrwaKBUQIHFFBYhaFcWPb8fOJSkM3IHMv6EeMX2AmUv4YoMj-GYRsxmsqeo7_eTgPYIg0f6fhreaVxkLF2Tlkdc6QCmJGMIp7srMGS8DFl9Bmf4pkDBerdNYbLV_RIoCrA1kGP4cdI9vOTQL6vxZfW8KFIg_CGKmKu9QD-5tq_uPGgyEeIIOvyDkIYvPn1TJ6aN0X_o2pAH6DyZw211hPmXECHEdRv64sAuLhPaJ4LY9zt0FEAIMXdhz2JdV1WpuqT6Io9WjsRo78YEA0Wg", "state"=>"3fb1659c6dd917215f6ca2fc1ba81c5f870959458031a4f3", "provider"=>"facebook"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:34:27 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 120.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:36:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (12.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 75.8ms | ActiveRecord: 1.6ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:36:08 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:36:08 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAVQJT4ezv_MZ9HXqNQEStG8wEuvo_TTVuVmdDagD3oZnKS0NnQRTIeRRUKhlgWvcphErzoko8lPsHvRxRYpoIJjhfGnDo-WJQB2r1PsIrmiC562NUCg3ktEBCtgzAM6CrJ3E5V8MS6_wvU8UiB2Aakw3RL3bWBVXA3MC-PXFqboV4iHfdTuxd79vWjNHZ4iIAbVvajBdVy9nthPR5ORS1f9LREfyd25g29lPlZQCZLl2a7c7_ZAtxXXkDHDijw-oC4sxiZhhZOjIocHtTkr5kYXEdl2duOZ4Y5OGlPkYa9igRmwB-ubSkMAJsR6ywpc-M&state=bd6b17b700e43376c2ea4dc81378d14e723870864c6e9079" for 127.0.0.1 at 2016-07-17 12:36:08 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQAVQJT4ezv_MZ9HXqNQEStG8wEuvo_TTVuVmdDagD3oZnKS0NnQRTIeRRUKhlgWvcphErzoko8lPsHvRxRYpoIJjhfGnDo-WJQB2r1PsIrmiC562NUCg3ktEBCtgzAM6CrJ3E5V8MS6_wvU8UiB2Aakw3RL3bWBVXA3MC-PXFqboV4iHfdTuxd79vWjNHZ4iIAbVvajBdVy9nthPR5ORS1f9LREfyd25g29lPlZQCZLl2a7c7_ZAtxXXkDHDijw-oC4sxiZhhZOjIocHtTkr5kYXEdl2duOZ4Y5OGlPkYa9igRmwB-ubSkMAJsR6ywpc-M", "state"=>"bd6b17b700e43376c2ea4dc81378d14e723870864c6e9079", "provider"=>"facebook"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:36:11 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 110.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:36:57 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (17.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.9ms | ActiveRecord: 1.7ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:36:58 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:36:58 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB7by1O7gNbZF4IXRSBr1yyshcUsa3Nsx_Cv58NNY3puDFtzIXteKKB72Qnquf_Sgc8dQ_lSnqRa7n2PblzNIGu6CtfSe8uXg8UwFt1Dn_rZ2ZaRU61T1R7I4DXNPRXxFee1J9S-Kaf5l3D-TfW2uQt_PtF6NJARG8pQL2J5xuBNBXKKt7sLWzazRbgL8fyfVjQIa18qr19g609pWzowGPmQF5n8XO_uimo-txbdwW3PNC10xnAH5x21NU9eXrYVYlSIKkMEoMrS8BG4jCHeikpcKQr8Jw_Xkqk4_oh6eZcmwl7FXlZBbTdt67irZv9X04&state=749e89e20a127100a0fb10bf5cb9c7aca0626dccdb61000e" for 127.0.0.1 at 2016-07-17 12:36:58 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQB7by1O7gNbZF4IXRSBr1yyshcUsa3Nsx_Cv58NNY3puDFtzIXteKKB72Qnquf_Sgc8dQ_lSnqRa7n2PblzNIGu6CtfSe8uXg8UwFt1Dn_rZ2ZaRU61T1R7I4DXNPRXxFee1J9S-Kaf5l3D-TfW2uQt_PtF6NJARG8pQL2J5xuBNBXKKt7sLWzazRbgL8fyfVjQIa18qr19g609pWzowGPmQF5n8XO_uimo-txbdwW3PNC10xnAH5x21NU9eXrYVYlSIKkMEoMrS8BG4jCHeikpcKQr8Jw_Xkqk4_oh6eZcmwl7FXlZBbTdt67irZv9X04", "state"=>"749e89e20a127100a0fb10bf5cb9c7aca0626dccdb61000e", "provider"=>"facebook"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 2.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:37:00 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.5ms | ActiveRecord: 0.6ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:39:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:39:44 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA_-8xxI3Rw68DHnyBn12clU6aQ_0ShGg_jm9s3P9UoVwl2nFl65odSB-SnrB8--YnChw3kQuzigpxbwLwN0-xOigxev0AeLCwNG0Z8QmXBUe7Y6KkECj7Ndj-pqICjgnuYG9tO8VM9xIyFaSIIlAlkx_IhdUuScxZUGRbXIwxrvAgErShEfczhlmKJw76FXMnaKAH2q1JlKvSHJxIi2gxk6gJ7cLESlqiUUt4nokWqfWoBD4nuItk75UfdlM1sjZKcKKOTnxbCrxf2PZ68BV8Ns9XvXzfRXpamxB6PgUhLvdmAYTRY0rHpdTVuaqJ-qO8&state=7b8aa013a9de4a01787d9559fbf8cf0d2cf9f00aa8ea6851" for 127.0.0.1 at 2016-07-17 12:39:44 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQA_-8xxI3Rw68DHnyBn12clU6aQ_0ShGg_jm9s3P9UoVwl2nFl65odSB-SnrB8--YnChw3kQuzigpxbwLwN0-xOigxev0AeLCwNG0Z8QmXBUe7Y6KkECj7Ndj-pqICjgnuYG9tO8VM9xIyFaSIIlAlkx_IhdUuScxZUGRbXIwxrvAgErShEfczhlmKJw76FXMnaKAH2q1JlKvSHJxIi2gxk6gJ7cLESlqiUUt4nokWqfWoBD4nuItk75UfdlM1sjZKcKKOTnxbCrxf2PZ68BV8Ns9XvXzfRXpamxB6PgUhLvdmAYTRY0rHpdTVuaqJ-qO8", "state"=>"7b8aa013a9de4a01787d9559fbf8cf0d2cf9f00aa8ea6851", "provider"=>"facebook"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 52ms (ActiveRecord: 4.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:39:48 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (9.6ms)
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 765ms (Views: 760.8ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:41:04 +0700
  
ArgumentError (Before process_action callback :require_login has not been defined):
  
app/controllers/pages_controller.rb:2:in `<class:PagesController>'
app/controllers/pages_controller.rb:1:in `<top (required)>'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (36.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:41:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (20.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 113.2ms | ActiveRecord: 0.7ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:41:19 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:41:20 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBsbR2RWTJtoGRxJw0Sxnn_UqMZXDyE_bwwCbDacbwsFvIewTF6GGe3eoL068kNh8sIKE4pfmRLRcTbVZVUHH_t7KPNOLSNdKMy4vC9BUR1z4PFWxXEKUI5_-SvYnF3p2tpWJqI5wHEJHf0fpXeTIWhfrpp0xsvyDaTbENNJ7vNMI2bd2yFrbbkU4JWxggYm6jLLX46tQNJZe-XMPuFpa1fe61OUIH3FPeYAg4hR4GJKz8n-Q_I-GV8sESpLW6HkFawjaXChA8dKwVmbQ_45VI9zs4jmjcAHwkwV6yJtVqlUwmqgtwpXTaXzV1ce3X1ASs&state=48d290698ec4f50dacf744f4b7796b4162753c2254a8363f" for 127.0.0.1 at 2016-07-17 12:41:21 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBsbR2RWTJtoGRxJw0Sxnn_UqMZXDyE_bwwCbDacbwsFvIewTF6GGe3eoL068kNh8sIKE4pfmRLRcTbVZVUHH_t7KPNOLSNdKMy4vC9BUR1z4PFWxXEKUI5_-SvYnF3p2tpWJqI5wHEJHf0fpXeTIWhfrpp0xsvyDaTbENNJ7vNMI2bd2yFrbbkU4JWxggYm6jLLX46tQNJZe-XMPuFpa1fe61OUIH3FPeYAg4hR4GJKz8n-Q_I-GV8sESpLW6HkFawjaXChA8dKwVmbQ_45VI9zs4jmjcAHwkwV6yJtVqlUwmqgtwpXTaXzV1ce3X1ASs", "state"=>"48d290698ec4f50dacf744f4b7796b4162753c2254a8363f", "provider"=>"facebook"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:41:23 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 132ms (Views: 130.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:41:47 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (12.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 131ms (Views: 129.3ms | ActiveRecord: 0.4ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:41:48 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:41:49 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCUiWDfZXdfvhavdgLqWKn0zCqp1_y-5A7uIz00tqPa0ubeas8auVh8iIIsCaWsEp14cHYS1IxdUR6sW2tieZ5plPr-ikegOsJgoD8MrzUdYbNmg33-l6ym6cgKscfrUTUQu4FPDWGhCczD-cJO7VnjzMb0dge87LSK0n1ovbKzuIOYuTxT0FwJDuB7_Jb_Aw3nCTF-UiLjUXaJTnq3fokqrsFdjzZsdyrZZpQ9PGdWiP7tnDXVzyWSxgqeYjdXjDtHn9sQjU8SvKSGRiHt1elmhL345b0VGDqv9NRHhDc_fZIyuEZLpXUoDMlPguLb8b8&state=fd80500767dd4de04312852275c258e31be9339524c838ce" for 127.0.0.1 at 2016-07-17 12:41:50 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCUiWDfZXdfvhavdgLqWKn0zCqp1_y-5A7uIz00tqPa0ubeas8auVh8iIIsCaWsEp14cHYS1IxdUR6sW2tieZ5plPr-ikegOsJgoD8MrzUdYbNmg33-l6ym6cgKscfrUTUQu4FPDWGhCczD-cJO7VnjzMb0dge87LSK0n1ovbKzuIOYuTxT0FwJDuB7_Jb_Aw3nCTF-UiLjUXaJTnq3fokqrsFdjzZsdyrZZpQ9PGdWiP7tnDXVzyWSxgqeYjdXjDtHn9sQjU8SvKSGRiHt1elmhL345b0VGDqv9NRHhDc_fZIyuEZLpXUoDMlPguLb8b8", "state"=>"fd80500767dd4de04312852275c258e31be9339524c838ce", "provider"=>"facebook"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 12:41:51 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 84ms (Views: 73.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:42:16 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (32.2ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 204ms (Views: 199.9ms | ActiveRecord: 2.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:42:17 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:42:17 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCFCkSV4MQjNnR6JE-8Z4xmKH8iHznK88qcYZPXXBbNm8X2naHwTCzWktqIyfnWNR1HtuF6-tEf3CfDO4qemJFw3jGzYddwmiwpq1fctr1scfeAmMekDCcscgNBD_R-ekGAXSLrpgDCBN7UbjKds8nYGYSSMSaPioXf7smkA_Qs1uD77ct_0PInj1L-UB418uL5JmrE7g9a4vpkVhEuxxrBk6cAzV-JnUYWztrSaGBAe4755DG_6gvAyfd7zCbI2MzXSj0KlspsrjpQGsSquIhh1f6-7lghUAtpJUNZE1OBd3PPSl1XMG_XhbP9swk_hEw&state=edf58273ba9b1d0766f07fe1e2682c4db1131adb5a515708" for 127.0.0.1 at 2016-07-17 12:42:18 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCFCkSV4MQjNnR6JE-8Z4xmKH8iHznK88qcYZPXXBbNm8X2naHwTCzWktqIyfnWNR1HtuF6-tEf3CfDO4qemJFw3jGzYddwmiwpq1fctr1scfeAmMekDCcscgNBD_R-ekGAXSLrpgDCBN7UbjKds8nYGYSSMSaPioXf7smkA_Qs1uD77ct_0PInj1L-UB418uL5JmrE7g9a4vpkVhEuxxrBk6cAzV-JnUYWztrSaGBAe4755DG_6gvAyfd7zCbI2MzXSj0KlspsrjpQGsSquIhh1f6-7lghUAtpJUNZE1OBd3PPSl1XMG_XhbP9swk_hEw", "state"=>"edf58273ba9b1d0766f07fe1e2682c4db1131adb5a515708", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `from_facebook' for #<Class:0xb26fb6cc>):
  
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.1ms)
Started GET "/auth/facebook/callback?code=AQCFCkSV4MQjNnR6JE-8Z4xmKH8iHznK88qcYZPXXBbNm8X2naHwTCzWktqIyfnWNR1HtuF6-tEf3CfDO4qemJFw3jGzYddwmiwpq1fctr1scfeAmMekDCcscgNBD_R-ekGAXSLrpgDCBN7UbjKds8nYGYSSMSaPioXf7smkA_Qs1uD77ct_0PInj1L-UB418uL5JmrE7g9a4vpkVhEuxxrBk6cAzV-JnUYWztrSaGBAe4755DG_6gvAyfd7zCbI2MzXSj0KlspsrjpQGsSquIhh1f6-7lghUAtpJUNZE1OBd3PPSl1XMG_XhbP9swk_hEw&state=edf58273ba9b1d0766f07fe1e2682c4db1131adb5a515708" for 127.0.0.1 at 2016-07-17 12:43:58 +0700
(facebook) Callback phase initiated.
(facebook) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"AbWJkyTKyVc"}}
  
OAuth2::Error (: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"AbWJkyTKyVc"}}):
  
oauth2 (1.2.0) lib/oauth2/client.rb:113:in `request'
oauth2 (1.2.0) lib/oauth2/client.rb:138:in `get_token'
oauth2 (1.2.0) lib/oauth2/strategy/auth_code.rb:29:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:114:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:71:in `block in callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:135:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:44:10 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (17.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 158.8ms | ActiveRecord: 5.2ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:44:12 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:44:12 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA-hZxcHk_1ydHuMyaYISO7EuBWPlRmCl_i61AIgDfxmrJ3PDU9xjPMs2zKOBjdF1EgrzJLRdru0qA41XHe1gJhm9g-mtTcbAH4HvTZ4UfUdNAOmNWCBNZM8HAhFttfx6Fx3i7rOi3KYCiZQCdT9d7TJ1hybwLB0-iU5nVYtVZjktUoFschxZE6wo20onpiukTMcO-GQGEBOEAPWRIXu7ywZ07xOOswpiqNMn5Xy_QgV3PVSXWB5LyvGY9HWVd0KG6uX1O1-DWGSnuZ1orvdPDfhz5_iS3vILAlL9uwL1S0NAfbIRznYNKEKdO3xVefPNc&state=c168dbe2b6820c4cbd9ef8fa610e8c0905d31784cb7fabaf" for 127.0.0.1 at 2016-07-17 12:44:12 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQA-hZxcHk_1ydHuMyaYISO7EuBWPlRmCl_i61AIgDfxmrJ3PDU9xjPMs2zKOBjdF1EgrzJLRdru0qA41XHe1gJhm9g-mtTcbAH4HvTZ4UfUdNAOmNWCBNZM8HAhFttfx6Fx3i7rOi3KYCiZQCdT9d7TJ1hybwLB0-iU5nVYtVZjktUoFschxZE6wo20onpiukTMcO-GQGEBOEAPWRIXu7ywZ07xOOswpiqNMn5Xy_QgV3PVSXWB5LyvGY9HWVd0KG6uX1O1-DWGSnuZ1orvdPDfhz5_iS3vILAlL9uwL1S0NAfbIRznYNKEKdO3xVefPNc", "state"=>"c168dbe2b6820c4cbd9ef8fa610e8c0905d31784cb7fabaf", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `from_omniauth' for #<Class:0xa706034>):
  
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:45:11 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 117.7ms | ActiveRecord: 4.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:45:13 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:45:13 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBwtwrS1gKjGdgAyw-GtEHGHgs8zRvV5UaGKSJyCj9CxwfETfhMxWr89DHQzQatAaqXj6qBXu1NOnthpAGjDwhsBBvkAndEovK5F_wHN2qSHLmwoar-88kDiAIJB_0pKWKiPnxwB85evF8qnN6nRds8I9TvGLUeufPoSF0ky93_bcf_JnwkedRRNtTcx6mdcipvGc2utwFw-mtvebRnkO90MrohCJ-CdKLnqOOUs-RArdoFmAV5pCbqbO5j7EkIE5h3hh6xcYZA770jhL8Iwc-8aVmhxEUnOZwaL9j4PU359O97S7FuoX1_ownolOhFAmk&state=dccf19b4b20a2833cecbcf8cf1c7545baf6445140fd0d94b" for 127.0.0.1 at 2016-07-17 12:45:14 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBwtwrS1gKjGdgAyw-GtEHGHgs8zRvV5UaGKSJyCj9CxwfETfhMxWr89DHQzQatAaqXj6qBXu1NOnthpAGjDwhsBBvkAndEovK5F_wHN2qSHLmwoar-88kDiAIJB_0pKWKiPnxwB85evF8qnN6nRds8I9TvGLUeufPoSF0ky93_bcf_JnwkedRRNtTcx6mdcipvGc2utwFw-mtvebRnkO90MrohCJ-CdKLnqOOUs-RArdoFmAV5pCbqbO5j7EkIE5h3hh6xcYZA770jhL8Iwc-8aVmhxEUnOZwaL9j4PU359O97S7FuoX1_ownolOhFAmk", "state"=>"dccf19b4b20a2833cecbcf8cf1c7545baf6445140fd0d94b", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "0MP_Eqz9FkzvGGe-l1jLvA"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
Completed 406 Not Acceptable in 50ms (ActiveRecord: 5.6ms)


  
ActionController::UnknownFormat (SessionsController#callback is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not… nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.0.0) lib/action_controller/metal/implicit_render.rb:56:in `default_render'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.0.0) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:188:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.0.0) lib/active_support/callbacks.rb:126:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
activesupport (5.0.0) lib/active_support/callbacks.rb:455:in `call'
activesupport (5.0.0) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.0) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.0) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.0) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
omniauth (1.3.1) lib/omniauth/strategy.rb:408:in `call_app!'
omniauth (1.3.1) lib/omniauth/strategy.rb:362:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:71:in `block in callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:135:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.7ms)
Started GET "/auth/facebook/callback?code=AQBwtwrS1gKjGdgAyw-GtEHGHgs8zRvV5UaGKSJyCj9CxwfETfhMxWr89DHQzQatAaqXj6qBXu1NOnthpAGjDwhsBBvkAndEovK5F_wHN2qSHLmwoar-88kDiAIJB_0pKWKiPnxwB85evF8qnN6nRds8I9TvGLUeufPoSF0ky93_bcf_JnwkedRRNtTcx6mdcipvGc2utwFw-mtvebRnkO90MrohCJ-CdKLnqOOUs-RArdoFmAV5pCbqbO5j7EkIE5h3hh6xcYZA770jhL8Iwc-8aVmhxEUnOZwaL9j4PU359O97S7FuoX1_ownolOhFAmk&state=dccf19b4b20a2833cecbcf8cf1c7545baf6445140fd0d94b" for 127.0.0.1 at 2016-07-17 12:45:56 +0700
(facebook) Callback phase initiated.
(facebook) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"FjDy9\/D+MO3"}}
  
OAuth2::Error (: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"FjDy9\/D+MO3"}}):
  
oauth2 (1.2.0) lib/oauth2/client.rb:113:in `request'
oauth2 (1.2.0) lib/oauth2/client.rb:138:in `get_token'
oauth2 (1.2.0) lib/oauth2/strategy/auth_code.rb:29:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:114:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:71:in `block in callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:135:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.0ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:45:59 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (14.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 147ms (Views: 142.1ms | ActiveRecord: 3.6ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:00 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:00 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCUktFblNg3kDaNeucS_8jEpH8LHL45xM7K3JSRf_cwK81yVbgUTbuaRmBwY6IEplELSdR-aZMB3GojWUb3uOWzlJY8I-ZOS2KdM28uHwp2qZ8P_Iv-A3Fm0NLoe1fZB_PDb_e6ff_96SxuZF_TPYr2t17qiwv-drZmxIs5-N7p5iAeW5CqKeuYmw6DAM8cJ8_xaJSHanhMj5PXR-HaQakqyBzVj25gKI7fwn-TRCARfI5yr1LiWl0iKO1vs5LrtIil2qdDI7FjD041FfXzmWeowZDwCCBFTxKuosG8H7mlIZFrS451QI9bOxfJoKwwqcM&state=39f2077897f1424463209241a87fcb29704bfd110fa4b92d" for 127.0.0.1 at 2016-07-17 12:46:01 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCUktFblNg3kDaNeucS_8jEpH8LHL45xM7K3JSRf_cwK81yVbgUTbuaRmBwY6IEplELSdR-aZMB3GojWUb3uOWzlJY8I-ZOS2KdM28uHwp2qZ8P_Iv-A3Fm0NLoe1fZB_PDb_e6ff_96SxuZF_TPYr2t17qiwv-drZmxIs5-N7p5iAeW5CqKeuYmw6DAM8cJ8_xaJSHanhMj5PXR-HaQakqyBzVj25gKI7fwn-TRCARfI5yr1LiWl0iKO1vs5LrtIil2qdDI7FjD041FfXzmWeowZDwCCBFTxKuosG8H7mlIZFrS451QI9bOxfJoKwwqcM", "state"=>"39f2077897f1424463209241a87fcb29704bfd110fa4b92d", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "LfCVwmDy-avqPtPcjU-lmw"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  Rendering sessions/callback.html.erb within layouts/application
  Rendered sessions/callback.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 67.3ms | ActiveRecord: 16.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:46:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (29.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 195ms (Views: 184.3ms | ActiveRecord: 8.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:46:29 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (10.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 98.6ms | ActiveRecord: 0.4ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:30 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:31 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAzDVYSeV3RDv43mEIeEcW0y3uiKH3_GAAIHLu7txydjGznTQKIYOwM28aRBItydxyDJQ_b1qKYil8d7XfFPN1a-HQVw2HXErVEDzBAILb3n8r_aw5QoutV07Or7mNj1HJloGRJe3Ybe78ljDwj1gXtcO_cMWGoSB8wtqiZNBfuc0ZsjmczNvpqMUTL1rGDpmNW70tY-ZKqAnMx589xlQdGAttWeU_FfsuhXr5y3-A3PKAufZgO-45RpDm7f-2mKcOuO8kNqXUIF8lXSeP0lK00E9xHUfbelAWGrjKtWTaV4V3BXWoiM1-vHYx3wnrkzbw&state=d9d1251a7e9c03ee8a77dd0b008745f52d556e96e846facc" for 127.0.0.1 at 2016-07-17 12:46:31 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQAzDVYSeV3RDv43mEIeEcW0y3uiKH3_GAAIHLu7txydjGznTQKIYOwM28aRBItydxyDJQ_b1qKYil8d7XfFPN1a-HQVw2HXErVEDzBAILb3n8r_aw5QoutV07Or7mNj1HJloGRJe3Ybe78ljDwj1gXtcO_cMWGoSB8wtqiZNBfuc0ZsjmczNvpqMUTL1rGDpmNW70tY-ZKqAnMx589xlQdGAttWeU_FfsuhXr5y3-A3PKAufZgO-45RpDm7f-2mKcOuO8kNqXUIF8lXSeP0lK00E9xHUfbelAWGrjKtWTaV4V3BXWoiM1-vHYx3wnrkzbw", "state"=>"d9d1251a7e9c03ee8a77dd0b008745f52d556e96e846facc", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "47V4pii8tCpKlXc84ynUwg"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 9.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:46:33 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 77ms (Views: 75.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:46:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 115.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:46:46 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 82.7ms | ActiveRecord: 1.8ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:47 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:46:47 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBkrCz_IJCyALpcKa7J5X5AjANDlMu-qAWud5GxmY-8CtgF2gggF6ZYs_rG5zUFZYB7GB9ucS8ScuGYTqvfVdEmh1KTvMD1ZWsQqnSdGbFbwgT8e8MXwvKEfrqbJOGZ05k9WuZlXjH393o0OX6oSy1N9G_hF6PxXzDic92XhVQTmEC6bwUGCdigEENT4hi0qXDj5qnxHVLursbyXnoB8HOfL8i5-BhVybUfa2PshyaH9m0vk4kU6rt8KrOlsS7FBwTeyTc21-WhC5ubCRH3m0u3amJSTY9ckhMh5YOxSzm-71PUydFnmDG6ffXjisQfec8&state=396e277205b607fb273fac028112bf04d83b7c4f55993d0a" for 127.0.0.1 at 2016-07-17 12:46:47 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBkrCz_IJCyALpcKa7J5X5AjANDlMu-qAWud5GxmY-8CtgF2gggF6ZYs_rG5zUFZYB7GB9ucS8ScuGYTqvfVdEmh1KTvMD1ZWsQqnSdGbFbwgT8e8MXwvKEfrqbJOGZ05k9WuZlXjH393o0OX6oSy1N9G_hF6PxXzDic92XhVQTmEC6bwUGCdigEENT4hi0qXDj5qnxHVLursbyXnoB8HOfL8i5-BhVybUfa2PshyaH9m0vk4kU6rt8KrOlsS7FBwTeyTc21-WhC5ubCRH3m0u3amJSTY9ckhMh5YOxSzm-71PUydFnmDG6ffXjisQfec8", "state"=>"396e277205b607fb273fac028112bf04d83b7c4f55993d0a", "provider"=>"facebook"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (debug):
  
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.9ms)
Started PUT "/__web_console/repl_sessions/b573853386ebba8536cb2b01e2df949e" for 127.0.0.1 at 2016-07-17 12:47:00 +0700
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
Started PUT "/__web_console/repl_sessions/b573853386ebba8536cb2b01e2df949e" for 127.0.0.1 at 2016-07-17 12:47:10 +0700
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "FCUwaMAlF028dKMD2GPtKg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/" for 127.0.0.1 at 2016-07-17 12:50:11 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 83.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:50:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (18.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 125.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:50:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 93.2ms | ActiveRecord: 2.7ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:50:19 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:50:20 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCEYY-XZ7aBTNIawOliwzZ3dplB8fdIaRqf9VEM0Avd1yGg1v481W9LeKtVLVHDko0zBQwtQ8Mo9JGrS6AglHhX9wP3L-48u5f5zL141CdBhwA3tMhwVxDUvyXB0cR4bOBod_nh0SOVUl19IiJ8HNkzCHb03u-G1h9R3bxu0-4DjK5EgpX4vWiKnmez_f5R21hDSbRUbwIHqvekK37Yvt993d9VI3aYLLF0FwHZM2MUDmq52ixtoqZEUGkR-jm-cAnCJVY8PgUWs_xWZw0gMMRtuiIK1yqypg1nMkl4Pk_d8Pe238lHdbiFYb4RXe6Yisc&state=05fc1cb3664029dac9c0c61ac1f55f2387fe2d2f19051f63" for 127.0.0.1 at 2016-07-17 12:50:20 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCEYY-XZ7aBTNIawOliwzZ3dplB8fdIaRqf9VEM0Avd1yGg1v481W9LeKtVLVHDko0zBQwtQ8Mo9JGrS6AglHhX9wP3L-48u5f5zL141CdBhwA3tMhwVxDUvyXB0cR4bOBod_nh0SOVUl19IiJ8HNkzCHb03u-G1h9R3bxu0-4DjK5EgpX4vWiKnmez_f5R21hDSbRUbwIHqvekK37Yvt993d9VI3aYLLF0FwHZM2MUDmq52ixtoqZEUGkR-jm-cAnCJVY8PgUWs_xWZw0gMMRtuiIK1yqypg1nMkl4Pk_d8Pe238lHdbiFYb4RXe6Yisc", "state"=>"05fc1cb3664029dac9c0c61ac1f55f2387fe2d2f19051f63", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "1XLnI0E0RrQS2__7zmAklw"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `errors' for false:FalseClass):
  
app/controllers/sessions_controller.rb:30:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:50:58 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (21.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 156ms (Views: 149.5ms | ActiveRecord: 5.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:51:00 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:51:00 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBPBvaVOxBT0lQN7_0fnV_CbDIE6C6KHB66Fkjfav6L13aHPlXXlBryS6TA1kK6G0Zu1xO26P9LTV6thv0DpQ5cnYHHYzjOSOumr0oaWNiLt14OBHvEl_59v2S2w6rftSzCP0OfXc9mcSpNfxCkSyN7YwLArO3GuI-49fLg1i07_6Jb_e8CVV8v_D1pZqjBpnEKrw55Wq-gBkW5xri69dR_W4e11FaxbQfH_iIfTuDl8dY-0WA7qlCR2MXUKRub2_PHP9zosrYBK_7hGuXUh8cLuHs9lZfp8uKHIw1x1_6aEaFzX86eJYeXGE7HwzMhl1Y&state=e18a57691a9a477d879718ee48ad7d2ef9ce9000e1a7ffe2" for 127.0.0.1 at 2016-07-17 12:51:00 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBPBvaVOxBT0lQN7_0fnV_CbDIE6C6KHB66Fkjfav6L13aHPlXXlBryS6TA1kK6G0Zu1xO26P9LTV6thv0DpQ5cnYHHYzjOSOumr0oaWNiLt14OBHvEl_59v2S2w6rftSzCP0OfXc9mcSpNfxCkSyN7YwLArO3GuI-49fLg1i07_6Jb_e8CVV8v_D1pZqjBpnEKrw55Wq-gBkW5xri69dR_W4e11FaxbQfH_iIfTuDl8dY-0WA7qlCR2MXUKRub2_PHP9zosrYBK_7hGuXUh8cLuHs9lZfp8uKHIw1x1_6aEaFzX86eJYeXGE7HwzMhl1Y", "state"=>"e18a57691a9a477d879718ee48ad7d2ef9ce9000e1a7ffe2", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "-M8Iq_0UO0zxU0DVVi57mw"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:51:02 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 73.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/" for 127.0.0.1 at 2016-07-17 12:58:06 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 66.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:58:08 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 78ms (Views: 76.7ms | ActiveRecord: 0.4ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:58:11 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:58:12 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBcBciszKeDIsgS1QvtR38VYs5eTvrmuaDGtvZsRG79aXakVtPWY9OLbpvGHkXYLaplzUHNnvuwFwQcQTJXm-M4WtjxO5VYktnJA7nGkktk5HTlktB0Qe8Bs6cVPB602DWn8aAXYr7AVOoBv9vJYhF-weLlNfyxdfyI-r7OeAkLL7AtkKkMuUVwKZPzk8cM1sKOTF8kS9aSlfzBUH534bw_A8TDfTWRCobtvSzsoa_9_wrXYsVbWAOc3svCPANA1IzaVeAWs1Ye0Ox8aETmPYGWTU2_E7kp-xDVgENbhI7vOdhWKA62gfgcxfrZMofzcaA&state=3584f5bab96ccfe48277b16d5ef0bdb7006c2f0e8ae6fbf9" for 127.0.0.1 at 2016-07-17 12:58:13 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBcBciszKeDIsgS1QvtR38VYs5eTvrmuaDGtvZsRG79aXakVtPWY9OLbpvGHkXYLaplzUHNnvuwFwQcQTJXm-M4WtjxO5VYktnJA7nGkktk5HTlktB0Qe8Bs6cVPB602DWn8aAXYr7AVOoBv9vJYhF-weLlNfyxdfyI-r7OeAkLL7AtkKkMuUVwKZPzk8cM1sKOTF8kS9aSlfzBUH534bw_A8TDfTWRCobtvSzsoa_9_wrXYsVbWAOc3svCPANA1IzaVeAWs1Ye0Ox8aETmPYGWTU2_E7kp-xDVgENbhI7vOdhWKA62gfgcxfrZMofzcaA", "state"=>"3584f5bab96ccfe48277b16d5ef0bdb7006c2f0e8ae6fbf9", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/models/user.rb:30:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (72.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 12:58:36 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (12.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 87.9ms | ActiveRecord: 4.5ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:58:37 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 12:58:41 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCgSpMz8b_nR6gBC96hRzLuCgyUTxTImt1lgrd-WhuVY8Qm5P9NiDpWZggePx5XO-_J1ag2yFJJAoJTpOogedZll5iEEz8GbqyGwsnj7zIEb5mLGiivWTv7kK7gZVMMmcSOfI4oqwa2eKnNwmrbrsBa8Y3LFEO_ouUy6LxWcOhIq6OPf67w7wJLc_DSfrkEF38ReXW2-bOVjA23jwaCoRazzrV7a7ojSqHvJGoprhV_3BZMNVfAiFuA6kTJnlJK5Hdd3Y5FYTi84dZPJYLsjZ6sr-5tP4lqB8XX7ojG-50f1G2r4q3R5vgD7iJiJ0fjIL8&state=37fdd2792f93a3ef6973cdd5a823c72b8ac0c68cc823978e" for 127.0.0.1 at 2016-07-17 12:58:54 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCgSpMz8b_nR6gBC96hRzLuCgyUTxTImt1lgrd-WhuVY8Qm5P9NiDpWZggePx5XO-_J1ag2yFJJAoJTpOogedZll5iEEz8GbqyGwsnj7zIEb5mLGiivWTv7kK7gZVMMmcSOfI4oqwa2eKnNwmrbrsBa8Y3LFEO_ouUy6LxWcOhIq6OPf67w7wJLc_DSfrkEF38ReXW2-bOVjA23jwaCoRazzrV7a7ojSqHvJGoprhV_3BZMNVfAiFuA6kTJnlJK5Hdd3Y5FYTi84dZPJYLsjZ6sr-5tP4lqB8XX7ojG-50f1G2r4q3R5vgD7iJiJ0fjIL8", "state"=>"37fdd2792f93a3ef6973cdd5a823c72b8ac0c68cc823978e", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "5xq3OuarXZnFFeVBpjD4HA"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 46ms (ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 12:58:56 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:03:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 84.0ms | ActiveRecord: 0.3ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:03:58 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:04:00 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQApNSgHivP8-rakqWESJ_t9prQZzBdXBno9yh-orQYNGimslCVxVL6XEPj0cUmkH5kiPr9qdf07uJ2bp0c8IVqPHVDLyr_CVefU5ovnb8Pn_sN76eTM-LX3FuYzyxJWNYYWTkm1OAgu10JdSLs1Ez7HKVL7Vq-eyLCg4HrOg8vkzbbtwPdvOIcTBnSpSz7ZQsHJ_DgN6rIq7IPHy4FfxZ4X1_LwpIZyY-jfwLmyukjKjdCoCqz8FG6zqG585M529c7QuWseXe3vD6P3bLA0wT3OJL43zGtrPaJGK2Lti-KHHbBZ_qbV5OL7ird8HiZGEis&state=7810e9a299a4c2e8663cbead16052535258b2d109f68b721" for 127.0.0.1 at 2016-07-17 13:04:01 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQApNSgHivP8-rakqWESJ_t9prQZzBdXBno9yh-orQYNGimslCVxVL6XEPj0cUmkH5kiPr9qdf07uJ2bp0c8IVqPHVDLyr_CVefU5ovnb8Pn_sN76eTM-LX3FuYzyxJWNYYWTkm1OAgu10JdSLs1Ez7HKVL7Vq-eyLCg4HrOg8vkzbbtwPdvOIcTBnSpSz7ZQsHJ_DgN6rIq7IPHy4FfxZ4X1_LwpIZyY-jfwLmyukjKjdCoCqz8FG6zqG585M529c7QuWseXe3vD6P3bLA0wT3OJL43zGtrPaJGK2Lti-KHHbBZ_qbV5OL7ird8HiZGEis", "state"=>"7810e9a299a4c2e8663cbead16052535258b2d109f68b721", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "HOD5El5R-4BBTMq8qQTn8w"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:04:03 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 113.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:06:43 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 87.2ms | ActiveRecord: 3.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:06:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 103.4ms | ActiveRecord: 2.6ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:06:46 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:06:46 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB8d6BaMxA9mPkgeWu0xxYcJ7fe-Mob9zVgxaFT3vr4Sv-QgF8l47_a4G_0a4wSxJmbBJKE9tRztFU1U6Kkg-q_Fq2F2dJu2ogGvV2l51NcQU1xPqgXcBJg_sx_8IL2C8WqzfwnHKcrw2bG8A4w6utaJ2u33hASRqifLtYExFLLsArFlR0VCAeNFvSMMaFTIBtnr2ofFTfycvYx2A6-HD61kYG6uUBzJvz__QlhONpJCuJr5PcFLAfDXqdrYS0I81VrkiP9riZB2jefO9FtMsbs96dQCGxCkUScdYz7ZjX-6pvFPMSX0-W7tS1iTKsoWn4&state=a8900612592d48dacb9e101514b356b2b78886f1017b1eaf" for 127.0.0.1 at 2016-07-17 13:06:47 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQB8d6BaMxA9mPkgeWu0xxYcJ7fe-Mob9zVgxaFT3vr4Sv-QgF8l47_a4G_0a4wSxJmbBJKE9tRztFU1U6Kkg-q_Fq2F2dJu2ogGvV2l51NcQU1xPqgXcBJg_sx_8IL2C8WqzfwnHKcrw2bG8A4w6utaJ2u33hASRqifLtYExFLLsArFlR0VCAeNFvSMMaFTIBtnr2ofFTfycvYx2A6-HD61kYG6uUBzJvz__QlhONpJCuJr5PcFLAfDXqdrYS0I81VrkiP9riZB2jefO9FtMsbs96dQCGxCkUScdYz7ZjX-6pvFPMSX0-W7tS1iTKsoWn4", "state"=>"a8900612592d48dacb9e101514b356b2b78886f1017b1eaf", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "HgY_4rLAKmkG-_n6-trH8w"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 55ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:06:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 154ms (Views: 143.8ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:07:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 101.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:07:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 104.3ms | ActiveRecord: 0.3ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:07:15 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:07:15 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDgvfkFh_ft9GdOztf_nN_8lu7PIRi5XzTG7-jrJ1nVKQTx5US2uOWFsojhKNsbzPowEkuHpvnemJrqZoiWELZ71hWmwS3cm9a9IvTj_xFSZdOBRXgbpGWJqhQry8V2vwNU8ZQEY1ZW9IlLyQE5vnbvgsa9urKiwQ9R5LEvo_yp54fR5oWhr7gbv3Nw9LlkE5Vc0d1t32fK7wzmAazn2J9LTLZsG3KWarPpOmrR19-nLVNoeR4TqemFYEM4LwT38FkdzX8mSn47_YIbY9VMCa2mjLqT4829vAarCoo1xt-UbNimlAKqqcYgYQnUC7Op_5Q&state=5e32cc697f9a26a51de2ee01d833a5c49d9ed04b3bf95c1a" for 127.0.0.1 at 2016-07-17 13:07:16 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQDgvfkFh_ft9GdOztf_nN_8lu7PIRi5XzTG7-jrJ1nVKQTx5US2uOWFsojhKNsbzPowEkuHpvnemJrqZoiWELZ71hWmwS3cm9a9IvTj_xFSZdOBRXgbpGWJqhQry8V2vwNU8ZQEY1ZW9IlLyQE5vnbvgsa9urKiwQ9R5LEvo_yp54fR5oWhr7gbv3Nw9LlkE5Vc0d1t32fK7wzmAazn2J9LTLZsG3KWarPpOmrR19-nLVNoeR4TqemFYEM4LwT38FkdzX8mSn47_YIbY9VMCa2mjLqT4829vAarCoo1xt-UbNimlAKqqcYgYQnUC7Op_5Q", "state"=>"5e32cc697f9a26a51de2ee01d833a5c49d9ed04b3bf95c1a", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "esK_qvRu4D7e8MME3IYAbg"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 12.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:07:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 107ms (Views: 101.7ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:13:00 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 415ms (Views: 397.2ms | ActiveRecord: 2.7ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:02 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:03 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCT7LJ8R5RuSIKzxsIP_CJbQtr3quc2J4J7V-TjhnkXbRhV5nGj7ywVo6FMkC1VLF343vOSt59hl4cveacF4yh4VGjU6KFw-kk7m5r_VsIBFI8ENbSEWJ4wrZBKBYDSAVJ9cmCxBle7pKoDHkn0zpxLSl1WF_VzFyKH-jj_dzm_dAM9T_tYpUfXF2QvB2vGxoxS8bbNszFjf5SeZIohm_Axmt3sltRatzOYiSKzUgBgDbwfRKv-FIT21GAblae6ohno0xrdCAB8dut_Cy6_-NmMbn5kHkHhYj0-4wh0wPsnR9DixGG3sZ-3o0xdD4vvHGA&state=0464a8bbe4158a792ec215b8f385678d493b258678827922" for 127.0.0.1 at 2016-07-17 13:13:04 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCT7LJ8R5RuSIKzxsIP_CJbQtr3quc2J4J7V-TjhnkXbRhV5nGj7ywVo6FMkC1VLF343vOSt59hl4cveacF4yh4VGjU6KFw-kk7m5r_VsIBFI8ENbSEWJ4wrZBKBYDSAVJ9cmCxBle7pKoDHkn0zpxLSl1WF_VzFyKH-jj_dzm_dAM9T_tYpUfXF2QvB2vGxoxS8bbNszFjf5SeZIohm_Axmt3sltRatzOYiSKzUgBgDbwfRKv-FIT21GAblae6ohno0xrdCAB8dut_Cy6_-NmMbn5kHkHhYj0-4wh0wPsnR9DixGG3sZ-3o0xdD4vvHGA", "state"=>"0464a8bbe4158a792ec215b8f385678d493b258678827922", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "ZPxnswk8DVpFUkMNyLFeUg"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 62ms (ActiveRecord: 9.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:37:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:13:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (9.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 77.3ms | ActiveRecord: 1.3ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:28 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:28 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCW2JAlosk_ORbrjTAylVKtXTefTrv7qxYHlJZ77oI4EvZ8eP1TjRXQdJ0ijqVtPvAEUOHcJrLxDqDa1miIYjnmYrHQJ2-HHD09I2I4w8Y8IlckhXzjrnYeyTSTSaDls-DWZBtrIxwQXRLfHx4WBp-3mfLalAdEtAlI49guNWZ50_6FLT_oFf5qgltmHBtqmf5wLXFonb_3E8OAjK1n-Xs2WnkijgvhyeixnwkPRu_ghWTQTNiHPO7pYSRBYtqy8xdLljcCOYkF3gmP7f0_5sMI3WAl8PqqqiOh5Gi2hn9Ps2LWhNVaDBxgMpqwsLgfT-Y&state=d910e2c6359fc81893f7a30b0f73c2c5f469eaa95af1befb" for 127.0.0.1 at 2016-07-17 13:13:29 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCW2JAlosk_ORbrjTAylVKtXTefTrv7qxYHlJZ77oI4EvZ8eP1TjRXQdJ0ijqVtPvAEUOHcJrLxDqDa1miIYjnmYrHQJ2-HHD09I2I4w8Y8IlckhXzjrnYeyTSTSaDls-DWZBtrIxwQXRLfHx4WBp-3mfLalAdEtAlI49guNWZ50_6FLT_oFf5qgltmHBtqmf5wLXFonb_3E8OAjK1n-Xs2WnkijgvhyeixnwkPRu_ghWTQTNiHPO7pYSRBYtqy8xdLljcCOYkF3gmP7f0_5sMI3WAl8PqqqiOh5Gi2hn9Ps2LWhNVaDBxgMpqwsLgfT-Y", "state"=>"d910e2c6359fc81893f7a30b0f73c2c5f469eaa95af1befb", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password", "ukpS9mhaOeg5Iwc9QyJIkA"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 17.7ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.password does not exist
LINE 1: ... "users"."email" = $1 AND "users"."name" = $2 AND "users"."p...
                                                             ^
: SELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password" = $3 ORDER BY "users"."id" ASC LIMIT $4):
  
app/models/user.rb:33:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:13:53 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 70.3ms | ActiveRecord: 3.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:54 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:13:55 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQC_FEdSM8BO0mWF0XFXOvNaJVB6NfZSUtWHX1UYUIHpcxhTc2GGWhNEAI30PXSX9rQ75SUYCAIMxoTk9pRB0nGCVfqd3c14tpBzVkbJGFYZcly5hesQD8EaRM1XLSA_sEIOZaVUaIylF2at-ewnkQE3AylkTu5k2N37eU1AlkhjVmFrx4PHnPlErJxi2hoamFFNp8PUPydUbqcg8ORp-WupnZO876PVaPeKRSTWM4zo5-zyfn-DyBvkzYSNFE_XPkqKaZ2fp6G1C2imk_VjuafJbB4ZjAv8cJ77uTZesRkqj5hZ89UqnZwhfNijoc47yBw&state=6118bd9b620986ea9159b5fbd8956b379ebe5aafae281614" for 127.0.0.1 at 2016-07-17 13:13:55 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQC_FEdSM8BO0mWF0XFXOvNaJVB6NfZSUtWHX1UYUIHpcxhTc2GGWhNEAI30PXSX9rQ75SUYCAIMxoTk9pRB0nGCVfqd3c14tpBzVkbJGFYZcly5hesQD8EaRM1XLSA_sEIOZaVUaIylF2at-ewnkQE3AylkTu5k2N37eU1AlkhjVmFrx4PHnPlErJxi2hoamFFNp8PUPydUbqcg8ORp-WupnZO876PVaPeKRSTWM4zo5-zyfn-DyBvkzYSNFE_XPkqKaZ2fp6G1C2imk_VjuafJbB4ZjAv8cJ77uTZesRkqj5hZ89UqnZwhfNijoc47yBw", "state"=>"6118bd9b620986ea9159b5fbd8956b379ebe5aafae281614", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 ORDER BY "users"."id" ASC LIMIT $4[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "73l7yXwbKfNnF_9bKRbo4A"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 45ms (ActiveRecord: 15.2ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:37:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.7ms)
Started PUT "/__web_console/repl_sessions/4aa3b87d019e1273f1ccd44f88cc2287" for 127.0.0.1 at 2016-07-17 13:14:10 +0700
Started GET "/" for 127.0.0.1 at 2016-07-17 13:14:56 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (19.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 147.6ms | ActiveRecord: 1.9ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:14:57 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:14:57 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQC462uHl_fQ4XjldxYVS0V8-WA4sBvPn-igt3dmKItl5aglmmgNc5LYfJ2MVaTZ9AVDixmc5hOtO06Ubs2-wGCGTm_UmpKx_VLwXZXnIJoSj2DAulhum9RtR22kFZs6c5bJCgAVfk10rQN2CAOwBoZTvG5cjMrj-YbAofSA8XcUNvLy5tPY5VKFHdhyA7jiS4lz7_x0Sev_EEMawbATjjPWZBy4PLUYxy3iJzkytir-i_dYJf8zLMtUQo2JpNXvuezGZWyjgDx0f7bMb3jL8O1KzD1mtAj_flUNM0OiMM7xu6j7yEkV_ezLv_bBRVVFWqU&state=6568bd53a26a11ac4652a589ed22f889431efe03536f1d5c" for 127.0.0.1 at 2016-07-17 13:14:58 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQC462uHl_fQ4XjldxYVS0V8-WA4sBvPn-igt3dmKItl5aglmmgNc5LYfJ2MVaTZ9AVDixmc5hOtO06Ubs2-wGCGTm_UmpKx_VLwXZXnIJoSj2DAulhum9RtR22kFZs6c5bJCgAVfk10rQN2CAOwBoZTvG5cjMrj-YbAofSA8XcUNvLy5tPY5VKFHdhyA7jiS4lz7_x0Sev_EEMawbATjjPWZBy4PLUYxy3iJzkytir-i_dYJf8zLMtUQo2JpNXvuezGZWyjgDx0f7bMb3jL8O1KzD1mtAj_flUNM0OiMM7xu6j7yEkV_ezLv_bBRVVFWqU", "state"=>"6568bd53a26a11ac4652a589ed22f889431efe03536f1d5c", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "sAhVce8RoqN0G85X1dJdUA"], ["created_at", 2016-07-17 06:15:00 UTC], ["updated_at", 2016-07-17 06:15:00 UTC], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (4.0ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 43ms (ActiveRecord: 11.9ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:39:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:15:08 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (13.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 161ms (Views: 158.3ms | ActiveRecord: 1.2ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:15:09 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:15:10 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAVxTCSKbux2nDO6zQsqFp5rLKkjYKbF2J4nPOpP5WHoAIsvTS72zralJsXoW-zu0JgPexRhC61rRoT3dA-xmQC4Af4p-3KNY0cUotOkV8-1qjp0ejomrCBsoJf9EiLdFYIYsuEs8jyP-ZL-Wb7NXlPRxdrmLdKXT7C2VC713Zg0qkQkv48fLxiUwJkXC_x57JzrIy0cb76rdNbsRkrpKUKO8INcknYNEKA2ZjVOHo54ipbD9vN0dXu4lJExIdI0XZst8sMDc9ZRJH72_ix2ODR5GQoLcNMbzty9lrYQhjWSXgFlcz0Lq9BD8tzM4Pfn04&state=2ad7044533904e447eccb4d3ee8100fde8e95f0a43daf589" for 127.0.0.1 at 2016-07-17 13:15:10 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQAVxTCSKbux2nDO6zQsqFp5rLKkjYKbF2J4nPOpP5WHoAIsvTS72zralJsXoW-zu0JgPexRhC61rRoT3dA-xmQC4Af4p-3KNY0cUotOkV8-1qjp0ejomrCBsoJf9EiLdFYIYsuEs8jyP-ZL-Wb7NXlPRxdrmLdKXT7C2VC713Zg0qkQkv48fLxiUwJkXC_x57JzrIy0cb76rdNbsRkrpKUKO8INcknYNEKA2ZjVOHo54ipbD9vN0dXu4lJExIdI0XZst8sMDc9ZRJH72_ix2ODR5GQoLcNMbzty9lrYQhjWSXgFlcz0Lq9BD8tzM4Pfn04", "state"=>"2ad7044533904e447eccb4d3ee8100fde8e95f0a43daf589", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."password" = $4 AND "users"."created_at" = $5 AND "users"."updated_at" = $6 ORDER BY "users"."id" ASC LIMIT $7[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "kHcL1aXgXTooWAsgzTh1tA"], ["password", "yWlZLUozMK-WUzmEBaH0vA"], ["created_at", 2016-07-17 06:15:14 UTC], ["updated_at", 2016-07-17 06:15:14 UTC], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 8.8ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.password does not exist
LINE 1: ...name" = $2 AND "users"."password_digest" = $3 AND "users"."p...
                                                             ^
: SELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."password" = $4 AND "users"."created_at" = $5 AND "users"."updated_at" = $6 ORDER BY "users"."id" ASC LIMIT $7):
  
app/models/user.rb:36:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.7ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:15:48 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (11.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 91.2ms | ActiveRecord: 1.2ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:15:49 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:15:49 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDfd7NVT32DdB61iM3vsmZr_Tlna3yHgVS-Kdyhn8auImLMWQEO6mxUhhHqTNIgTs9SUMdGfrb6AI_aRiWSv11mY0LpgNP2wo5g-NNsEBJQL4Gk2WtxGo8g1SpiNkk7FxTfQTC3XFbFRw2Df1Sg1S4yKbdf4XoncZTDdFHRMYTYqHE15KEWzcUl2Q8LQDw47El_xbyVaQjnq_XVlNCn8T-5cLbTOljr06wzkm1ZmSllCLqD_ANHJIqks9jt9HfKiYDi1Xv7GrFtpRr1g8jsOv94DN6ShUeZFpmUUIYvGjnrKRJ0KIdW8qUynn6nZNvFxI4&state=1c4090b03b75814a64d2fa46d96c59f647d323e6435d0cb7" for 127.0.0.1 at 2016-07-17 13:15:50 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQDfd7NVT32DdB61iM3vsmZr_Tlna3yHgVS-Kdyhn8auImLMWQEO6mxUhhHqTNIgTs9SUMdGfrb6AI_aRiWSv11mY0LpgNP2wo5g-NNsEBJQL4Gk2WtxGo8g1SpiNkk7FxTfQTC3XFbFRw2Df1Sg1S4yKbdf4XoncZTDdFHRMYTYqHE15KEWzcUl2Q8LQDw47El_xbyVaQjnq_XVlNCn8T-5cLbTOljr06wzkm1ZmSllCLqD_ANHJIqks9jt9HfKiYDi1Xv7GrFtpRr1g8jsOv94DN6ShUeZFpmUUIYvGjnrKRJ0KIdW8qUynn6nZNvFxI4", "state"=>"1c4090b03b75814a64d2fa46d96c59f647d323e6435d0cb7", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "Yzvi_VIzMXqe6hUPQ25f0w"], ["created_at", 2016-07-17 06:15:52 UTC], ["updated_at", 2016-07-17 06:15:52 UTC], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 51ms (ActiveRecord: 13.1ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:39:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:19:46 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 116.6ms | ActiveRecord: 0.4ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:19:48 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:19:49 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQC-o_6zq8B30Mc2HJanBGGvyAsr3TZ8gUU211h0YA8NqYKFaU79c158r6ho-aZSrCTLTbmoedbnxNfU5EgcY1vo_Yl7ohtFPYiB7_iaE8I6zV807q3mAdvRNRaZWKdxAPmpvERXXA-vUO2oJf71zIZiveZBA0KjG0ieZc2y-VnR2K57YHGnAQRhufPRD2DUc_TVkirom9p977sG1yQ9coU_Ygn_PEJ08oa0-vFjObkAKKToXd7XJCfk_B4Azh04mB88PErad9Cdd9viLWkii9wfyqgzWzirHC1_jWC4GwKlE7MUGvgpr-oLzTfzmEDgVlY&state=4a3f15ec29ca282253093f3fb4e0ee492c82b488eadc05f2" for 127.0.0.1 at 2016-07-17 13:19:50 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQC-o_6zq8B30Mc2HJanBGGvyAsr3TZ8gUU211h0YA8NqYKFaU79c158r6ho-aZSrCTLTbmoedbnxNfU5EgcY1vo_Yl7ohtFPYiB7_iaE8I6zV807q3mAdvRNRaZWKdxAPmpvERXXA-vUO2oJf71zIZiveZBA0KjG0ieZc2y-VnR2K57YHGnAQRhufPRD2DUc_TVkirom9p977sG1yQ9coU_Ygn_PEJ08oa0-vFjObkAKKToXd7XJCfk_B4Azh04mB88PErad9Cdd9viLWkii9wfyqgzWzirHC1_jWC4GwKlE7MUGvgpr-oLzTfzmEDgVlY", "state"=>"4a3f15ec29ca282253093f3fb4e0ee492c82b488eadc05f2", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "UNxiaPWqcePJBrd2R0_b3w"], ["created_at", 2016-07-17 06:19:53 UTC], ["updated_at", 2016-07-17 06:19:53 UTC], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 24ms (ActiveRecord: 3.1ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:39:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.6ms)
Started PUT "/__web_console/repl_sessions/be44d7065a8f37327a525bf58e29d0d9" for 127.0.0.1 at 2016-07-17 13:20:05 +0700
Started GET "/" for 127.0.0.1 at 2016-07-17 13:21:10 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 101.1ms | ActiveRecord: 1.7ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:21:12 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:21:12 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBrAMg9Gt4fdaZJSy3MzahBxDole4IUpaZuHe_Rzzv-tyASWQVTpV3owFeR77jPh5jhxH0Dwv7oZexJ6J1Z5Fm13g__td9h79__8bsrTPZiUAMiRMWRji80jXkJrUHLydxlPzAJu0rp9LtAgCXDkKiK6NE6jq0AiZjgxiiqQ-q7B-XDp7DYRpxDDJ3Sc0ll5YKMRihmvSt-bXkSynue_P1F5n76c8R36NoAEm_eE_OahnTo2kNhlYWNXKIk2kHxJkfTN8YZGJ9QZ3Q7tmsSeOA6-c-fP7GSa6SV9WH3swLbqCczPCBD2I-9y8QS7-uFC6o&state=2299040f779b2466927f71abc3a23bd60376207c7826f170" for 127.0.0.1 at 2016-07-17 13:21:12 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBrAMg9Gt4fdaZJSy3MzahBxDole4IUpaZuHe_Rzzv-tyASWQVTpV3owFeR77jPh5jhxH0Dwv7oZexJ6J1Z5Fm13g__td9h79__8bsrTPZiUAMiRMWRji80jXkJrUHLydxlPzAJu0rp9LtAgCXDkKiK6NE6jq0AiZjgxiiqQ-q7B-XDp7DYRpxDDJ3Sc0ll5YKMRihmvSt-bXkSynue_P1F5n76c8R36NoAEm_eE_OahnTo2kNhlYWNXKIk2kHxJkfTN8YZGJ9QZ3Q7tmsSeOA6-c-fP7GSa6SV9WH3swLbqCczPCBD2I-9y8QS7-uFC6o", "state"=>"2299040f779b2466927f71abc3a23bd60376207c7826f170", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "VrX0wM8OMJVl7NrbQO7HOQ"], ["created_at", 2016-07-17 06:21:16 UTC], ["updated_at", 2016-07-17 06:21:16 UTC], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 69ms (ActiveRecord: 15.3ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:40:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (35.8ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:22:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (44.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 223ms (Views: 213.6ms | ActiveRecord: 4.9ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:22:46 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:22:47 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCUZIprr-Mio5nVvkPqXMivcVBvYe_sEQ7GYU9GV_T_ZIn7hc2Fa8Kqvrm8LkK4NLUG-HlZmNvsBut3LcaJZnumt7lgNWMmpC9O-MPASSR1OgyTkQoCv7twXTflojEl0RL1tRcSe19ZIwsu1LbdPTI2HcrJ-_uPvBfBhQgw9_J1TULC9UfuN-kXoBFJT-sxec-m2JyicJ4ghSNn3brE28hTogBgcTDtabw_qetqf8hXZlNLFfleSpzE58Q8SvUjd9qpDkLKJzO6_DZCSUQIiYVkK05KUXFz7N9w0T-rj9p15Ivv6L-0LY8ZBD2HsnI9cwQ&state=350670c43dd4119c356e686f30277e3ea22eacedd54bf1dd" for 127.0.0.1 at 2016-07-17 13:22:47 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCUZIprr-Mio5nVvkPqXMivcVBvYe_sEQ7GYU9GV_T_ZIn7hc2Fa8Kqvrm8LkK4NLUG-HlZmNvsBut3LcaJZnumt7lgNWMmpC9O-MPASSR1OgyTkQoCv7twXTflojEl0RL1tRcSe19ZIwsu1LbdPTI2HcrJ-_uPvBfBhQgw9_J1TULC9UfuN-kXoBFJT-sxec-m2JyicJ4ghSNn3brE28hTogBgcTDtabw_qetqf8hXZlNLFfleSpzE58Q8SvUjd9qpDkLKJzO6_DZCSUQIiYVkK05KUXFz7N9w0T-rj9p15Ivv6L-0LY8ZBD2HsnI9cwQ", "state"=>"350670c43dd4119c356e686f30277e3ea22eacedd54bf1dd", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "uDDHmvsJgdUNoHB1XgftNw"], ["created_at", 2016-07-17 06:22:49 UTC], ["updated_at", 2016-07-17 06:22:49 UTC], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 55ms (ActiveRecord: 13.9ms)


  
NoMethodError (undefined method `from_facebook' for #<User:0xb349669c>):
  
app/models/user.rb:39:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (49.1ms)
Started GET "/auth/facebook/callback?code=AQCUZIprr-Mio5nVvkPqXMivcVBvYe_sEQ7GYU9GV_T_ZIn7hc2Fa8Kqvrm8LkK4NLUG-HlZmNvsBut3LcaJZnumt7lgNWMmpC9O-MPASSR1OgyTkQoCv7twXTflojEl0RL1tRcSe19ZIwsu1LbdPTI2HcrJ-_uPvBfBhQgw9_J1TULC9UfuN-kXoBFJT-sxec-m2JyicJ4ghSNn3brE28hTogBgcTDtabw_qetqf8hXZlNLFfleSpzE58Q8SvUjd9qpDkLKJzO6_DZCSUQIiYVkK05KUXFz7N9w0T-rj9p15Ivv6L-0LY8ZBD2HsnI9cwQ&state=350670c43dd4119c356e686f30277e3ea22eacedd54bf1dd" for 127.0.0.1 at 2016-07-17 13:23:05 +0700
(facebook) Callback phase initiated.
Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:08 +0700
(facebook) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"BcaHzvBvoxZ"}}
  
OAuth2::Error (: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"BcaHzvBvoxZ"}}):
  
oauth2 (1.2.0) lib/oauth2/client.rb:113:in `request'
oauth2 (1.2.0) lib/oauth2/client.rb:138:in `get_token'
oauth2 (1.2.0) lib/oauth2/strategy/auth_code.rb:29:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:114:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:71:in `block in callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:135:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (11.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (109.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:10 +0700
Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:10 +0700
Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:10 +0700
Processing by PagesController#index as HTML
Processing by PagesController#index as HTML
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  Rendering pages/index.html.erb within layouts/application
  Rendering pages/index.html.erb within layouts/application
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (56.9ms)
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (77.0ms)
  Rendered pages/index.html.erb within layouts/application (67.5ms)
  [1m[36mUser Load (17.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (157.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:10 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
Completed 500 Internal Server Error in 224ms (ActiveRecord: 17.4ms)


  
ActionView::Template::Error (can't add a new key into hash during iteration):
    4:   <title>Chat KenK11</title>
    5:   <%= csrf_meta_tags %>
    6: 
    7:   <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:   <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9: </head>
   10: 
  
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___871675302__648805648'
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (110.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 843ms (Views: 809.8ms | ActiveRecord: 31.9ms)


  [1m[36mUser Load (29.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 868ms (Views: 804.0ms | ActiveRecord: 54.1ms)


  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 898ms (Views: 859.6ms | ActiveRecord: 21.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:23:11 +0700
Processing by PagesController#index as HTML
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 689ms (Views: 675.7ms | ActiveRecord: 11.6ms)


  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (109.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 272ms (Views: 270.2ms | ActiveRecord: 0.3ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:23:13 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:23:13 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBkjuziIgLtn0o_PSlyD4L4GfD0MthrTVx_WuPUGC83t3gJNxrKJSH7HtiyGmxDZ7Udu7ctnU943oZHSdNifig_S294xhfT0zr-Dv11q_0vGeTZbdpG_hw696lGIYeoSva2ugrW6_HNAYaksPd_Bhtn_0aGUWkPsvo8E0XFIyw6nZKgBvXn4ekwG7iRzhI8xvK3KF5gCtdnFuC2UcIh9xYFV63dLY-IDvSNc7ochfK6nbezLGiMr5X7-V_b5Tt7AOMROFH4Aq8BgcmT8Yp2dBzyjmlB8D2SPBl_bo55qBY6nsm-7hIYRY9CqC40HxnMXyo&state=ebe2e4bdbd0d6a38aa6bd926a79ecfb2b62f1aa9f9172750" for 127.0.0.1 at 2016-07-17 13:23:13 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBkjuziIgLtn0o_PSlyD4L4GfD0MthrTVx_WuPUGC83t3gJNxrKJSH7HtiyGmxDZ7Udu7ctnU943oZHSdNifig_S294xhfT0zr-Dv11q_0vGeTZbdpG_hw696lGIYeoSva2ugrW6_HNAYaksPd_Bhtn_0aGUWkPsvo8E0XFIyw6nZKgBvXn4ekwG7iRzhI8xvK3KF5gCtdnFuC2UcIh9xYFV63dLY-IDvSNc7ochfK6nbezLGiMr5X7-V_b5Tt7AOMROFH4Aq8BgcmT8Yp2dBzyjmlB8D2SPBl_bo55qBY6nsm-7hIYRY9CqC40HxnMXyo", "state"=>"ebe2e4bdbd0d6a38aa6bd926a79ecfb2b62f1aa9f9172750", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (15.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."created_at" = $4 AND "users"."updated_at" = $5 ORDER BY "users"."id" ASC LIMIT $6[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "5B5yu_KfBbmj2Hrg-EX_uw"], ["created_at", 2016-07-17 06:23:15 UTC], ["updated_at", 2016-07-17 06:23:15 UTC], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 80ms (ActiveRecord: 34.8ms)


  
NoMethodError (undefined method `from_facebook' for #<User:0xb389750c>):
  
app/models/user.rb:40:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.6ms)
Started PUT "/__web_console/repl_sessions/bb1ebfaa4bc58c1edda8608efbce0a6c" for 127.0.0.1 at 2016-07-17 13:23:24 +0700
Started PUT "/__web_console/repl_sessions/bb1ebfaa4bc58c1edda8608efbce0a6c" for 127.0.0.1 at 2016-07-17 13:23:28 +0700
Started GET "/" for 127.0.0.1 at 2016-07-17 13:27:34 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (18.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 133.1ms | ActiveRecord: 0.6ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:27:35 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:27:36 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAyJcdFt-qvkzzNVZXrr19LtIfp5dBvuXOn4yEriIuXTbIbwc9FNWcMX8-O2Ky7OrXkxOe7DgZ2U_5DSvCGm2v4shoJIs8C3mqsF2iaG7uiTYEgg6VA2I4lJH1ptLjcgadK_yPQLFWqidcRPMubzdHgKm-wKBDfcuvxEQFDVeTlKBcPsci-BOhpaCh-n-KG0T2_yGPf-UgMkbQ7Cj51n1YJAEb4YP8U3h0XU0Yu0o3RyIsf69VnmkWLTFNmotnEuv-z4KNe1S__AcdI31j358bU2IOiZs6r2yBX7UEYhaYZOjPy-PP7FJ0M6041ZsYcmjs&state=99769367853f5b7621feb07c03c6b35d105eb94a80239861" for 127.0.0.1 at 2016-07-17 13:27:37 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQAyJcdFt-qvkzzNVZXrr19LtIfp5dBvuXOn4yEriIuXTbIbwc9FNWcMX8-O2Ky7OrXkxOe7DgZ2U_5DSvCGm2v4shoJIs8C3mqsF2iaG7uiTYEgg6VA2I4lJH1ptLjcgadK_yPQLFWqidcRPMubzdHgKm-wKBDfcuvxEQFDVeTlKBcPsci-BOhpaCh-n-KG0T2_yGPf-UgMkbQ7Cj51n1YJAEb4YP8U3h0XU0Yu0o3RyIsf69VnmkWLTFNmotnEuv-z4KNe1S__AcdI31j358bU2IOiZs6r2yBX7UEYhaYZOjPy-PP7FJ0M6041ZsYcmjs", "state"=>"99769367853f5b7621feb07c03c6b35d105eb94a80239861", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."password" = $4 AND "users"."created_at" = $5 AND "users"."updated_at" = $6 ORDER BY "users"."id" ASC LIMIT $7[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["password_digest", "pHSlpaEPPkvOROmgal3_vQ"], ["password", "--0kPIUuVCB7368-qRPvLw"], ["created_at", 2016-07-17 06:27:39 UTC], ["updated_at", 2016-07-17 06:27:39 UTC], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 15.1ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.password does not exist
LINE 1: ...name" = $2 AND "users"."password_digest" = $3 AND "users"."p...
                                                             ^
: SELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."password_digest" = $3 AND "users"."password" = $4 AND "users"."created_at" = $5 AND "users"."updated_at" = $6 ORDER BY "users"."id" ASC LIMIT $7):
  
app/models/user.rb:36:in `from_facebook'
app/controllers/sessions_controller.rb:26:in `callback'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (46.2ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:30:36 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (12.3ms)
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 86.4ms | ActiveRecord: 6.2ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:30:37 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:30:38 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQACHUsXLmqsFIeBYHEUGaDEugypQm3c2YR7wy6MtEacSL4amjB9gN9yMCKqrAs14ZkiGE5BSNgJJ-rd8EfICL7KnX2-xHE17ZAUZEkwXFV6nFFGKBreJR8z0b0aWN8fbYnJoar30pG0hhsmt_2Nmx972tF9Xsq8vfdcYYWzkPGA_sq3vsBhFzXPTbo1tdO6FG-G9LjcMtP3dQ_T2X3XvHSbILPxIRRCJcQfLD6aHb35ByB1MYxwUuSqS5URe06_YCaKkdbqnQdr-hHKnoybV-Zjczzc4GIVZj5oNC3EvOYSIX6yV61dbWyTYho1JgiG058&state=53feacfcb42c779b8eba44dba15f4d650bf353e7db53ca78" for 127.0.0.1 at 2016-07-17 13:30:39 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQACHUsXLmqsFIeBYHEUGaDEugypQm3c2YR7wy6MtEacSL4amjB9gN9yMCKqrAs14ZkiGE5BSNgJJ-rd8EfICL7KnX2-xHE17ZAUZEkwXFV6nFFGKBreJR8z0b0aWN8fbYnJoar30pG0hhsmt_2Nmx972tF9Xsq8vfdcYYWzkPGA_sq3vsBhFzXPTbo1tdO6FG-G9LjcMtP3dQ_T2X3XvHSbILPxIRRCJcQfLD6aHb35ByB1MYxwUuSqS5URe06_YCaKkdbqnQdr-hHKnoybV-Zjczzc4GIVZj5oNC3EvOYSIX6yV61dbWyTYho1JgiG058", "state"=>"53feacfcb42c779b8eba44dba15f4d650bf353e7db53ca78", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."created_at" = $3 AND "users"."updated_at" = $4 ORDER BY "users"."id" ASC LIMIT $5[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["created_at", 2016-07-17 06:30:41 UTC], ["updated_at", 2016-07-17 06:30:41 UTC], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Ken Nguyen"], ["email", "mrkapu001@gmail.com"], ["password_digest", "$2a$10$m2CZHReVZ5ZFTf7xWuv/wOZjyi0Jfihw8fi266IhG2XQUF3oQfMVu"], ["created_at", 2016-07-17 06:30:41 UTC], ["updated_at", 2016-07-17 06:30:41 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 118ms (ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:30:41 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (27.2ms)
Completed 200 OK in 103ms (Views: 97.7ms | ActiveRecord: 3.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:31:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (82.8ms)
Completed 200 OK in 245ms (Views: 231.7ms | ActiveRecord: 8.1ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 13:31:40 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9A5NfCVy7DmLfc2DShEOkpB9Vsv0apGAtqKOoZg5yFHR1jHd5DP5xyxnEUc7TSXermcIA8qi7E+sihIScnLVsQ=="}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:31:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (8.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 196ms (Views: 191.6ms | ActiveRecord: 2.2ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:31:42 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:31:42 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBWfbe7qYScGkKv_Pm2QYEBcZEH9tZumLHWCj4zMgiECf8gqOW84YSDTRUtlLjDPv8OVWjxyAQJ7Qt5GUTVEw-kJhAsFIxgzlKEj8DglPHcmgYPPcaOTvOLSYe1XIy1_uQ5TSpAIkKC1BbQb6QslZRXulhvGDmQEi3XRSuinASxovroUsqNhiMPtxiNJKvTWPu_Xe2ifXcoaXERo1hNlFradPbARj7DHbPsZ2kD55vYHywkWJWgutKu1x3FOeEKwJDVENYdit-ZUxDPeAfpSKCcveJnkzx3kPfgfsYW4iByTxiL8pm6CYUipCC4JvzUX3Y&state=748fddab036a0a146631a8f7d544c0f8eaacd7b15bd88c7d" for 127.0.0.1 at 2016-07-17 13:31:43 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQBWfbe7qYScGkKv_Pm2QYEBcZEH9tZumLHWCj4zMgiECf8gqOW84YSDTRUtlLjDPv8OVWjxyAQJ7Qt5GUTVEw-kJhAsFIxgzlKEj8DglPHcmgYPPcaOTvOLSYe1XIy1_uQ5TSpAIkKC1BbQb6QslZRXulhvGDmQEi3XRSuinASxovroUsqNhiMPtxiNJKvTWPu_Xe2ifXcoaXERo1hNlFradPbARj7DHbPsZ2kD55vYHywkWJWgutKu1x3FOeEKwJDVENYdit-ZUxDPeAfpSKCcveJnkzx3kPfgfsYW4iByTxiL8pm6CYUipCC4JvzUX3Y", "state"=>"748fddab036a0a146631a8f7d544c0f8eaacd7b15bd88c7d", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."name" = $2 AND "users"."created_at" = $3 AND "users"."updated_at" = $4 ORDER BY "users"."id" ASC LIMIT $5[0m  [["email", "mrkapu001@gmail.com"], ["name", "Ken Nguyen"], ["created_at", 2016-07-17 06:31:44 UTC], ["updated_at", 2016-07-17 06:31:44 UTC], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/
Completed 302 Found in 103ms (ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:31:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 65.6ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:29 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 72.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:32 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 124ms (Views: 115.7ms | ActiveRecord: 4.3ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:34:33 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:34:33 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA-MiGrocS0UMD_gpRhmMw2jno8iKvvqRnTQ3nxhIo54AeCKZJccgUFU63BVTnyJ4-Z7W-b8uD9RPC-d1WWosRucHrETVTPMG1uSL0y5Zl6c19C6JAb9DAostu1J_k_3z-7ovQsEvJ_yRmO4a6Qppu5mi63II1yOQSRvkP6bX7jo5U3YWhqP9_v7aM8xzRZrerqq9ibmuwHfLalPfTi5Z78ISbDYxEyJjlugRdfhSDeUnc0uTXktVL8fym49zQFgjOXRAAM5Aq9mOtZT1xJpnIoYn72q6J0EjrvTgnnMqp4uVJoHBEFR5FGspezsq-WLkA&state=ea8b3df777267076c7d4466205ff9f927af3f748bb364b1b" for 127.0.0.1 at 2016-07-17 13:34:34 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQA-MiGrocS0UMD_gpRhmMw2jno8iKvvqRnTQ3nxhIo54AeCKZJccgUFU63BVTnyJ4-Z7W-b8uD9RPC-d1WWosRucHrETVTPMG1uSL0y5Zl6c19C6JAb9DAostu1J_k_3z-7ovQsEvJ_yRmO4a6Qppu5mi63II1yOQSRvkP6bX7jo5U3YWhqP9_v7aM8xzRZrerqq9ibmuwHfLalPfTi5Z78ISbDYxEyJjlugRdfhSDeUnc0uTXktVL8fym49zQFgjOXRAAM5Aq9mOtZT1xJpnIoYn72q6J0EjrvTgnnMqp4uVJoHBEFR5FGspezsq-WLkA", "state"=>"ea8b3df777267076c7d4466205ff9f927af3f748bb364b1b", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 15.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:36 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (12.3ms)
Completed 200 OK in 77ms (Views: 73.4ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 175ms (Views: 167.5ms | ActiveRecord: 6.6ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 13:34:42 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pTGOrJY23m4WkITL1HZxBF8yeRVrDHf4Gvy6aEnVIp+A6fINV3fLkLGKWA+lKlpIYSgn3VXECjcA1Cbbo54/fw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:42 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 103.4ms | ActiveRecord: 2.0ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:34:44 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/" for 127.0.0.1 at 2016-07-17 13:34:44 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAd7QFGtJ3pORzT2x5ozE5MPaDp5ZbgcD6Fjf60HoDfCdFbSAtULLZdoFAILjZCE5NfuuUfAZTXE4kHPOZBl-fsSae1qSZLrZblmsedr4JIgYBiXozkiTWIy_3j5dl-OsnyA47RkmGRmpQFW55ZshHQvm1EZIcCSHAoJqeSYBfyBHFpLWJuG5FfierOUwjMzCyEUL8W8XbH6vAEBcmqodYa_0_s6T0dw6mx7gesqnHhcpaDY1xhd2uR5FQnuTOTOOgTKDFrOMeBJq2nzbvaIBODXS_YvWQbOb93z0fYQSA2IZTyysry923H9-4QEl9Ga7A&state=3c5d7491e00dc0be7df194abb2bdaa8307b53c9a9d9d35ad" for 127.0.0.1 at 2016-07-17 13:34:45 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQAd7QFGtJ3pORzT2x5ozE5MPaDp5ZbgcD6Fjf60HoDfCdFbSAtULLZdoFAILjZCE5NfuuUfAZTXE4kHPOZBl-fsSae1qSZLrZblmsedr4JIgYBiXozkiTWIy_3j5dl-OsnyA47RkmGRmpQFW55ZshHQvm1EZIcCSHAoJqeSYBfyBHFpLWJuG5FfierOUwjMzCyEUL8W8XbH6vAEBcmqodYa_0_s6T0dw6mx7gesqnHhcpaDY1xhd2uR5FQnuTOTOOgTKDFrOMeBJq2nzbvaIBODXS_YvWQbOb93z0fYQSA2IZTyysry923H9-4QEl9Ga7A", "state"=>"3c5d7491e00dc0be7df194abb2bdaa8307b53c9a9d9d35ad", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:34:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 102ms (Views: 94.1ms | ActiveRecord: 6.5ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:38:01 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (39.9ms)
Completed 200 OK in 153ms (Views: 134.9ms | ActiveRecord: 13.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:38:03 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 127ms (Views: 120.7ms | ActiveRecord: 5.8ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:38:04 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (7.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (12.0ms)
Completed 200 OK in 138ms (Views: 128.0ms | ActiveRecord: 7.7ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:38:18 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (14.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (27.7ms)
Completed 200 OK in 150ms (Views: 124.3ms | ActiveRecord: 18.8ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-17 13:38:25 +0700
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"N8qnQmdhKeXf/cm58fMQyEFY8LfzZHj0sQKU+VeRTS0SEtvjpiA8G3jnFX2ArzuEf0Kuf82sBTurKghKvdpQzQ==", "friend_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (13.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 7], ["friend_id", 1], ["created_at", 2016-07-17 06:38:25 UTC], ["updated_at", 2016-07-17 06:38:25 UTC]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/friends
Completed 302 Found in 40ms (ActiveRecord: 22.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:38:25 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (13.5ms)
Completed 200 OK in 104ms (Views: 92.5ms | ActiveRecord: 6.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:38:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  Rendered pages/friends.html.erb within layouts/application (24.8ms)
Completed 200 OK in 106ms (Views: 97.2ms | ActiveRecord: 5.9ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 13:38:36 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  Rendered messages/new.html.erb within layouts/application (55.2ms)
Completed 200 OK in 142ms (Views: 132.1ms | ActiveRecord: 7.5ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:38:37 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (4.6ms)
Completed 200 OK in 136ms (Views: 130.8ms | ActiveRecord: 2.2ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:39:39 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (4.0ms)
Completed 200 OK in 91ms (Views: 84.8ms | ActiveRecord: 4.1ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:39:44 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (4.7ms)
Completed 200 OK in 96ms (Views: 84.5ms | ActiveRecord: 3.1ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:39:48 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (5.5ms)
Completed 200 OK in 90ms (Views: 79.2ms | ActiveRecord: 6.0ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:39:52 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (4.6ms)
Completed 200 OK in 81ms (Views: 77.0ms | ActiveRecord: 2.1ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 13:40:21 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  Rendered messages/new.html.erb within layouts/application (22.7ms)
Completed 200 OK in 175ms (Views: 165.9ms | ActiveRecord: 4.3ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 13:40:22 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 7[0m
  Rendered messages/sent.html.erb within layouts/application (5.9ms)
Completed 200 OK in 197ms (Views: 185.0ms | ActiveRecord: 3.6ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 13:40:23 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7[0m
  Rendered messages/received.html.erb within layouts/application (7.1ms)
Completed 200 OK in 146ms (Views: 138.5ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:47:21 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 125ms (Views: 119.9ms | ActiveRecord: 4.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:47:23 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  [1m[36mFriendship Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 2], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (48.0ms)
Completed 200 OK in 157ms (Views: 140.3ms | ActiveRecord: 14.4ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 13:47:54 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  Rendered messages/new.html.erb within layouts/application (12.0ms)
Completed 200 OK in 139ms (Views: 132.6ms | ActiveRecord: 1.8ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-17 13:47:57 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+AKqGVENv0DDw5ZcTbUScTSMxft8Bda5VrGciDl/iugJIoItGnlAExH6iEXsZ5BHPfSCjoFQZwnTSgaXoEE3ag==", "message"=>{"recipient_id"=>"1", "body"=>"sdasd"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 7], ["recipient_id", 1], ["body", "sdasd"], ["created_at", 2016-07-17 06:47:57 UTC], ["updated_at", 2016-07-17 06:47:57 UTC]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 15ms (ActiveRecord: 6.7ms)


Started GET "/users" for 127.0.0.1 at 2016-07-17 13:47:57 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 90ms (Views: 86.5ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:48:22 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (67.9ms)
Completed 200 OK in 168ms (Views: 159.2ms | ActiveRecord: 7.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 13:48:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 7)[0m
  [1m[36mFriendship Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (4.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 2], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (6.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 7], ["friend_id", 6], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (146.7ms)
Completed 200 OK in 399ms (Views: 359.5ms | ActiveRecord: 32.1ms)


Started GET "/users/1/messages/new" for 127.0.0.1 at 2016-07-17 13:48:29 +0700
Processing by MessagesController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 7]]
  Rendered messages/new.html.erb within layouts/application (55.6ms)
Completed 200 OK in 250ms (Views: 230.1ms | ActiveRecord: 10.7ms)


Started POST "/users/1/messages" for 127.0.0.1 at 2016-07-17 13:48:30 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"x2QZP5fciCM1BvJyRwHOaMvsJ7ivLJKuMfNXuKaznYpGiLJVDk7l0sLiGmfVirbLkwiR7Ned2+xJiIiQiEu74A==", "message"=>{"recipient_id"=>"1", "body"=>"asdasd"}, "commit"=>"Send Message", "user_id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (6.7ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 7], ["recipient_id", 1], ["body", "asdasd"], ["created_at", 2016-07-17 06:48:30 UTC], ["updated_at", 2016-07-17 06:48:30 UTC]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 48ms (ActiveRecord: 29.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:48:30 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 178ms (Views: 173.4ms | ActiveRecord: 2.1ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 13:48:38 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lm9y9TTw84aIfwNOzLW2poQMJVkcz3jyoyMh2Augwzeztw5U9bHmeC9l34q96Z3quhZ7kSIHBT25C71r4eve1w=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:48:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 98.0ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:48:40 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 85.3ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:50:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 116.4ms | ActiveRecord: 4.0ms)


Started GET "/register" for 127.0.0.1 at 2016-07-17 13:50:09 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 150.7ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-17 13:50:32 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 106.6ms | ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2016-07-17 13:50:46 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EhNvufzZLpaJFtKvi3qIWRg+H7HUBp4Wg3ngjfgUu+Q3yxMYPZg7aC4MDmv6JqMVJiRBeerO49mZUXw+El+mBA==", "user"=>{"email"=>"kenk11", "name"=>"k@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
Unpermitted parameter: password_confirmation
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "kenk11"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (12.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 626ms (Views: 216.0ms | ActiveRecord: 6.4ms)


Started POST "/users" for 127.0.0.1 at 2016-07-17 13:50:56 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dAitHrEC1Y78RkvNRHumVsweQuwSx045FGqghpAEEk5R0NG/cEPAcFtclwk1J40a8gQcJCwPM/YOQjw1ek8Prg==", "user"=>{"email"=>"kenk11", "name"=>"kkkkkk@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "kenk11"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 319ms (Views: 129.1ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2016-07-17 13:51:06 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EL4RzwR39C+CaYtJeP5U8LOTgaXbUplQI29K4FTAT4A1Zm1uxTbh0SVzV40Jon+8jYnfbeWa5J85R9ZTvotSYA==", "user"=>{"email"=>"kenk11@mail.com", "name"=>"kkkkkk@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
Unpermitted parameter: password_confirmation
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "kenk11@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "kkkkkk@mail.com"], ["email", "kenk11@mail.com"], ["password_digest", "$2a$10$lCoSgaNCg5T62v.wDrtlPO39e58Hcdon9THa6RiuRVOybS1HzOTNS"], ["created_at", 2016-07-17 06:51:06 UTC], ["updated_at", 2016-07-17 06:51:06 UTC]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 111ms (ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:51:06 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 67ms (Views: 64.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:51:08 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 92ms (Views: 90.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:51:21 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 8 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (14.4ms)
Completed 200 OK in 101ms (Views: 93.7ms | ActiveRecord: 5.7ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 13:51:24 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fqOqjfcyM1npFOrQofIVnNz0xOTP6vlEh20dw9GxB9tbe9YsNnMmp04ONhTQrj7Q4u6aLPEihIudRYFwO/oaOw=="}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 13:51:24 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 86.1ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-17 13:51:26 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 135.5ms | ActiveRecord: 0.3ms)


Started GET "/register" for 127.0.0.1 at 2016-07-17 13:52:01 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1743ms (Views: 1741.5ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:52:05 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 85.5ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:53:02 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    14:   <% end %>
    15: </div>
    16: <div class="signup-form">
    17:   <%= form_for @user do |f| %>
    18:       <div class="form-group">
    19:         <%= f.text_field 'email', class: 'form-control', placeholder: 'Your E-mail' %>
    20:       </div>
  
app/views/sessions/new.html.erb:17:in `_app_views_sessions_new_html_erb___779372313_98536400'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.8ms)
Started GET "/login" for 127.0.0.1 at 2016-07-17 13:53:22 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 218ms (Views: 215.6ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:55:11 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 111.9ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:55:35 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 84.8ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:56:22 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 89.5ms | ActiveRecord: 0.4ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-17 13:56:29 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (22.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:57:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (3.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.7ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:57:19 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 134.5ms | ActiveRecord: 0.3ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-17 13:57:21 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (20.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (82.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 13:59:28 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (21.9ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 554ms (Views: 532.2ms | ActiveRecord: 3.0ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 13:59:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (31.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 239ms (Views: 237.6ms | ActiveRecord: 0.3ms)


Started POST "/sessions/new" for 127.0.0.1 at 2016-07-17 13:59:32 +0700
  
ActionController::RoutingError (No route matches [POST] "/sessions/new"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (16.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (66.0ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 14:00:00 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 91.7ms | ActiveRecord: 2.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:00:01 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 161.7ms | ActiveRecord: 2.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:00:19 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 92.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:05:35 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 124.1ms | ActiveRecord: 3.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:05:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 126.9ms | ActiveRecord: 1.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:05:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 86.5ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:06:17 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 111.9ms | ActiveRecord: 0.6ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:06:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 111.0ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:06:39 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 93.9ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:07:59 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 86.3ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:08:28 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 95.8ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:08:56 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (549.8ms)
Completed 500 Internal Server Error in 567ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0xb42ae1a8>:0xb2cc0850>):
     8:       </div>
     9: 
    10:       <div class="form-group">
    11:         <%= f.submit 'Login', class: 'btn btn-block btn-success' %>
    12:       </div>
    13:   <% end %>
    14: </div>
  
app/views/sessions/new.html.erb:11:in `block in _app_views_sessions_new_html_erb___278046147__647625068'
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___278046147__647625068'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (45.4ms)
Started GET "/login" for 127.0.0.1 at 2016-07-17 14:09:04 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (216.8ms)
Completed 500 Internal Server Error in 229ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `f' for #<#<Class:0xb42ae1a8>:0xb237278>):
     8:       </div>
     9: 
    10:       <div class="form-group">
    11:         <%= f.submit 'Login', class: 'btn btn-block btn-success-outline' %>
    12:       </div>
    13:   <% end %>
    14: </div>
  
app/views/sessions/new.html.erb:11:in `block in _app_views_sessions_new_html_erb___278046147_93436860'
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___278046147_93436860'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (17.4ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.4ms)
Started GET "/login" for 127.0.0.1 at 2016-07-17 14:09:40 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 99.7ms | ActiveRecord: 2.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:09:45 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 131.7ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:10:22 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 132ms (Views: 128.8ms | ActiveRecord: 0.4ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:11:54 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 144ms (Views: 141.8ms | ActiveRecord: 0.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:12:05 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 84ms (Views: 82.7ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:12:09 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 88.8ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:13:18 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 99.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:18:08 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 94.5ms | ActiveRecord: 2.7ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:18:09 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 126.1ms | ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:18:26 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 98.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:18:28 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (4.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 167ms (Views: 160.3ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:18:45 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 97ms (Views: 90.1ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:18:46 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (6.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 72.4ms | ActiveRecord: 4.9ms)


Started GET "/login" for 127.0.0.1 at 2016-07-17 14:18:47 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 150ms (Views: 148.1ms | ActiveRecord: 0.5ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2016-07-17 14:18:48 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook" for 127.0.0.1 at 2016-07-17 14:18:49 +0700
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCb6mQ_AkvqeD7OZb9RcGGAGQ9DOt2MazT4pyl8AEsTBT56uTwkDndTIhB27g5H6siQ3ZPKkiBwBlEdt04R5EEth1InqyAO5YeKNHUXXLujsVHmrZKgwEvRdCgYVrbfDV6ZFWZvuM9BaGWH7L7nWuiA1v8kGFsFkW_qP3VoIsU1CbKU-gL7b6g_nt0IxIYfipgX_KpMP4A0l1ssivoQ_fl3AUm5Y3w4OWIY2sxFyBVllOQF64PpyUglezAd2jsn1H2-7RYYgwxJw_I9yTUMVeODJ5xqlwmH3i2wBhXGZUKLJNrfUgg6YdG4fg2QYkYgwNE&state=511e886949a32c05ade8653c627b9638fd13e8988bc48efd" for 127.0.0.1 at 2016-07-17 14:18:50 +0700
(facebook) Callback phase initiated.
Processing by SessionsController#callback as HTML
  Parameters: {"code"=>"AQCb6mQ_AkvqeD7OZb9RcGGAGQ9DOt2MazT4pyl8AEsTBT56uTwkDndTIhB27g5H6siQ3ZPKkiBwBlEdt04R5EEth1InqyAO5YeKNHUXXLujsVHmrZKgwEvRdCgYVrbfDV6ZFWZvuM9BaGWH7L7nWuiA1v8kGFsFkW_qP3VoIsU1CbKU-gL7b6g_nt0IxIYfipgX_KpMP4A0l1ssivoQ_fl3AUm5Y3w4OWIY2sxFyBVllOQF64PpyUglezAd2jsn1H2-7RYYgwxJw_I9yTUMVeODJ5xqlwmH3i2wBhXGZUKLJNrfUgg6YdG4fg2QYkYgwNE", "state"=>"511e886949a32c05ade8653c627b9638fd13e8988bc48efd", "provider"=>"facebook"}
DEPRECATION WARNING: env is deprecated and will be removed from Rails 5.1 (called from callback at /home/ken/github/chat-kenk11/app/controllers/sessions_controller.rb:26)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "mrkapu001@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 34ms (ActiveRecord: 10.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:18:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (30.7ms)
Completed 200 OK in 117ms (Views: 112.5ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:19:03 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (17.6ms)
Completed 200 OK in 101ms (Views: 81.0ms | ActiveRecord: 11.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:39:16 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 7 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (31.4ms)
Completed 200 OK in 196ms (Views: 187.5ms | ActiveRecord: 6.9ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 14:39:17 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"xe5Q5jm+Rt151tRsjdN6cIG6OlkXNtrFrtensMmJuuXgNixH+P9TI97MCKj8j1E8v6BkkSn+pwq0/zsDI8KnBQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:39:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (16.9ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (Missing partial users/_new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ken/github/chat-kenk11/app/views"
):
    18:           <div class="col-sm-4">
    19:             <h3>The Dating Site for Ruby Experts</h3>
    20:             <p>CoderDating is the first dating website just for experienced Ruby on Rails engineers.</p>
    21:             <%= render 'users/new' %>
    22:             <div class="additional-links">By signing up you agree to <a href="#">Terms of Use</a> and
    23:               <a href="#">Privacy</a></div>
    24:           </div>
  
app/views/pages/index.html.erb:21:in `_app_views_pages_index_html_erb__737093574_94707050'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 14:40:13 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered pages/index.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (Missing partial users/_new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ken/github/chat-kenk11/app/views"
):
    18:           <div class="col-sm-4">
    19:             <h3>The Dating Site for Ruby Experts</h3>
    20:             <p>CoderDating is the first dating website just for experienced Ruby on Rails engineers.</p>
    21:             <%= render 'users/new' %>
    22:             <div class="additional-links">By signing up you agree to <a href="#">Terms of Use</a> and
    23:               <a href="#">Privacy</a></div>
    24:           </div>
  
app/views/pages/index.html.erb:21:in `_app_views_pages_index_html_erb__737093574__640457848'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.4ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 14:40:25 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (4.2ms)
  Rendered pages/index.html.erb within layouts/application (251.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 387ms (Views: 381.9ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:40:34 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (3.3ms)
  Rendered pages/index.html.erb within layouts/application (14.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 100.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:41:09 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (7.5ms)
  Rendered pages/index.html.erb within layouts/application (20.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 142.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:41:44 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (3.7ms)
  Rendered pages/index.html.erb within layouts/application (13.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1370ms (Views: 1366.6ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:43:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (5.8ms)
  Rendered pages/index.html.erb within layouts/application (14.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 303ms (Views: 301.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:43:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (19.3ms)
  Rendered pages/index.html.erb within layouts/application (28.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 1498ms (Views: 1495.4ms | ActiveRecord: 1.3ms)


Started GET "/images/hero" for 127.0.0.1 at 2016-07-17 14:43:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/images/hero"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (29.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (77.3ms)
Started GET "/" for 127.0.0.1 at 2016-07-17 14:43:49 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (1.4ms)
  Rendered pages/index.html.erb within layouts/application (8.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 120.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:44:52 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (1.7ms)
  Rendered pages/index.html.erb within layouts/application (176.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 307ms (Views: 305.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:45:10 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (1.7ms)
  Rendered pages/index.html.erb within layouts/application (13.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 112.9ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:45:20 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (1.8ms)
  Rendered pages/index.html.erb within layouts/application (15.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 108.6ms | ActiveRecord: 6.8ms)


Started POST "/users" for 127.0.0.1 at 2016-07-17 14:45:38 +0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/L/oZNmgKY5LxPsZQ8yv3xOwLkkjEjeYx7IydgLZ7HPZZ5TFGOE8cOzeJ90ykISTLapwgR3aSlfdmq7F6JLxkw==", "user"=>{"email"=>"oasdoaid@madmasd.com", "name"=>"dadhad", "password"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "oasdoaid@madmasd.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "dadhad"], ["email", "oasdoaid@madmasd.com"], ["password_digest", "$2a$10$8I0z1eXhZeSR.Y5f6g84puTTsszsSvec6MtwqKFf515ycvyOOW6vW"], ["created_at", 2016-07-17 07:45:38 UTC], ["updated_at", 2016-07-17 07:45:38 UTC]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 154ms (ActiveRecord: 4.7ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:45:38 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 9 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 9 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 104ms (Views: 97.1ms | ActiveRecord: 6.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-17 14:45:40 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 9]]
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 9)[0m
  [1m[36mFriendship Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (5.7ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 2], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 9], ["friend_id", 8], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (69.4ms)
Completed 200 OK in 134ms (Views: 87.7ms | ActiveRecord: 36.8ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-17 14:45:45 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 9]]
  Rendered messages/new.html.erb within layouts/application (42.1ms)
Completed 200 OK in 179ms (Views: 160.8ms | ActiveRecord: 11.8ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-17 14:45:46 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 9[0m
  Rendered messages/received.html.erb within layouts/application (5.1ms)
Completed 200 OK in 113ms (Views: 110.7ms | ActiveRecord: 0.6ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-17 14:45:47 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (4.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 9[0m
  Rendered messages/sent.html.erb within layouts/application (5.9ms)
Completed 200 OK in 148ms (Views: 136.5ms | ActiveRecord: 7.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2016-07-17 14:45:50 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cyLtJwKHRW234+D2ZW+TZpD4G+Z5sNVty2uIjpDvLm5W+pGGw8ZQkxD5PDIUM7gqruJFLkd4qKLRQxQ9eqQzjg=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2016-07-17 14:45:50 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (1.7ms)
  Rendered pages/index.html.erb within layouts/application (17.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.7ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2016-07-18 22:28:17 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_form.html.erb (30.3ms)
  Rendered pages/index.html.erb within layouts/application (134.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 471ms (Views: 404.2ms | ActiveRecord: 8.1ms)


Started GET "/login" for 127.0.0.1 at 2016-07-18 22:28:21 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 200 OK in 306ms (Views: 301.3ms | ActiveRecord: 0.8ms)


Started POST "/sessions" for 127.0.0.1 at 2016-07-18 22:28:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"b6Ypv+2L2rZMpYHxXrQ06uSD75HGHAY9avy1DVESh2Zg7GN5j06DU/UxJYUG/q+c19Nrk3P7X7S3J2TD6gGY4g==", "email"=>"ken@mail.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ken@mail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 228ms (ActiveRecord: 8.2ms)


Started GET "/" for 127.0.0.1 at 2016-07-18 22:28:25 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (6.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (27.8ms)
Completed 200 OK in 155ms (Views: 141.0ms | ActiveRecord: 8.1ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:28:28 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (13.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (116.2ms)
Completed 200 OK in 338ms (Views: 296.2ms | ActiveRecord: 38.6ms)


Started DELETE "/users/1" for 127.0.0.1 at 2016-07-18 22:28:30 +0700
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for UsersController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (2.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-18 22:32:18 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (89.5ms)
Completed 200 OK in 188ms (Views: 157.5ms | ActiveRecord: 29.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:32:21 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (114.7ms)
Completed 200 OK in 279ms (Views: 238.5ms | ActiveRecord: 37.5ms)


Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-18 22:32:22 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (53.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (138.6ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:33:19 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (34.2ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 11.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055__644468958'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055__644468958'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (13.7ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (40.5ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:34:18 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (32.8ms)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>1} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend.id), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055__640832308'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055__640832308'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (44.6ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:34:45 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (20.0ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 8.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>1} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend.id), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055_94556400'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055_94556400'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (46.9ms)
Started GET "/" for 127.0.0.1 at 2016-07-18 22:40:25 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (28.6ms)
Completed 200 OK in 113ms (Views: 97.1ms | ActiveRecord: 13.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:40:27 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (12.0ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.1ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>1} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend.id), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055_93971820'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055_93971820'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (21.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.2ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:44:24 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (26.1ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>1} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend.id), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055__645581868'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055__645581868'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (18.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (48.0ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:44:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (21.7ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 10.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>1} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend.id), method: 'delete', class: 'btn btn-info-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055__639515848'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055__639515848'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (41.4ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:51:26 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered pages/friends.html.erb within layouts/application (55.1ms)
Completed 200 OK in 160ms (Views: 133.9ms | ActiveRecord: 16.6ms)


Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-18 22:51:29 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (53.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (141.5ms)
Started DELETE "/friendships?friend_id=1" for 127.0.0.1 at 2016-07-18 22:52:18 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/friendships"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (52.5ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (156.0ms)
Started GET "/" for 127.0.0.1 at 2016-07-18 22:52:26 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (44.2ms)
Completed 200 OK in 151ms (Views: 142.0ms | ActiveRecord: 7.2ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:52:28 +0700
Processing by PagesController#friends as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/friends.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered pages/friends.html.erb within layouts/application (13.7ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 5.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/pages/friends.html.erb:18:in `block in _app_views_pages_friends_html_erb__45247055_95653620'
app/views/pages/friends.html.erb:12:in `_app_views_pages_friends_html_erb__45247055_95653620'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (14.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.3ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.6ms)
Started GET "/" for 127.0.0.1 at 2016-07-18 22:54:07 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (51.5ms)
Completed 200 OK in 162ms (Views: 151.1ms | ActiveRecord: 4.6ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:54:09 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (10.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered friendships/index.html.erb within layouts/application (37.4ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 13.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/friendships/index.html.erb:18:in `block in _app_views_friendships_index_html_erb___391749573_97701190'
app/views/friendships/index.html.erb:12:in `_app_views_friendships_index_html_erb___391749573_97701190'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (43.1ms)
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:54:21 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered friendships/index.html.erb within layouts/application (45.0ms)
Completed 200 OK in 132ms (Views: 112.1ms | ActiveRecord: 13.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:54:29 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered friendships/index.html.erb within layouts/application (18.4ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 6.1ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/friendships/index.html.erb:18:in `block in _app_views_friendships_index_html_erb___391749573_94076660'
app/views/friendships/index.html.erb:12:in `_app_views_friendships_index_html_erb___391749573_94076660'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (14.5ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (78.3ms)
Started GET "/rails/info/routes" for 127.0.0.1 at 2016-07-18 22:54:46 +0700
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [43 times] (34.0ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (48.2ms)
Completed 200 OK in 70ms (Views: 66.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-07-18 22:55:22 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (8.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 195ms (Views: 184.9ms | ActiveRecord: 9.4ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:55:23 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered friendships/index.html.erb within layouts/application (31.9ms)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 5.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"friendships", :friend_id=>#<User id: 1, name: "dasdasd", email: "dasdad", password_digest: "$2a$10$noAFotvijHgv6gVCQSXjVO9eXGRyzpds7v0PM4fZMCP...", created_at: "2016-07-15 03:07:07", updated_at: "2016-07-15 03:07:07">} missing required keys: [:id]):
    15:             <td><%= friend.email %></td>
    16:             <td>
    17:               <%= link_to 'Send message', new_user_message_path(user_id: friend.id), class: 'btn btn-info-outline' %>
    18:               <%= link_to 'Delete', friendship_path(friend_id: friend), method: 'delete', class: 'btn btn-danger-outline' %>
    19:             </td>
    20:           </tr>
    21:       <% end %>
  
app/views/friendships/index.html.erb:18:in `block in _app_views_friendships_index_html_erb___391749573_97959290'
app/views/friendships/index.html.erb:12:in `_app_views_friendships_index_html_erb___391749573_97959290'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.2ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.2ms)
Started PUT "/__web_console/repl_sessions/c750f69999b786dc727460c81c1baf71" for 127.0.0.1 at 2016-07-18 22:55:37 +0700
Started PUT "/__web_console/repl_sessions/c750f69999b786dc727460c81c1baf71" for 127.0.0.1 at 2016-07-18 22:55:45 +0700
Started PUT "/__web_console/repl_sessions/c750f69999b786dc727460c81c1baf71" for 127.0.0.1 at 2016-07-18 22:55:48 +0700
Started PUT "/__web_console/repl_sessions/c750f69999b786dc727460c81c1baf71" for 127.0.0.1 at 2016-07-18 22:56:01 +0700
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Started PUT "/__web_console/repl_sessions/c750f69999b786dc727460c81c1baf71" for 127.0.0.1 at 2016-07-18 22:56:09 +0700
Started GET "/friends" for 127.0.0.1 at 2016-07-18 22:56:18 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (6.7ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered friendships/index.html.erb within layouts/application (51.8ms)
Completed 200 OK in 135ms (Views: 104.1ms | ActiveRecord: 21.4ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-18 22:56:31 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (99.0ms)
Completed 200 OK in 302ms (Views: 292.0ms | ActiveRecord: 5.4ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-18 22:56:33 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (36.9ms)
Completed 200 OK in 192ms (Views: 180.9ms | ActiveRecord: 6.9ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-18 22:56:35 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (21.1ms)
Completed 200 OK in 148ms (Views: 142.0ms | ActiveRecord: 4.0ms)


Started GET "/messages/new" for 127.0.0.1 at 2016-07-18 22:59:47 +0700
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered messages/new.html.erb within layouts/application (28.7ms)
Completed 200 OK in 153ms (Views: 147.0ms | ActiveRecord: 1.0ms)


Started POST "/messages" for 127.0.0.1 at 2016-07-18 22:59:56 +0700
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cIVvx3e1bMREIAjJ6vXM4PHxx2Ca/yLV9ZjSzY595ilVXRNmtvR5OuM61A2bqeesz+uZqKQ3XxrvsE5+ZDb7yQ==", "message"=>{"recipient_id"=>"6", "body"=>"123123"}, "commit"=>"Send Message"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (4.3ms)[0m  [1m[32mINSERT INTO "messages" ("sender_id", "recipient_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["sender_id", 2], ["recipient_id", 6], ["body", "123123"], ["created_at", 2016-07-18 15:59:56 UTC], ["updated_at", 2016-07-18 15:59:56 UTC]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2016-07-18 22:59:56 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 107ms (Views: 101.3ms | ActiveRecord: 1.8ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-18 22:59:58 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (86.5ms)
Completed 200 OK in 202ms (Views: 192.3ms | ActiveRecord: 6.7ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-18 23:01:06 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (82.8ms)
Completed 200 OK in 243ms (Views: 226.3ms | ActiveRecord: 14.4ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-18 23:01:23 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (17.1ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `email' for nil:NilClass):
    13:       <% @messages.each do |message| %>
    14:           <tr>
    15:             <th scope="row"><%= message.sender.name %></th>
    16:             <td><%= message.recipient.email %></td>
    17:             <td><%= message.body %></td>
    18:             <td><%= time_ago_in_words message.created_at %> ago</td>
    19:           </tr>
  
app/views/messages/sent.html.erb:16:in `block in _app_views_messages_sent_html_erb___960603576_92554680'
app/views/messages/sent.html.erb:13:in `_app_views_messages_sent_html_erb___960603576_92554680'
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.0ms)
  Rendering /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/ken/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.1ms)
Started GET "/" for 127.0.0.1 at 2016-07-18 23:02:02 +0700
Processing by PagesController#index as HTML
  Rendering pages/index.html.erb within layouts/application
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  [1m[36mMessage Load (2.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2 AND "messages"."read_at" IS NULL[0m
  Rendered pages/index.html.erb within layouts/application (12.3ms)
Completed 200 OK in 109ms (Views: 98.5ms | ActiveRecord: 8.7ms)


Started GET "/messages/received" for 127.0.0.1 at 2016-07-18 23:02:05 +0700
Processing by MessagesController#received as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/received.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."recipient_id" = 2[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered messages/received.html.erb within layouts/application (35.7ms)
Completed 200 OK in 200ms (Views: 193.8ms | ActiveRecord: 4.4ms)


Started GET "/messages/sent" for 127.0.0.1 at 2016-07-18 23:02:13 +0700
Processing by MessagesController#sent as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/sent.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."sender_id" = 2[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/sent.html.erb within layouts/application (41.8ms)
Completed 200 OK in 220ms (Views: 216.2ms | ActiveRecord: 0.9ms)


Started GET "/friends" for 127.0.0.1 at 2016-07-18 23:02:56 +0700
Processing by FriendshipsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering friendships/index.html.erb within layouts/application
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."id" != 2)[0m
  [1m[36mFriendship Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 4], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 6], ["LIMIT", 1]]
  [1m[36mFriendship Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 7], ["LIMIT", 1]]
  [1m[36mFriendship Exists (6.8ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 8], ["LIMIT", 1]]
  [1m[36mFriendship Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 2], ["friend_id", 9], ["LIMIT", 1]]
  Rendered friendships/index.html.erb within layouts/application (66.4ms)
Completed 200 OK in 248ms (Views: 222.1ms | ActiveRecord: 21.5ms)


